<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simon Dobson (old posts, page 152)</title>
<style>
	@font-face {
	    font-family: "libretto-icons";
	    src:url(../assets/fonts/libretto-icons.eot);
	    src:url(../assets/fonts/libretto-icons.eot#iefix) format("embedded-opentype"),
	    url(../assets/fonts/libretto-icons.woff) format("woff"),
	    url(../assets/fonts/libretto-icons.ttf) format("truetype"),
	    url(../assets/fonts/libretto-icons.svg#libretto-icons) format("svg");
	    font-weight: normal;
	    font-style: normal;
	}
    </style>
<link rel="icon" href="../images/favicon.png" sizes="16x16">
<link rel="alternate" type="application/rss+xml" href="../rss.xml">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Sans+Mono|Libre+Baskerville|Montserrat|Playfair+Display|Tangerine">
<link rel="stylesheet" href="../assets/css/libretto_styles.css">
<link rel="stylesheet" href="../assets/css/baguetteBox.min.css">
<link rel="stylesheet" href="../assets/css/code.css">
<link rel="stylesheet" href="../assets/css/nikola_rst.css">
<link rel="stylesheet" href="../assets/css/nikola_ipython.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
</head>
<body>
    <!-- Navigation bar -->
    <header class="nav-bar"><div class="site-branding">
	    <h1 class="site-title">
		<a href="https://simondobson.org/" title="Simon Dobson" rel="home">Simon&nbsp;Dobson</a>
	    </h1>
	</div>
	<nav class="site-navigation" role="navigation"><div class="menu-toggle">
		<span class="mobile-site-title">Simon Dobson</span>
	    </div>
	    <ul class="menu">
<li><a href="../index.html">Home</a></li>
		    <li><a href="../personal/">About&nbsp;me</a></li>
		    <li><a href="../research/">Research</a></li>
		    <li><a href="../development/projects/">Software</a></li>
		    <li><a href="../writing/">Writing</a></li>
		    <li><a href="../personal/contact/">Contact</a></li>
		<li>
<a href="../rss.xml"><i class="fa fa-rss"></i></a>
	    </li>
</ul></nav></header><div class="site-content">
	    <article class="format-standard libretto-long-form"><div class="title-block post-format-icon-pin">
		    <div class="entry-meta">
			<span class="posted-on">
			    Posted on <a href="../2024/10/18/two-lisp-compilers-written-in-lisp/" rel="bookmark">Friday 18 October, 2024</a>
			</span>
		    </div>
		    <h1><a href="../2024/10/18/two-lisp-compilers-written-in-lisp/">Two Lisp compilers written in&nbsp;Lisp</a></h1>
		</div>
		<div class="entry-content">
			<div id="outline-container-org1478a92" class="outline-2">
<h2 id="org1478a92">Two Lisp compilers written in&nbsp;Lisp</h2>
<div class="outline-text-2" id="text-org1478a92">
<p>
<a href="http://www.ulisp.com/show?4W2I">A Lisp compiler to <span class="caps">ARM</span> written in&nbsp;Lisp</a>
</p>

<p>
<a href="http://www.ulisp.com/show?4Y20=">A Lisp compiler to <span class="caps">RISC</span>-V written in&nbsp;Lisp</a>
</p>

<p>
Two native-code compilers written in the <a href="http://www.ulisp.com/show?3J">uLisp</a> dialect that targets
microcontroller-class machines. Both use a combination of stack
and register allocation to get efficiency – and they&#8217;re <i>very</i>
efficient, with the compiled versions sometimes being 100x faster
than the interpreted&nbsp;code.
</p>

<p>
These are not complete ports, and indeed not on a complete or
standard underlying Lisp implementation. But it&#8217;s still fascinating
to see how <i>simple</i> it is, built as a recursive-descent tree-walker
that emits assembler directly. With careful initial design even a
compiler with no optimisation pathways can still get great speed-up
over an&nbsp;interpreter.
</p>
</div>
</div>
		</div>
	    </article>
</div>
	<div class="site-content">
	    <article class="format-standard libretto-long-form"><div class="title-block post-format-icon-pin">
		    <div class="entry-meta">
			<span class="posted-on">
			    Posted on <a href="../2024/09/27/the-different-energy-footprints-of-different-programming-languages/" rel="bookmark">Friday 27 September, 2024</a>
			</span>
		    </div>
		    <h1><a href="../2024/09/27/the-different-energy-footprints-of-different-programming-languages/">The different energy footprints of different programming&nbsp;languages</a></h1>
		</div>
		<div class="entry-content">
			<div id="outline-container-orgb8af6ca" class="outline-2">
<h2 id="orgb8af6ca">The different energy footprints of different programming&nbsp;languages</h2>
<div class="outline-text-2" id="text-orgb8af6ca">
<p>
I&#8217;ve recently been thinking about low-power computing, from <span class="caps">AI</span> and
data centres down to sensors, as part of a new initiative the
University is considering. It&#8217;s easy to forget the resource
footprint of our computing systems – especially those that are &#8220;out
of sight, out of mind&#8221; in the cloud – but there&#8217;s growing evidence
that their growth threatens the renewable energy transition. Some of
the figures for <span class="caps">AI</span> electricity and water usage are&nbsp;astonishing.
</p>

<p>
One aspect of this is the effect of choice of programming language.
I can across some work from 2017 on&nbsp;this:
</p>

<p>
Rui Pereira, Marco Couto, Francisco Ribeiro, Rui Rua, Cunha Jácome,
João Paulo Fernandes, and João Saraiva. <i><a href="https://doi.org/10.1145/3136014.3136031">Energy Efficiency across
Programming Languages: How Do Energy, Time, and Memory Relate?</a></i> In
<i>Proceedings of the 10th <span class="caps">ACM</span> <span class="caps">SIGPLAN</span> International Conference on
Software Language Engineering</i>.&nbsp;2017.
</p>

<p>
The authors compare 13 benchmarks run in 27 different languages,
with the benchmarks being chosen widely to avoid being biased by
numeric performance. I was expecting some patterns: compiled
languages doing better on performance, memory, and energy usage, for
example. But I wasn&#8217;t expecting exactly <i>how</i> widely the figures
diverged, or some of the&nbsp;details.
</p>

<p>
The following table is from the paper, annotated by me. The figures
are normalised against the best result in each category (so the top
language has value 1, and so&nbsp;on).
</p>

<p width="80%" align="center">
<img src="../attachments/fb/debea0-0913-41c2-90bc-726153de8d28/pl-energy.png" alt="pl-energy.png"></p>

<p>
The two most-used languages for web application, Python and
JavaScript, perform uniformly pretty badly: 75 times C&#8217;s energy
usage, in Python&#8217;s case. But although JavaScript does substantially
better on energy (only a factor of 4), TypeScript – which is
usually thought of as JavaScript with type pre-processing –
requires 21 times C&#8217;s energy, or 5 times JavaScript&#8217;s. Why is that?
– I can&#8217;t think of a&nbsp;reason.
</p>

<p>
But the real surprise was that &#8220;research&#8221; languages like Haskell and
Lisp both hold up well: twice C&#8217;s energy, in Lisp&#8217;s case. I don&#8217;t
think that would surprise modern Lisp programmers, who are used to
their compilers&#8217; efficiencies – but it would surprise someone used
only to the &#8220;hearsay&#8221; about Lisp. The same for Haskell, actually,
whose modern compilers really leverage the extra structure. When you
consider that both those languages are pretty much dependent on
garbage collection and so are doing substantially <i>more</i> work than the
equivalent C program, it&#8217;s&nbsp;impressive.
</p>

<p>
(Also look in the table for Racket, consistently lower than Lisp
despite their close similarities. I suspect this is a compiler
optimisation issue more than anything&nbsp;else.)
</p>

<p>
This work clearly isn&#8217;t complete or definitive. Clojure is entirely
missing, as is Scala, and there will have been compiler improvements
since 2017 for the languages with the most active developer
communities. But it&#8217;s still quite sobering that the differences are
<i>so</i> wide, and that we&#8217;ve chosen to push languages that exacerbate
energy usage rather than managing&nbsp;it.
</p>
</div>
</div>
		</div>
	    </article>
</div>
	<div class="site-content">
	    <article class="format-standard libretto-long-form"><div class="title-block post-format-icon-pin">
		    <div class="entry-meta">
			<span class="posted-on">
			    Posted on <a href="../2024/09/27/purely-functional-data-structures/" rel="bookmark">Friday 27 September, 2024</a>
			</span>
		    </div>
		    <h1><a href="../2024/09/27/purely-functional-data-structures/">Purely functional data&nbsp;structures</a></h1>
		</div>
		<div class="entry-content">
			<div id="outline-container-orge75e26b" class="outline-2">
<h2 id="orge75e26b">Purely functional data&nbsp;structures</h2>
<div class="outline-text-2" id="text-orge75e26b">
<p>
Chris Okasaki. <i>Purely Functional Data Structures</i>. Cambridge
University Press. <span class="caps">ISBN</span> 978-051153-010-4.&nbsp;1998.
</p>

<p>
Not a Lisp book <i>per se</i>, but a treatment of data structures from a
functional programming perspective. The code examples are in
Standard <span class="caps">ML</span>, but the ideas apply strongly to Lisp and Scheme.
Definitely a useful source for an alternative take on data
structuring that doesn&#8217;t start from assumptions of imperative
programming and&nbsp;mutability.
</p>
</div>
</div>
		</div>
	    </article>
</div>
	<div class="site-content">
	    <article class="format-standard libretto-long-form"><div class="title-block post-format-icon-pin">
		    <div class="entry-meta">
			<span class="posted-on">
			    Posted on <a href="../2024/09/27/lisp-as-the-maxwell1s-equations-of-software/" rel="bookmark">Friday 27 September, 2024</a>
			</span>
		    </div>
		    <h1><a href="../2024/09/27/lisp-as-the-maxwell1s-equations-of-software/">Lisp as the Maxwell&#8217;s equations of&nbsp;software</a></h1>
		</div>
		<div class="entry-content">
			<div id="outline-container-orgbfd6534" class="outline-2">
<h2 id="orgbfd6534">Lisp as the Maxwell&#8217;s equations of&nbsp;software</h2>
<div class="outline-text-2" id="text-orgbfd6534">
<p>
<a href="https://michaelnielsen.org/ddi/lisp-as-the-maxwells-equations-of-software/">Lisp as the Maxwell’s equations of software –&nbsp;<span class="caps">DDI</span></a>
</p>

<p>
A take on Lisp as the computational version of fundamental
equations in physics. The claim is that learning Lisp is a
foundational skill, and this page goes on to develop a
&#8220;TiddlyLisp&#8221; interpreter in Python. As you&#8217;d expect this isn&#8217;t an
espcially practical Lisp: but it&#8217;s remarkably functional, and I
suspect will demystify Lisp for programmers familiar with
interpreters for other&nbsp;languages.
</p>

<p>
See also a <a href="https://queue.acm.org/detail.cfm?id=1039523">conversation with Alan Kay</a> where he uses the &#8220;Maxwell&#8217;s&nbsp;equations&#8221;:
</p>

<blockquote>
<p>
That was the big revelation to me when I was in graduate
school – when I finally understood that the half page of code on the
bottom of page 13 of the Lisp 1.5 manual was Lisp in itself. These
were “Maxwell’s Equations of Software!” This is the whole world of
programming in a few lines that I can put my hand&nbsp;over.
</p>
</blockquote>

<p>
And in the second half of this article, the Lisp interpreter in
Python is translated into a Lisp interpreter in Lisp, which is a
very concrete way of showing how metacircularity can work
in <a href="/2024/03/07/recursive-functions-of-symbolic-expressions-and-their-computation-by-machine-part-i/">McCarthy&#8217;s original style</a>.
</p>
</div>
</div>
		</div>
	    </article>
</div>
	<div class="site-content">
	    <article class="format-standard libretto-long-form"><div class="title-block post-format-icon-pin">
		    <div class="entry-meta">
			<span class="posted-on">
			    Posted on <a href="../goodreads/venice-city-of-pictures/" rel="bookmark">Thursday 26 September, 2024</a>
			</span>
		    </div>
		    <h1><a href="../goodreads/venice-city-of-pictures/">Venice: City of&nbsp;Pictures</a></h1>
		</div>
		<div class="entry-content">
			<div>
    <div>
      <img src="https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1700780377l/123001252._SX98_.jpg" style="float: left; margin-right: 10px"><h2>
	Martin&nbsp;Gayford
      </h2>
    </div>
    <p>
      A history of Venetian art from the 15th century onwards. This covers the golden era of Venice as a centre for painting and sculpture that exported its style, technique, and artists throughout Italy and beyond.<br><br>The focus is sufficiently narrow to let a reader with only a fairly superficial knowledge of art history (like me) to see the progression in the styles and concerns of the artists being profiled. Moving from Bellini to Giorgone to Titian to Tintoretto, with copious illustrations, makes their relationships clear in ways that broader histories obscure.<br><br>There are some deep dives into specific pictures, such as Veronese&#8217;s <i>Last supper</i>, plus consideration of the city itself as a stage for art, and the role of women artists who achieved a surprising (for the period) fame and appreciation amongst collectors. The history is brought up to date by considering how modern artists have painted Venice, as well as the impact that the <i>biennalle</i> has had on the careers of recent artists.<br><br>All in all this is a fabulous book, gorgeously illustrated, with chapters self-contained enough to be dipped-into, but with depths that capture how artists and their art evolve over their own&nbsp;lifetimes.
      </p>
<p>
	5/5.
	  Finished Thursday 26 September,&nbsp;2024.
	</p>
<p>
	  (Originally published on <a href="https://www.goodreads.com/review/show/5949474369?utm_medium=api&amp;utm_source=rss">Goodreads</a>.)
  </p>
</div>
		</div>
	    </article>
</div>
    <!-- Lower Navigation links -->
    <nav class="site-content navigation-post" role="navigation"><div class="previous">
		<a href="index-151.html" rel="prev">
		    <span class="meta-nav">Older Entries</span>		</a>
	    </div>
	    <div class="next">
		<a href="index-153.html" rel="next">
		    <span class="meta-nav">Newer Entries</span>		</a>
	    </div>
    </nav><!-- Page Footer --><section class="footer-sidebar clear" role="complementary"><div class="widget-block">
	    <aside class="widget"><h2 class="widget-title">Simon&nbsp;Dobson</h2>
		<div class="widget-text">Aut tace aut loquere meliora silentio</div>
	    </aside>
</div>
    </section><!-- Extra JavaScript --><!-- Site Attributions --><footer class="site-footer" role="contentinfo"><div class="site-info">
	    <p></p>
	    <p>
	      Built with free and open-source software.
	      Powered by <a href="https://getnikola.com/">Nikola</a> using a theme based on
	      <a href="https://themes.getnikola.com/v7/libretto/">Libretto</a>.
	    </p>
	    <p>
	      All content Copyright © 2010–2025 Simon Dobson and licensed under
	      <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><span class="caps">CC</span>-<span class="caps">BY</span>-<span class="caps">NC</span>-<span class="caps">SA</span>-4.0</a>
	      unless otherwise&nbsp;noted.
	    </p>
	</div>
	<div class="social">
	    <ul class="menu"></ul>
</div>
    </footer>
</body>
</html>