%!PS-Adobe-2.0
%%Creator: dvips(k) 5.85 Copyright 1999 Radical Eye Software
%%Title: final-tr.dvi
%%Pages: 16
%%PageOrder: Ascend
%%BoundingBox: 0 0 596 842
%%DocumentFonts: Times-Bold Times-Roman Times-Italic Courier
%%DocumentPaperSizes: a4
%%EndComments
%DVIPSWebPage: (www.radicaleye.com)
%DVIPSCommandLine: dvips -t a4 -o
%+ /local/dobsons/projects/ions/ecoop00/final-tr.ps final-tr.dvi
%DVIPSParameters: dpi=600, compressed
%DVIPSSource:  TeX output 2000.06.22:0904
%%BeginProcSet: texc.pro
%!
/TeXDict 300 dict def TeXDict begin/N{def}def/B{bind def}N/S{exch}N/X{S
N}B/A{dup}B/TR{translate}N/isls false N/vsize 11 72 mul N/hsize 8.5 72
mul N/landplus90{false}def/@rigin{isls{[0 landplus90{1 -1}{-1 1}ifelse 0
0 0]concat}if 72 Resolution div 72 VResolution div neg scale isls{
landplus90{VResolution 72 div vsize mul 0 exch}{Resolution -72 div hsize
mul 0}ifelse TR}if Resolution VResolution vsize -72 div 1 add mul TR[
matrix currentmatrix{A A round sub abs 0.00001 lt{round}if}forall round
exch round exch]setmatrix}N/@landscape{/isls true N}B/@manualfeed{
statusdict/manualfeed true put}B/@copies{/#copies X}B/FMat[1 0 0 -1 0 0]
N/FBB[0 0 0 0]N/nn 0 N/IEn 0 N/ctr 0 N/df-tail{/nn 8 dict N nn begin
/FontType 3 N/FontMatrix fntrx N/FontBBox FBB N string/base X array
/BitMaps X/BuildChar{CharBuilder}N/Encoding IEn N end A{/foo setfont}2
array copy cvx N load 0 nn put/ctr 0 N[}B/sf 0 N/df{/sf 1 N/fntrx FMat N
df-tail}B/dfs{div/sf X/fntrx[sf 0 0 sf neg 0 0]N df-tail}B/E{pop nn A
definefont setfont}B/Cw{Cd A length 5 sub get}B/Ch{Cd A length 4 sub get
}B/Cx{128 Cd A length 3 sub get sub}B/Cy{Cd A length 2 sub get 127 sub}
B/Cdx{Cd A length 1 sub get}B/Ci{Cd A type/stringtype ne{ctr get/ctr ctr
1 add N}if}B/id 0 N/rw 0 N/rc 0 N/gp 0 N/cp 0 N/G 0 N/CharBuilder{save 3
1 roll S A/base get 2 index get S/BitMaps get S get/Cd X pop/ctr 0 N Cdx
0 Cx Cy Ch sub Cx Cw add Cy setcachedevice Cw Ch true[1 0 0 -1 -.1 Cx
sub Cy .1 sub]/id Ci N/rw Cw 7 add 8 idiv string N/rc 0 N/gp 0 N/cp 0 N{
rc 0 ne{rc 1 sub/rc X rw}{G}ifelse}imagemask restore}B/G{{id gp get/gp
gp 1 add N A 18 mod S 18 idiv pl S get exec}loop}B/adv{cp add/cp X}B
/chg{rw cp id gp 4 index getinterval putinterval A gp add/gp X adv}B/nd{
/cp 0 N rw exit}B/lsh{rw cp 2 copy get A 0 eq{pop 1}{A 255 eq{pop 254}{
A A add 255 and S 1 and or}ifelse}ifelse put 1 adv}B/rsh{rw cp 2 copy
get A 0 eq{pop 128}{A 255 eq{pop 127}{A 2 idiv S 128 and or}ifelse}
ifelse put 1 adv}B/clr{rw cp 2 index string putinterval adv}B/set{rw cp
fillstr 0 4 index getinterval putinterval adv}B/fillstr 18 string 0 1 17
{2 copy 255 put pop}for N/pl[{adv 1 chg}{adv 1 chg nd}{1 add chg}{1 add
chg nd}{adv lsh}{adv lsh nd}{adv rsh}{adv rsh nd}{1 add adv}{/rc X nd}{
1 add set}{1 add clr}{adv 2 chg}{adv 2 chg nd}{pop nd}]A{bind pop}
forall N/D{/cc X A type/stringtype ne{]}if nn/base get cc ctr put nn
/BitMaps get S ctr S sf 1 ne{A A length 1 sub A 2 index S get sf div put
}if put/ctr ctr 1 add N}B/I{cc 1 add D}B/bop{userdict/bop-hook known{
bop-hook}if/SI save N @rigin 0 0 moveto/V matrix currentmatrix A 1 get A
mul exch 0 get A mul add .99 lt{/QV}{/RV}ifelse load def pop pop}N/eop{
SI restore userdict/eop-hook known{eop-hook}if showpage}N/@start{
userdict/start-hook known{start-hook}if pop/VResolution X/Resolution X
1000 div/DVImag X/IEn 256 array N 2 string 0 1 255{IEn S A 360 add 36 4
index cvrs cvn put}for pop 65781.76 div/vsize X 65781.76 div/hsize X}N
/p{show}N/RMat[1 0 0 -1 0 0]N/BDot 260 string N/Rx 0 N/Ry 0 N/V{}B/RV/v{
/Ry X/Rx X V}B statusdict begin/product where{pop false[(Display)(NeXT)
(LaserWriter 16/600)]{A length product length le{A length product exch 0
exch getinterval eq{pop true exit}if}{pop}ifelse}forall}{false}ifelse
end{{gsave TR -.1 .1 TR 1 1 scale Rx Ry false RMat{BDot}imagemask
grestore}}{{gsave TR -.1 .1 TR Rx Ry scale 1 1 false RMat{BDot}
imagemask grestore}}ifelse B/QV{gsave newpath transform round exch round
exch itransform moveto Rx 0 rlineto 0 Ry neg rlineto Rx neg 0 rlineto
fill grestore}B/a{moveto}B/delta 0 N/tail{A/delta X 0 rmoveto}B/M{S p
delta add tail}B/b{S p tail}B/c{-4 M}B/d{-3 M}B/e{-2 M}B/f{-1 M}B/g{0 M}
B/h{1 M}B/i{2 M}B/j{3 M}B/k{4 M}B/w{0 rmoveto}B/l{p -4 w}B/m{p -3 w}B/n{
p -2 w}B/o{p -1 w}B/q{p 1 w}B/r{p 2 w}B/s{p 3 w}B/t{p 4 w}B/x{0 S
rmoveto}B/y{3 2 roll p a}B/bos{/SS save N}B/eos{SS restore}B end

%%EndProcSet
%%BeginProcSet: 8r.enc
% @@psencodingfile@{
%   author = "S. Rahtz, P. MacKay, Alan Jeffrey, B. Horn, K. Berry",
%   version = "0.6",
%   date = "1 July 1998",
%   filename = "8r.enc",
%   email = "tex-fonts@@tug.org",
%   docstring = "Encoding for TrueType or Type 1 fonts
%                to be used with TeX."
% @}
% 
% Idea is to have all the characters normally included in Type 1 fonts
% available for typesetting. This is effectively the characters in Adobe
% Standard Encoding + ISO Latin 1 + extra characters from Lucida.
% 
% Character code assignments were made as follows:
% 
% (1) the Windows ANSI characters are almost all in their Windows ANSI
% positions, because some Windows users cannot easily reencode the
% fonts, and it makes no difference on other systems. The only Windows
% ANSI characters not available are those that make no sense for
% typesetting -- rubout (127 decimal), nobreakspace (160), softhyphen
% (173). quotesingle and grave are moved just because it's such an
% irritation not having them in TeX positions.
% 
% (2) Remaining characters are assigned arbitrarily to the lower part
% of the range, avoiding 0, 10 and 13 in case we meet dumb software.
% 
% (3) Y&Y Lucida Bright includes some extra text characters; in the
% hopes that other PostScript fonts, perhaps created for public
% consumption, will include them, they are included starting at 0x12.
% 
% (4) Remaining positions left undefined are for use in (hopefully)
% upward-compatible revisions, if someday more characters are generally
% available.
% 
% (5) hyphen appears twice for compatibility with both 
% ASCII and Windows.
% 
/TeXBase1Encoding [
% 0x00 (encoded characters from Adobe Standard not in Windows 3.1)
  /.notdef /dotaccent /fi /fl
  /fraction /hungarumlaut /Lslash /lslash
  /ogonek /ring /.notdef
  /breve /minus /.notdef 
% These are the only two remaining unencoded characters, so may as
% well include them.
  /Zcaron /zcaron 
% 0x10
 /caron /dotlessi 
% (unusual TeX characters available in, e.g., Lucida Bright)
 /dotlessj /ff /ffi /ffl 
 /.notdef /.notdef /.notdef /.notdef
 /.notdef /.notdef /.notdef /.notdef
 % very contentious; it's so painful not having quoteleft and quoteright
 % at 96 and 145 that we move the things normally found there to here.
 /grave /quotesingle 
% 0x20 (ASCII begins)
 /space /exclam /quotedbl /numbersign
 /dollar /percent /ampersand /quoteright
 /parenleft /parenright /asterisk /plus /comma /hyphen /period /slash
% 0x30
 /zero /one /two /three /four /five /six /seven
 /eight /nine /colon /semicolon /less /equal /greater /question
% 0x40
 /at /A /B /C /D /E /F /G /H /I /J /K /L /M /N /O
% 0x50
 /P /Q /R /S /T /U /V /W
 /X /Y /Z /bracketleft /backslash /bracketright /asciicircum /underscore
% 0x60
 /quoteleft /a /b /c /d /e /f /g /h /i /j /k /l /m /n /o
% 0x70
 /p /q /r /s /t /u /v /w
 /x /y /z /braceleft /bar /braceright /asciitilde
 /.notdef % rubout; ASCII ends
% 0x80
 /.notdef /.notdef /quotesinglbase /florin
 /quotedblbase /ellipsis /dagger /daggerdbl
 /circumflex /perthousand /Scaron /guilsinglleft
 /OE /.notdef /.notdef /.notdef
% 0x90
 /.notdef /.notdef /.notdef /quotedblleft
 /quotedblright /bullet /endash /emdash
 /tilde /trademark /scaron /guilsinglright
 /oe /.notdef /.notdef /Ydieresis
% 0xA0
 /.notdef % nobreakspace
 /exclamdown /cent /sterling
 /currency /yen /brokenbar /section
 /dieresis /copyright /ordfeminine /guillemotleft
 /logicalnot
 /hyphen % Y&Y (also at 45); Windows' softhyphen
 /registered
 /macron
% 0xD0
 /degree /plusminus /twosuperior /threesuperior
 /acute /mu /paragraph /periodcentered
 /cedilla /onesuperior /ordmasculine /guillemotright
 /onequarter /onehalf /threequarters /questiondown
% 0xC0
 /Agrave /Aacute /Acircumflex /Atilde /Adieresis /Aring /AE /Ccedilla
 /Egrave /Eacute /Ecircumflex /Edieresis
 /Igrave /Iacute /Icircumflex /Idieresis
% 0xD0
 /Eth /Ntilde /Ograve /Oacute
 /Ocircumflex /Otilde /Odieresis /multiply
 /Oslash /Ugrave /Uacute /Ucircumflex
 /Udieresis /Yacute /Thorn /germandbls
% 0xE0
 /agrave /aacute /acircumflex /atilde
 /adieresis /aring /ae /ccedilla
 /egrave /eacute /ecircumflex /edieresis
 /igrave /iacute /icircumflex /idieresis
% 0xF0
 /eth /ntilde /ograve /oacute
 /ocircumflex /otilde /odieresis /divide
 /oslash /ugrave /uacute /ucircumflex
 /udieresis /yacute /thorn /ydieresis
] def

%%EndProcSet
%%BeginProcSet: texps.pro
%!
TeXDict begin/rf{findfont dup length 1 add dict begin{1 index/FID ne 2
index/UniqueID ne and{def}{pop pop}ifelse}forall[1 index 0 6 -1 roll
exec 0 exch 5 -1 roll VResolution Resolution div mul neg 0 0]/Metrics
exch def dict begin Encoding{exch dup type/integertype ne{pop pop 1 sub
dup 0 le{pop}{[}ifelse}{FontMatrix 0 get div Metrics 0 get div def}
ifelse}forall Metrics/Metrics currentdict end def[2 index currentdict
end definefont 3 -1 roll makefont/setfont cvx]cvx def}def/ObliqueSlant{
dup sin S cos div neg}B/SlantFont{4 index mul add}def/ExtendFont{3 -1
roll mul exch}def/ReEncodeFont{CharStrings rcheck{/Encoding false def
dup[exch{dup CharStrings exch known not{pop/.notdef/Encoding true def}
if}forall Encoding{]exch pop}{cleartomark}ifelse}if/Encoding exch def}
def end

%%EndProcSet
%%BeginProcSet: special.pro
%!
TeXDict begin/SDict 200 dict N SDict begin/@SpecialDefaults{/hs 612 N
/vs 792 N/ho 0 N/vo 0 N/hsc 1 N/vsc 1 N/ang 0 N/CLIP 0 N/rwiSeen false N
/rhiSeen false N/letter{}N/note{}N/a4{}N/legal{}N}B/@scaleunit 100 N
/@hscale{@scaleunit div/hsc X}B/@vscale{@scaleunit div/vsc X}B/@hsize{
/hs X/CLIP 1 N}B/@vsize{/vs X/CLIP 1 N}B/@clip{/CLIP 2 N}B/@hoffset{/ho
X}B/@voffset{/vo X}B/@angle{/ang X}B/@rwi{10 div/rwi X/rwiSeen true N}B
/@rhi{10 div/rhi X/rhiSeen true N}B/@llx{/llx X}B/@lly{/lly X}B/@urx{
/urx X}B/@ury{/ury X}B/magscale true def end/@MacSetUp{userdict/md known
{userdict/md get type/dicttype eq{userdict begin md length 10 add md
maxlength ge{/md md dup length 20 add dict copy def}if end md begin
/letter{}N/note{}N/legal{}N/od{txpose 1 0 mtx defaultmatrix dtransform S
atan/pa X newpath clippath mark{transform{itransform moveto}}{transform{
itransform lineto}}{6 -2 roll transform 6 -2 roll transform 6 -2 roll
transform{itransform 6 2 roll itransform 6 2 roll itransform 6 2 roll
curveto}}{{closepath}}pathforall newpath counttomark array astore/gc xdf
pop ct 39 0 put 10 fz 0 fs 2 F/|______Courier fnt invertflag{PaintBlack}
if}N/txpose{pxs pys scale ppr aload pop por{noflips{pop S neg S TR pop 1
-1 scale}if xflip yflip and{pop S neg S TR 180 rotate 1 -1 scale ppr 3
get ppr 1 get neg sub neg ppr 2 get ppr 0 get neg sub neg TR}if xflip
yflip not and{pop S neg S TR pop 180 rotate ppr 3 get ppr 1 get neg sub
neg 0 TR}if yflip xflip not and{ppr 1 get neg ppr 0 get neg TR}if}{
noflips{TR pop pop 270 rotate 1 -1 scale}if xflip yflip and{TR pop pop
90 rotate 1 -1 scale ppr 3 get ppr 1 get neg sub neg ppr 2 get ppr 0 get
neg sub neg TR}if xflip yflip not and{TR pop pop 90 rotate ppr 3 get ppr
1 get neg sub neg 0 TR}if yflip xflip not and{TR pop pop 270 rotate ppr
2 get ppr 0 get neg sub neg 0 S TR}if}ifelse scaleby96{ppr aload pop 4
-1 roll add 2 div 3 1 roll add 2 div 2 copy TR .96 dup scale neg S neg S
TR}if}N/cp{pop pop showpage pm restore}N end}if}if}N/normalscale{
Resolution 72 div VResolution 72 div neg scale magscale{DVImag dup scale
}if 0 setgray}N/psfts{S 65781.76 div N}N/startTexFig{/psf$SavedState
save N userdict maxlength dict begin/magscale true def normalscale
currentpoint TR/psf$ury psfts/psf$urx psfts/psf$lly psfts/psf$llx psfts
/psf$y psfts/psf$x psfts currentpoint/psf$cy X/psf$cx X/psf$sx psf$x
psf$urx psf$llx sub div N/psf$sy psf$y psf$ury psf$lly sub div N psf$sx
psf$sy scale psf$cx psf$sx div psf$llx sub psf$cy psf$sy div psf$ury sub
TR/showpage{}N/erasepage{}N/copypage{}N/p 3 def @MacSetUp}N/doclip{
psf$llx psf$lly psf$urx psf$ury currentpoint 6 2 roll newpath 4 copy 4 2
roll moveto 6 -1 roll S lineto S lineto S lineto closepath clip newpath
moveto}N/endTexFig{end psf$SavedState restore}N/@beginspecial{SDict
begin/SpecialSave save N gsave normalscale currentpoint TR
@SpecialDefaults count/ocount X/dcount countdictstack N}N/@setspecial{
CLIP 1 eq{newpath 0 0 moveto hs 0 rlineto 0 vs rlineto hs neg 0 rlineto
closepath clip}if ho vo TR hsc vsc scale ang rotate rwiSeen{rwi urx llx
sub div rhiSeen{rhi ury lly sub div}{dup}ifelse scale llx neg lly neg TR
}{rhiSeen{rhi ury lly sub div dup scale llx neg lly neg TR}if}ifelse
CLIP 2 eq{newpath llx lly moveto urx lly lineto urx ury lineto llx ury
lineto closepath clip}if/showpage{}N/erasepage{}N/copypage{}N newpath}N
/@endspecial{count ocount sub{pop}repeat countdictstack dcount sub{end}
repeat grestore SpecialSave restore end}N/@defspecial{SDict begin}N
/@fedspecial{end}B/li{lineto}B/rl{rlineto}B/rc{rcurveto}B/np{/SaveX
currentpoint/SaveY X N 1 setlinecap newpath}N/st{stroke SaveX SaveY
moveto}N/fil{fill SaveX SaveY moveto}N/ellipse{/endangle X/startangle X
/yrad X/xrad X/savematrix matrix currentmatrix N TR xrad yrad scale 0 0
1 startangle endangle arc savematrix setmatrix}N end

%%EndProcSet
TeXDict begin 39158280 55380996 1000 600 600 (final-tr.dvi)
@start /Fa 130[45 1[45 3[45 2[45 45 45 1[45 45 45 45
45 2[45 1[45 1[45 45 45 45 45 28[45 1[45 45 3[45 1[45
12[45 4[45 45 40[{TeXBase1Encoding ReEncodeFont}26 74.7198
/Courier rf /Fb 138[46 28 32 2[46 42 46 1[23 2[23 46
42 1[37 46 2[42 19[78 8[60 2[60 1[42 9[42 42 42 42 42
2[21 46[{TeXBase1Encoding ReEncodeFont}23 83.022 /Times-Bold
rf /Fc 130[50 1[50 50 50 50 1[50 50 50 50 50 1[50 50
50 50 50 1[50 50 1[50 50 50 50 50 50 50 13[50 13[50 50
50 50 50 18[50 50 45[{TeXBase1Encoding ReEncodeFont}32
83.022 /Courier rf
%DVIPSBitmapFont: Fd cmex9 9 6
/Fd 6 56 df<B612C0A600FCC8FCB3B3B3B3B3B3B31A85688133>50
D<B612C0A6C7120FB3B3B3B3B3B3B31A85808133>I<12FCB3B3B3B3B3B3B3B612C0A61A
85688233>I<EC0FC0B3B3B3B3B3B3B3B6FCA61A85808233>I<12FCB3B3AB062F688033>
I<12FCB3B3AB062F6C8033>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fe cmmi5 5 7
/Fe 7 108 df<EC0380A21407140F81141F1437A21467ECC7E0A2EB0183EB0303A21306
010C7FA2EB1801EB3FFF5BEB600101C07F000113005B48C7FC5A5A3AFFC00FFFC0168022
1D7C9C2B>65 D<0003B512F815FE3A003E001F80ED07C0ED03E0150149EB00F0A216F8A2
5BA4484814F01501A216E04848130316C0ED0780ED0F004848131E5D15F8EC07E0B61280
02FCC7FC251C7C9B2E>68 D<3801FFFC14F838001F00A4133EA45BA45BA4485AA4485AA4
EA7FFE12FF161C7D9B1A>73 D<9039FFF80FFEA290390FC003E0D907E0130015066D6C5A
5D6D6C5A15E0903800FDC0ECFF806EC7FC80A281147FECEFC0EB01CF90380307E0130649
6C7E1318496C7E136048486C7E0007803A7FF007FFE012FF271C7D9B2E>88
D<137013F8A213F013E01300A6EA0F80EA1FC0EA31E01261A2EAC3C01203EA0780A3EA0F
001308EA1E18A213301370EA0FE0EA07800D1D7D9C16>105 D<EB0180EB03C01307A2EB
038090C7FCA6137CEA01FEEA038FEA070F1206120C1200A2131EA45BA45BA4EA70F012F8
EAF9E0485AB45A007EC7FC12257E9C18>I<EA1FE0A212035BA4485AA4380F00F8EB01FC
EB070CEB0C1C381E383CEB607CEA1FC0EBE038383FF800EA3C7C131E14040078130CA214
18130F00F013F0386003E0161D7C9C1F>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Ff cmsy7 7 5
/Ff 5 104 df<49B512FE130F133F01FFC8FCEA01F8EA03E0EA078048C9FC121E121C12
3C123812781270A212F05AA77E1270A212781238123C121C121E7E6C7EEA03E0EA01F86C
B4FC013FB512FE130F130190C9FCAB003FB612FE5A7E27357AA734>18
D<13E0EA01F0EA03F8A3EA07F0A313E0A2120F13C0A3EA1F80A21300A25A123EA35AA312
7812F8A25A12100D1E7D9F13>48 D<49B5FC130F133F01FFC7FCEA01F8EA03E0EA078048
C8FC121E121C123C123812781270A212F05AA2B7FCA300E0C8FCA27E1270A21278123812
3C121C121E7E6C7EEA03E0EA01F86CB4FC013FB5FC130F130120277AA12D>50
D<147EEB03FEEB0FE0EB1F00133E5BB35BA2485AEA07E0EAFF8000FCC7FCB47EEA07E0EA
01F06C7EA2137CB37F7FEB0FE0EB03FEEB007E173B7BAB22>102
D<12FCB47EEA0FE0EA01F06C7E137CB37FA27FEB0FC0EB03FEEB007EEB03FEEB0FC0EB1F
00133EA25BB35B485AEA0FE0EAFF8000FCC7FC173B7BAB22>I E
%EndDVIPSBitmapFont
/Fg 204[25 25 25 49[{TeXBase1Encoding ReEncodeFont}3
49.8132 /Times-Roman rf /Fh 204[29 29 29 49[{
TeXBase1Encoding ReEncodeFont}3 58.1154 /Times-Roman
rf
%DVIPSBitmapFont: Fi cmsy5 5 1
/Fi 1 49 df<EA0380EA07C0A3EA0F80A313005A121EA2123E123CA212381278A21270A2
5AA20A157D9612>48 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fj cmsy10 10 5
/Fj 5 104 df<007FB812F8B912FCA26C17F8CCFCAE007FB812F8B912FCA26C17F8CCFC
AE007FB812F8B912FCA26C17F836287BA841>17 D<181EA4181F84A285180785727EA272
7E727E85197E85F11F80F10FC0F107F0007FBA12FCBCFCA26C19FCCCEA07F0F10FC0F11F
80F13F00197E61614E5A4E5AA24E5A61180F96C7FCA260181EA4482C7BAA53>33
D<173CA2173E171E171F8384717E170384717E717E187C007FB812FEBAFC856C84CBEA03
F0727EF000FEF13F80F11FE0F107F8F101FFA2F107F8F11FE0F13F80F1FE00F001F84E5A
007FB912C0BA5A96C7FC6C5FCB127C604D5A4D5A6017074D5A95C8FC5F171E173E173CA2
48307BAC53>41 D<EC01F8140FEC3F80ECFC00495A495A495AA2130F5CB3A7131F5C133F
49C7FC13FEEA03F8EA7FE048C8FCEA7FE0EA03F8EA00FE137F6D7E131F80130FB3A78013
07A26D7E6D7E6D7EEC3F80EC0FF814011D537ABD2A>102 D<12FCEAFFC0EA07F0EA01FC
EA007E7F80131F80130FB3A7801307806D7E6D7EEB007EEC1FF0EC07F8EC1FF0EC7E0049
5A495A495A5C130F5CB3A7131F5C133F91C7FC137E485AEA07F0EAFFC000FCC8FC1D537A
BD2A>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fk cmr10 10 8
/Fk 8 94 df<146014E0EB01C0EB0380EB0700130E131E5B5BA25B485AA2485AA212075B
120F90C7FCA25A121EA2123EA35AA65AB2127CA67EA3121EA2121F7EA27F12077F1203A2
6C7EA26C7E1378A27F7F130E7FEB0380EB01C0EB00E01460135278BD20>40
D<12C07E12707E7E7E120F6C7E6C7EA26C7E6C7EA21378A2137C133C133E131EA2131F7F
A21480A3EB07C0A6EB03E0B2EB07C0A6EB0F80A31400A25B131EA2133E133C137C1378A2
5BA2485A485AA2485A48C7FC120E5A5A5A5A5A13527CBD20>I<15301578B3A6007FB812
F8B912FCA26C17F8C80078C8FCB3A6153036367BAF41>43 D<EB01C013031307131F13FF
B5FCA2131F1200B3B3A8497E007FB512F0A31C3879B72A>49 D<121C127FEAFF80A5EA7F
00121CC7FCB2121C127FEAFF80A5EA7F00121C092479A317>58 D<007FB812F8B912FCA2
6C17F8CCFCAE007FB812F8B912FCA26C17F836167B9F41>61 D<EAFFF8A4EAF000B3B3B3
B3A3EAFFF8A40D5378BD17>91 D<EAFFF8A4EA0078B3B3B3B3A3EAFFF8A40D537FBD17>
93 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fl cmsy6 6 4
/Fl 4 92 df<B712C0A322037A8D30>0 D<EA01E0EA03F0A4EA07E0A213C0120FA21380
A2EA1F00A2121EA2123E123CA25AA3127012F05A12600C1A7E9B12>48
D<903807FFF0133F5BD801FCC7FCEA03E0485A48C8FC121E121C123C5A1270A212F05AA2
B612F0A300E0C8FCA27E1270A212787E121C121E7E6C7EEA03E0EA01FC6CB512F0133F13
071C237A9D2A>50 D<0060140300E01407B3A46C140F0070140E0078141E6C143C001F14
F8390FF00FF06CB512E00001148039001FF80020207C9E2A>91 D
E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fm cmr9 9 7
/Fm 7 94 df<14C01301EB0380EB0F00130E5B133C5B5BA2485A485AA212075B120F90C7
FC5AA2121E123EA3123C127CA55AB0127CA5123C123EA3121E121FA27E7F12077F1203A2
6C7E6C7EA213787F131C7F130FEB0380EB01C01300124A79B71E>40
D<12C07E1270123C121C7E120F6C7E6C7EA26C7E6C7EA27F1378137C133C133EA2131E13
1FA37F1480A5EB07C0B0EB0F80A514005BA3131E133EA2133C137C137813F85BA2485A48
5AA2485A48C7FC120E5A123C12705A5A124A7CB71E>I<13075B5B137FEA07FFB5FC13BF
EAF83F1200B3B3A2497E007FB51280A319327AB126>49 D<123C127E12FFA4127E123C12
00B0123C127E12FFA4127E123C08207A9F15>58 D<007FB812C0B912E0A26C17C0CCFCAC
007FB812C0B912E0A26C17C033147C9C3C>61 D<EAFFF0A4EAF000B3B3B3ADEAFFF0A40C
4B79B715>91 D<EAFFF0A41200B3B3B3AD12FFA40C4B7FB715>93
D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fn cmmi9 9 33
/Fn 33 123 df<010FB712F0A218E0903A003FC0001F170317015D1700147F18C092C8FC
A25CA25CA20101150118804A91C7FCA21303A25CA21307A25CA2130FA25CA2131FA25CA2
133FA25CA2137FA291CAFCA25BA25B487EB6FCA334337DB22F>0
D<137CEB7F80EB1FE0130F6D7EA26D7EA36D7EA36D7EA28080A26E7EA36E7EA281140FA2
6E7EA381140F141FEC3DFC1479ECF8FEEB01F0EB03E0903807C07FEB0F80EB1F00013EEB
3F80137E4914C04848131F485A4848EB0FE0EA1FC0123F4848EB07F048C7FC4815F84814
0348EC01FC48140026357CB32D>21 D<01F014E0D803FCEB01F0D8071EEB03F8EA0E1F12
1C0038EB800100301400013F1478007090C7FC006015385BD8E07E14301240EA00FE4914
70000115605BA216E0000315C04913011680150316005D150E150C151C00015C6D5B6C6C
5B90387E03C0D91FFFC7FCEB03FC25227EA02A>29 D<ECFFC0010713F090381F00F80178
133048481300EA03C0485A48C8FC121EA25A127C1278A312F8A27EA27E127F7FEA3FE013
F8EA1FFE6C6C7E00037F6C13F06C6C7EEB1FFCEB07FE13011300147E143E143CA25CEB30
F0EB3FE0EB0F801D297EA01C>38 D<126012F812FE7E13C013F0EAF3FCEAF1FE38F07F80
EB1FE0EB07F0EB03FCEB00FFEC3FC06E7EEC07F8EC01FEEC007FED3F80A2ED7F00EC01FE
EC07F8EC1FE04A5A02FFC7FCEB03FCEB07F0EB1FE0EB7F80D8F1FEC8FCEAF3FCEAFFF013
C090C9FC5A12F8126021267EA526>46 D<123C127E12FFA4127E123C08087A8715>58
D<123C127EB4FCA21380A2127F123D1201A412031300A25A1206120E120C121C5A5A1260
09177A8715>I<171C177EEE01FEEE07FCEE1FF0EE7FC0923801FF00ED07FCED1FF0ED7F
C04A48C7FCEC07FCEC1FF0EC7FC04948C8FCEB07FCEB1FF0EB7FC04848C9FCEA07FCEA1F
F0EA7FC048CAFCA2EA7FC0EA1FF0EA07FCEA01FF38007FC0EB1FF0EB07FCEB01FF903800
7FC0EC1FF0EC07FCEC01FF9138007FC0ED1FF0ED07FCED01FF9238007FC0EE1FF0EE07FC
EE01FEEE007E171C2F2E7AA93C>I<16035E5EA24C7EA2163F167FA216FFA2ED01BFED03
3F831506161F150C1518A215301570156015C083EC01800203130F15001406A25C141C14
184A80A2027FB5FC91B6FCA2903901800007A249C7FC1306835B16035B5B1370136013E0
1201D807F04A7EB549B512F0A25B34367DB53A>65 D<010FB612F017FEEFFF80903B003F
C0003FE0EF0FF017074B14F81703027F15FCA292C7FCA25C18F84A140718F00101150F18
E04AEC1FC0EF3F800103ED7F00EE01FE4AEB07F891B612E04915809139F8001FF04AEB03
FCEE00FE010F157FA24AEC3F80A2011F16C0A25CA2133F18804A147FA2017FEDFF005F91
C712014C5A494A5A4C5A49EC3FE00001913801FF80B748C7FC16F816C036337DB23A>I<
DB0FF81318DB7FFF13380203B5EAC078913A0FFC03E0F091393FC000F102FFC7123BD901
FC141FD907F815E04948140F49481407EB3F80017F16C049C81203485A5B00031780485A
485AA248481600A2485A94C7FC127F5BA312FF90CBFCA45AA21738A21730A21770176017
E0007F4B5A5F16036C6C4AC7FC160E6C6C5C6C6C5C6C6C5C6C6C495A6C6CEB07C02700FF
803FC8FC90383FFFFC010F13F00101138035377CB437>I<010FB612F817FF18C0903B00
3FC0003FE0EF0FF0EF03F84B6D7E717E027F157F8492C81380A24A151F19C05CA21301A2
5CA21303183F5CA2130719804A157FA2130F19004A5D60011F1501605C4D5A013F5E1707
4A4A5A60017F4B5A4DC7FC91C8127E4C5A494A5AEE0FF049EC3FC000014AB4C8FCB712FC
16F093C9FC3A337DB23F>I<0107B512E05BA29039001FF0005DA25DA2143FA25DA2147F
A292C7FCA25CA25CA21301A25CA21303A25CA21307A25CA2130FA25CA2131FA25CA2133F
A25CA2137FA291C8FC5B007F13FEB5FCA223337EB222>73 D<010FB500C090B5FCA39026
003FE0C7EA1FE04B1500183E4B143818F0027FEC01C04D5A92C7000EC7FC5F4A5C17E04A
495A4C5A0101020EC8FC5E4A5B16F0010313011503ECF80F4B7E0107133FEDF3FCECF1C3
9138F381FE90380FF7019138FC00FF5C5C49486D7EA24A6D7EA2013F6E7EA24A6D7EA213
7F707E91C7FC707E5B707E5B00014B7EB500FC013F13F85EA240337DB241>75
D<010FB512F0A39026003FE0C7FC5DA25DA2147FA292C8FCA25CA25CA21301A25CA21303
A25CA21307A25CA2130FA25C170C011F151C17185C1738013F153017705C17E0137F1601
91C7EA03C0160749EC0F80161F49147F0001913803FF00B8FCA25E2E337DB234>I<ED07
FC92387FFFC0913901F807F091390FE001F891391F80007E027EC77E4AEC1F80EB03F049
48EC0FC04948EC07E0495A013F16F049C8FC01FE15034916F81201485AA2485AA2120F5B
001F16075B123FA34848ED0FF0A3EF1FE0A290C9FC48EE3FC0A21880177F6C17005F5F4C
5A4C5A6C7E4C5A001F4B5A6D4A5A000F4B5A6D027EC7FC00075D6C6C495A6C6CEB07E0D8
00FEEB1F8090263F80FEC8FC90380FFFF80101138035377DB43A>79
D<0003B812F05A18E0903AF0007F000FD80F8049130390C71401000E5C48EE00C0140112
1800384A1301A2003001031580127000605CA20207140300E01700C74990C7FCA2140FA2
5DA2141FA25DA2143FA25DA2147FA292C9FCA25CA25CA21301A25CA21303A25C497E001F
B512FEA334337FB22D>84 D<0103B539C007FFFC5BA29026000FFCC713804BECFC000207
15F0606E6C495A4D5A02014AC7FC6F130E5F6E6C5B5F92387F80605F92383F818004C3C8
FC16C6ED1FEC16F86F5AA2150782A282150FED1DFE153915704B7E4A5A4A486C7E150002
066D7E5C4A131F4A805C4A6D7E495A49C76C7E1306010E1403013C81137CD803FE4A7EB5
00C090387FFFFCA2603E337EB23F>88 D<EB01F8EB07FE90381F071C90387C03FEEBF801
EA01F00003130048485B5B120F381F80015DEA3F00A21403485C127EA2140700FE5C5A16
40020F1360EDC0E016C0127CEC1FC1023F1380003CEB7F81003EEBEF833A1E01C7C30039
0F0787C73907FE03FE3900F800F823227EA029>97 D<133FEA1FFFA25B1200A35BA21201
A25BA21203A25BA21207A2EBE0F8EBE3FF390FEF07809038FC03C001F813E0EBF001D81F
E013F013C0138015F8123FA21300A248130315F0127EA2140700FE14E05AA2EC0FC0A2EC
1F80007C14005C147E003C137C003E5B381E01F0380F07C06CB4C7FCEA00FC1D357EB321
>I<147F903803FFC090380FC0F090383F0038137C4913F83801F0013803E0031207EA0F
C090388001F0001F90C7FC123F90C8FCA25A127EA45AA3127C150C151C15386C147015E0
6CEB03C0390F800F003807C07E3801FFF038007F801E227EA021>I<ED01F815FFA216F0
1507A316E0A2150FA216C0A2151FA21680A2153FA2D901F81300EB07FE90381F077F9038
7C03FF496C5AEA01F000031300485A495B120F381F8001A2D83F005BA214035A007E5CA2
140712FE485C1640020F136016E0EDC0C0127CEC1FC1023F1380003CEB7F81003EEBEF83
3A1E01C7C300390F0787C73907FE03FE3900F800F825357EB328>I<14FE903807FF8090
381F03C090387C01E03801F800485A485A485A485A1401D83F0013C01403007EEB0F80EC
FE00387FFFF8B5128000FCC8FCA45AA415186C1438007C147015E0003CEB01C0003EEB07
806CEB1E00380F80FC3803FFE0C690C7FC1D227DA024>I<ED0F80ED3FE0ED7870913801
F0F815E31403A2020713F0A291380FC1C0EDC000A4141F5DA4143F92C7FC011FB512805B
1600D9007FC7FC147EA414FE5CA513015CA413035CA413075CA4130F5CA45C131FA291C8
FC121CEA7F1E133EA2EAFE3C5B1278EA70F0EA3FC0EA0F8025457CB425>I<EB01C0EB07
E014F0130F14E01307EB038090C7FCAA13F0EA03FCEA071EEA0E1F121C123800301380EB
3F00127012605BEAE07EEA40FE12005B12015BA212035B12071420EBE070000F136013C0
14E014C0EA1F80EA0F81EB8380EB8700EA078EEA03FCEA00F014337EB11A>105
D<EB1F80EA07FF5A1400C67EA3137EA213FEA25BA21201A25BA21203A25BA21207A25BA2
120FA25BA2121FA25BA2123FA290C7FCA25AA2127E1304EAFE0E130C12FCA2131C131812
F81338EA7C701360EA3FE0EA0F8011357DB317>108 D<D801E013FE3A07F803FF803A0E
3E0F07E0001C90383C03F039181F7001003813E026303FC07F12700060138014001503D8
E07F5CEA407E1200150701FE5C5B150F5E120149131FEE8080EE81C00003023F13804914
011603037F13000007147E495CED3E0E5E000FEC1E3849EB0FF0D80380EB03C02A227EA0
2E>110 D<147F903803FFC090380FC1F090383F00F8017C137C497F485A48487F120748
5A5B001F1580123F90C7FCED3F005A127EA25D157E5A15FE5D007C5C14014A5A5D6C495A
4A5A6C49C7FC380F807E3807C1F83801FFE06C6CC8FC21227EA025>I<011F131F90397F
C07FE09039E3E1E0F09039C3E380783A01C1F7007CD981FE133CD983FC133E00035BEB03
F0163FEA0707120600025B1200010F147F167E5CA2011F14FE16FC5CA2013FEB01F8A291
380003F016E0491307ED0FC002801380ED1F009038FFC03E9038FEE0F89038FC7FE0EC1F
80000190C8FCA25BA21203A25BA21207A25BB57EA3283083A027>I<EB01FCEB0FFF9038
3E03C090387800E04913603901E001E014030003130713C013E0EC03806DC7FC13FF14F0
14FC6C7F6C7F6D1380130F9038007FC0141F140F007E130700FE1480A3EC0F005A00C013
1E6C5B00705B383C01F0380FFFC0D803FEC7FC1B227CA024>115
D<01F01507D803FC903903800F80D8071E903907C01FC0D80E1F130F121C00380180140F
0030021F1307013FEC8003007013000060160149133FD8E07E168000401500EA00FE4949
13030001170049137EA203FE5B00031606495B170E170CA24B131C4915186D15384A6C5B
17600001010314E03B00F8077E01C0903A7C0E3F078090273FFC0FFEC7FC903907F001F8
32227EA037>119 D<90391F801F8090397FE07FE09039E0F0E0703A01C0F9C0F8390380
7D833807007F000E1403000C15F0001C137E0018EC01C002FEC7FC00385B1210C7FC1301
5CA31303A25C1640010714E016C0001C5B007E1401010F148000FE1403011FEB0700011B
130E39F839F01C397070F878393FE07FE0390F801F8025227EA02C>I<90380780039038
1FE00790383FF00690387FF80E9038FFFC1C48EBFE789038E03FF03803800190C712E0EC
01C0C7EA0380EC0700140E143C14705C495A495A49C7FC130E133C0170130C49131C4848
13184848133848C71278D80EC013F0380FFE03391F3FFFE0D8381F13C0486C1380D86007
130038E003FE38C000F020227DA024>122 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fo cmmi7 7 12
/Fo 12 111 df<1238127C12FEA3127C123807077A8614>58 D<160E163E16FEED03F8ED
0FE0ED3F80EDFE00EC03F8EC0FE0EC3F8002FEC7FCEB03F8EB0FE0EB3F8001FEC8FCEA03
F8EA0FE0EA3F8000FEC9FC12F812FEEA3F80EA0FE0EA03F8EA00FEEB3F80EB0FE0EB03F8
EB00FEEC3F80EC0FE0EC03F8EC00FEED3F80ED0FE0ED03F8ED00FE163E160E27277AA134
>60 D<4B7E1503150782150F151FA2153FA2156F15CF82EC0187140315071406140E140C
02187FA2EC30031460A214C013011480D903007F91B5FC5B90380C0001A25B1338013080
5B01E013005B12011203000F4A7ED8FFF890381FFFE0A22B2A7DA932>65
D<013FB512FC16FF903A01FC001FC04AEB03E0EE01F801031400177C4A80A2010781A25C
A2130F18805CA2011F1600A24A5CA2133F173E91C8127E177C4915FC5F017E14015F01FE
4A5AA2494A5A4C5A00014BC7FC167C495CED03E00003EC1FC0B600FEC8FC15F031287DA7
36>68 D<90383FFFF0A2903801FC005CA21303A25CA21307A25CA2130FA25CA2131FA25C
A2133FA291C7FCA25BA2137EA213FEA25BA21201A25BA21203B512C0A21C287DA71D>73
D<91387FFFE0A2913800FE005DA214015DA314035DA314075DA3140F5DA3141F5DA3143F
92C7FCA35C001E137E127FA214FE00FE5B387E01F8387803F0387007E0383C1FC0D81FFF
C8FCEA03F823297CA725>I<90383FFFF8A2D901FCC7FC5CA21303A25CA21307A25CA213
0FA25CA2131FA25CA2133FA291C8FCA249141C1618137E163801FE1430167049146016E0
00011401ED03C0491307ED0F800003147FB7FC160026287DA72E>76
D<130E131F5BA2133E131C90C7FCA7EA03E0487EEA0C78EA187C1230A212605B12C0A2EA
01F0A3485AA2485AA2EBC180EA0F81A2381F0300A213066C5A131CEA07F06C5A11287DA6
17>105 D<1407EC0F80141FA21500140E91C7FCA7EB03E0EB07F8EB0C3C1318EB303E13
6013C0A248485AA2C7FCA25CA4495AA4495AA4495AA4495AA21238D87C1FC7FC12FC133E
485AEA70F8EA7FE0EA1F80193380A61B>I<137CEA0FFCA2EA00F8A21201A213F0A21203
A213E0A21207A213C0A2120FA21380A2121FA21300A25AA2123EA2127EA2EA7C18A3EAF8
30A21320EA786013C0EA3F80EA0F000E297EA715>108 D<3B07801FC007E03B0FE07FF0
1FF83B18F0E0F8783C3B30F1807CE03E903AFB007D801ED860FEEB3F005B49133E00C14A
133E5B1201A24848495BA35F4848485A1830EE01F0A23C0F8003E003E060A218C0933801
E180271F0007C013E3933800FF00000E6D48137C341B7D993B>I<3907801FC0390FE07F
F03918F0E0F83930F1807CEBFB00D860FE133C5B5B00C1147C5B1201A248485BA34A5AEA
07C01660EC03E0A23A0F8007C0C0A2EDC180913803C300D81F0013C7EC01FE000EEB00F8
231B7D9929>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fp cmmi10 10 37
/Fp 37 123 df<133F14C0EB07F06D7E801301A26D7EA3147FA36E7EA36E7EA36E7EA36E
7EA36E7EA36E7EA26E7EA214014A7E5C4A7E91381E3F80143C14784A6C7E1301EB03E049
486C7EEB0F80EB1F00496D7E137E5B48486D7E485A485A000F6E7E485A485A48C87E12FE
167F4816800070151F293B7CB930>21 D<01F8141CD803FE143FD8070F5C000E6D148012
1C12180038153F0030151FD8701F140F12601607D8E03F150000C090C7FC5BEA007E1606
13FE5B160E0001150C5B161C1618000315384914301670166016E04B5A5E15036C6C49C7
FC150E6C6C5B017E137890383F01E090380FFFC0D901FEC8FC29267EA42D>29
D<EC3FF0903803FFFE90380FC03F90383E000601781300EA01E0485A485A48C8FC121E5A
A25AA312F85A7EA37EA27E127F13C0EA3FF07FEA1FFE6C6C7E000313E0C67FEB3FFC6D7E
EB07FF13016D7E8080A4141E143EEB183CEB1FF0EB07C0202E7EA41E>38
D<126012F812FE6C7E7F13F0EAF3FCEAF0FEEB7F80EB1FE0EB07F86D7EEB00FFEC3FC0EC
0FE0EC07F8EC01FE9138007F80ED3FC0ED0FE0A2ED3FC0ED7F80913801FE00EC07F8EC0F
E0EC3FC002FFC7FCEB03FC495AEB1FE0EB7F8001FEC8FCEAF3FCEAFFF013C05B48C9FC12
F8126023287DA82A>46 D<121C127FEAFF80A5EA7F00121C0909798817>58
D<121C127FEAFF80A213C0A3127F121C1200A412011380A2120313005A1206120E5A5A5A
12600A19798817>I<EF0380EF0FC0173FEFFF80933803FE00EE0FF8EE3FE0EEFF80DB03
FEC7FCED0FF8ED3FE0EDFF80DA03FEC8FCEC0FF8EC3FE0ECFF80D903FEC9FCEB0FF8EB3F
E0EBFF80D803FECAFCEA0FF8EA3FE0EA7F8000FECBFCA2EA7F80EA3FE0EA0FF8EA03FEC6
6C7EEB3FE0EB0FF8EB03FE903800FF80EC3FE0EC0FF8EC03FE913800FF80ED3FE0ED0FF8
ED03FE923800FF80EE3FE0EE0FF8EE03FE933800FF80EF3FC0170FEF0380323279AD41>
I<1760177017F01601A21603A21607160FA24C7EA216331673166316C3A2ED0183A2ED03
03150683150C160115181530A21560A215C014011580DA03007FA202061300140E140C5C
021FB5FC5CA20260C7FC5C83495A8349C8FC1306A25BA25B13385B01F01680487E000716
FFB56C013F13FF5EA2383C7DBB3E>65 D<0103B77E4916F018FC903B0007F80003FE4BEB
00FFF07F80020FED3FC0181F4B15E0A2141FA25DA2143F19C04B143F1980027F157F1900
92C812FE4D5A4A4A5AEF0FF04AEC1FC005FFC7FC49B612FC5F02FCC7B4FCEF3FC00103ED
0FE0717E5C717E1307844A1401A2130F17035CA2131F4D5A5C4D5A133F4D5A4A4A5A4D5A
017F4BC7FC4C5A91C7EA07FC49EC3FF0B812C094C8FC16F83B397DB83F>I<9339FF8001
C0030F13E0037F9038F80380913A01FF807E07913A07F8000F0FDA1FE0EB079FDA3F8090
3803BF0002FFC76CB4FCD901FC80495A4948157E495A495A4948153E017F163C49C9FC5B
1201484816385B1207485A1830121F4993C7FCA2485AA3127F5BA312FF90CCFCA41703A2
5F1706A26C160E170C171C5F6C7E5F001F5E6D4A5A6C6C4A5A16076C6C020EC8FC6C6C14
3C6C6C5C6CB4495A90393FE00FC0010FB5C9FC010313FC9038007FC03A3D7CBA3B>I<01
03B7FC4916E018F8903B0007F80007FE4BEB00FFF03F80020FED1FC0180F4B15E0F007F0
021F1503A24B15F81801143F19FC5DA2147FA292C8FCA25C18035CA2130119F84A1507A2
130319F04A150FA2010717E0181F4A16C0A2010FEE3F80A24AED7F00187E011F16FE4D5A
4A5D4D5A013F4B5A4D5A4A4A5A057FC7FC017F15FEEE03FC91C7EA0FF049EC7FC0B8C8FC
16FC16C03E397DB845>I<0103B812F05BA290260007F8C7123F4B1407F003E0020F1501
18005DA2141FA25D19C0143FA24B1330A2027F1470190092C7126017E05C16014A495A16
0F49B6FCA25F9138FC000F01031407A24A6DC8FCA201075C18034A130660010F160693C7
FC4A150E180C011F161C18184A1538A2013F5E18F04A4A5AA2017F15074D5A91C8123F49
913803FF80B9FCA295C7FC3C397DB83D>I<0107B512FCA216F890390007F8005DA2140F
A25DA2141FA25DA2143FA25DA2147FA292C7FCA25CA25CA21301A25CA21303A25CA21307
A25CA2130FA25CA2131FA25CA2133FA25CA2137FA291C8FC497EB6FCA326397DB824>73
D<0103B6FC5B5E90260007FCC8FC5D5D140FA25DA2141FA25DA2143FA25DA2147FA292C9
FCA25CA25CA21301A25CA21303A25CA2130718404A15C0A2010F150118804A1403A2011F
16005F4A1406170E013F151E171C4A143C177C017F5D160391C7120F49EC7FF0B8FCA25F
32397DB839>76 D<4BB4FC031F13F09238FE01FC913903F0007EDA07C0EB1F80DA1F80EB
0FC0023EC7EA07E002FCEC03F0495A4948EC01F8495A4948EC00FC495A49C912FE49167E
13FE49167F1201485AA2485AA2120F5B001F17FFA2485AA34848ED01FEA400FFEE03FC90
C9FCA2EF07F8A2EF0FF0A218E0171F18C0EF3F806C167F180017FE4C5A6C6C5D1603001F
4B5A6D4A5A000FED1F806C6C4AC7FC6D147E0003EC01F8D801FC495AD8007EEB0FC09026
3F807FC8FC903807FFF801001380383D7CBA3F>79 D<003FB56C48B51280485DA226007F
80C7381FF00091C8EA07C0604993C7FCA2491506A20001160E170C5BA20003161C17185B
A20007163817305BA2000F167017605BA2001F16E05F5BA2003F15015F5BA2007F150394
C8FC90C8FCA25E4815065A160E160C161C161816385E127E5E4B5A6C4A5A4BC9FC6C6C13
1E6C6C5B6C6C13F83903F807E06CB55A6C6C48CAFCEB0FF0393B7BB839>85
D<49B500F890387FFFF095B5FC1AE0D90003018090380FFC004BC713E00201ED07804EC7
FC6E6C140E606F5C705B606F6C485A4D5A031F91C8FCEEE0065F6F6C5A5F03075B705A16
F96FB45A94C9FC6F5AA36F7EA34B7FED037F9238063FC0150E4B6C7E1538ED700F03E07F
15C04A486C7EEC0300020613034A805C4A6D7E14704A1300494880495A49C86C7E130E01
1E153F017E4B7ED803FF4B7E007F01E0011FEBFFC0B5FC6144397EB845>88
D<147E903803FF8090390FC1C38090391F00EFC0017E137F49133F485A4848EB1F801207
5B000F143F48481400A2485A5D007F147E90C7FCA215FE485C5AA214015D48150CA21403
EDF01C16181407007C1538007E010F1330003E131F027B13706C01E113E03A0F83C0F9C0
3A03FF007F80D800FCEB1F0026267DA42C>97 D<133FEA1FFFA3C67E137EA313FE5BA312
015BA312035BA31207EBE0FCEBE3FF9038E707C0390FFE03E09038F801F001F013F8EBE0
00485A15FC5BA2123F90C7FCA214015A127EA2140312FE4814F8A2140715F05AEC0FE0A2
15C0EC1F80143F00781400007C137E5C383C01F86C485A380F07C06CB4C7FCEA01FC1E3B
7CB924>I<EC3FC0903801FFF0903807E03C90380F800E90383F0007017E131F49137F48
4813FF485A485A120F4913FE001F143848481300A2127F90C8FCA35A5AA45AA315031507
007E1406150E003E143C003F14706C14E0390F8007C03907C03F003801FFF838003FC020
267DA424>I<163FED1FFFA3ED007F167EA216FEA216FCA21501A216F8A21503A216F0A2
1507A2027E13E0903803FF8790380FC1CF90381F00EF017EEB7FC049133F485A4848131F
000715805B000F143F485A1600485A5D127F90C7127EA215FE5A485CA21401A248ECF80C
A21403161CEDF0181407007C1538007E010F1330003E131F027B13706C01E113E03A0F83
C0F9C03A03FF007F80D800FCEB1F00283B7DB92B>I<EC3FC0903801FFF0903807E07890
381F801C90387E001E49130E485A485A1207485A49131E001F141C153C484813F8EC03E0
007FEB3FC09038FFFE0014E090C8FC5A5AA7007E140315071506003E140E153C6C14706C
6C13E0EC07C03903E03F003801FFF838003FC020267DA427>I<16F8ED03FEED0F879238
1F0F80ED3E3F167F157CA215FC1700161C4A48C7FCA414035DA414075DA20107B512F0A3
9026000FE0C7FC5DA4141F5DA4143F92C8FCA45C147EA514FE5CA413015CA4495AA45C13
07A25C121E123F387F8F80A200FF90C9FC131E12FEEA7C3CEA7878EA1FF0EA07C0294C7C
BA29>I<EC07E0EC1FF891387C1C38903901F80EFC903803F007903807E003EB0FC09038
1F8001D93F0013F85B017E130313FE16F0485A150712034914E0A2150F12074914C0A215
1FA2491480A2153FA2160000035C6D5B00015B4A5A3900F8077E90387C1EFEEB1FF89038
07E0FC90C7FC1401A25DA21403001E5C123F387F80075D00FF495A49485A4849C7FC007C
137E383C01F8381FFFE0000390C8FC26367FA428>I<14E0EB03F8A21307A314F0EB01C0
90C7FCAB13F8EA03FEEA070F000E1380121C121812381230EA701F1260133F00E0130012
C05BEA007EA213FE5B1201A25B12035BA20007131813E01438000F133013C01470EB8060
14E014C01381EB838038078700EA03FEEA00F815397EB71D>105
D<EB0FC0EA03FF5AA2EA001F1480A2133FA21400A25BA2137EA213FEA25BA21201A25BA2
1203A25BA21207A25BA2120FA25BA2121FA25BA2123FA290C7FCA25AA2EA7E03A2EAFE07
130612FCA2130E130C131C1318EA7C38EA3C70EA1FE0EA0780123B7DB919>108
D<D803E0017F14FE3D07F801FFE003FFC03D0E3C0781F00F03E03D1C3E1E00F83C01F026
383F38D9FC707F00304914E04A90387DC000007049EB7F8000604991C7FCA200E090C700
FE1301485A017E5CA200000201140301FE5F495CA203031407000160495C180F03075D12
03494A011F13601980030F023F13E00007F000C0495C1901031F023E1380000F1803494A
150061033F150E001FEF1E1C4991C7EA0FF80007C7000EEC03E043267EA449>I<D803E0
137F3A07F801FFE03A0E3C0781F03A1C3E1E00F826383F387F00305B4A137C00705B0060
5BA200E090C712FC485A137EA20000140101FE5C5BA2150300015D5B15075E120349010F
133016C0031F13700007ED80605B17E0EE00C0000F15014915801603EE0700001FEC0F0E
49EB07FC0007C7EA01F02C267EA432>I<EC1FC0ECFFF8903807E07E90380F801F90393F
000F80017E14C0491307484814E0485A4848EB03F0120F5B121F48481307A2127F90C7FC
A2150F5A4815E0A2151F16C0A248EC3F8016005D157E007E5C4A5A003E495A003F495A6C
495A6C6C48C7FC3807E07E3801FFF038003F8024267DA428>I<90390F8003F090391FE0
0FFC903939F03C1F903A70F8700F80903AE0FDE007C09038C0FF80030013E00001491303
018015F05CEA038113015CA2D800031407A25CA20107140FA24A14E0A2010F141F17C05C
EE3F80131FEE7F004A137E16FE013F5C6E485A4B5A6E485A90397F700F80DA383FC7FC90
387E1FFCEC07E001FEC9FCA25BA21201A25BA21203A25B1207B512C0A32C3583A42A>I<
3903E001F83907F807FE390E3C1E07391C3E381F3A183F703F800038EBE07F0030EBC0FF
00705B00601500EC007E153CD8E07F90C7FCEAC07EA2120013FE5BA312015BA312035BA3
12075BA3120F5BA3121F5B0007C9FC21267EA425>114 D<14FF010313C090380F80F090
383E00380178131C153C4913FC0001130113E0A33903F000F06D13007F3801FFE014FC14
FF6C14806D13C0011F13E013039038003FF014071403001E1301127FA24814E0A348EB03
C012F800E0EB07800070EB0F006C133E001E13F83807FFE0000190C7FC1E267CA427>I<
EB01C0497E1307A4130F5CA3131F5CA3133F91C7FC007FB51280A2B6FCD8007EC7FCA313
FE5BA312015BA312035BA312075BA3120FEBC006A2140E001F130CEB801C141814385C14
6014E0380F81C038078780D803FEC7FCEA00F819357EB31E>I<13F8D803FE1438D8070F
147C000E6D13FC121C1218003814011230D8701F5C12601503EAE03F00C001005B5BD800
7E1307A201FE5C5B150F1201495CA2151F120349EC80C0A2153F1681EE0180A2ED7F0303
FF130012014A5B3A00F8079F0E90397C0E0F1C90393FFC07F8903907F001F02A267EA430
>I<01F8EB03C0D803FEEB07E0D8070F130F000E018013F0121C12180038140700301403
D8701F130112601500D8E03F14E000C090C7FC5BEA007E16C013FE5B1501000115805B15
0316001203495B1506150E150C151C151815385D00015C6D485A6C6C485AD97E0FC7FCEB
1FFEEB07F024267EA428>I<01F816F0D803FE9138E001F8D8070F903801F003000ED980
0314FC121C12180038020713010030EDE000D8701F167C1260030F143CD8E03F163800C0
01005B5BD8007E131F183001FE5C5B033F1470000117604991C7FCA218E000034A14C049
137E17011880170318005F03FE1306170E000101015C01F801BF5B3B00FC039F8070903A
7E0F0FC0E0903A1FFC03FFC0902703F0007FC7FC36267EA43B>I<D901E01360D90FF813
E0496C13C090383FFE0190397FFF038090B5EA07009038F81FFF3901E003FE9038C0001C
495B5DC85A4A5A4A5A4AC7FC140E5C5C14F0495AEB038049C8FC130E5B4913035B495B48
4813064848130E48C75AD80FFC137C391FFF81F8381E0FFFD838075B486C5B00605CD8E0
0190C7FC38C0007C23267DA427>122 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fq cmsy9 9 9
/Fq 9 104 df<ED0FFF92B512F0020314FC020F14FF91263FF80113C0913AFF80001FF0
4948C7EA07F8D907F8EC01FED90FE0EC007FD91F80ED1F8049C96C7E017E707E49707E48
48707E4916004848177C0007187E49173E484883A248CBEA0F80A2003EF007C0A2003C18
03007C19E0A200781801A200F819F0A2481800A96C1801A2007819E0A2007C1803A2003C
19C0003E1807A26CF00F80A26C6CEF1F00A26C6C173E6D177E0003187C6C6C5F6D16016C
6C4C5A017E4C5A6D4C5A6D6C4B5AD90FE0037FC7FCD907F8EC01FED901FEEC07F86D6C6C
EB1FF0913A3FF801FFC0020FB6C8FC020314FC020014F0030F90C9FC44477CB54D>13
D<187018F0A2841878A2187C183C183E84A2727E727E85727E727E727E197F007FBA12C0
BB12F0A26C19C0CCEA7F0019FC4E5A4E5A4E5A614E5A4EC7FCA2183E183C187C1878A218
F860A2187044287CA64D>33 D<02E015706E15F0A20101824A1578A20103167C4A153C01
07163E494881A249C96C7E013E707E017E8349707E4848707E4848707ED80FE0177F003F
BA12C0BB12F0A2003F19C0D80FE0CAEA7F00D803F017FC6C6C4C5A6C6C4C5A017E4C5A01
3E5F6D4C5A6D6C4BC7FCA26D6C153E0103163C6E157C01011678A26E15F801005EA24A15
7044287CA64D>36 D<15F0A214014A5A5D14074A5AA24ACBFC143E5C91B912E04918F05B
010F18E0D91F80CBFC017FCCFC13FCEA07F8EA1FE0EAFF80A2EA1FE0EA07F8C67E137FEB
1F806DB912E0010318F07F6D18E0027CCBFC80806E7EA26E7E1403816E7E1400A2442A7C
A74D>40 D<91383FFFF849B512FC1307011F14F8D93FE0C7FC01FFC8FCEA01FCEA03F048
5A485A5B48C9FC5A123E5AA21278A212F8A25AB712F816FCA216F800F0C9FC7EA21278A2
127CA27E123F7E6C7E7F6C7E6C7EEA01FC6CB4FCEB3FE06DB512F8010714FC1301D9003F
13F8262E7AA933>50 D<0060ED018000F0ED03C06C1507A200781680007C150FA2003C16
00003E5DA26C153EA26C153C6D147CA26C6C5CA200035D90B6FCA26C5DA29038F000036C
6C495AA201785C017C130FA2013C91C7FC013E5BA26D133EA26D133CEC807CA201071378
ECC0F8A2903803E1F0A201015B14F3A26DB45AA26E5AA36EC8FCA3141E140C2A3680B32B
>56 D<126012F0B3A5B712F816FCA216F800F0C9FCB3A5126026347CB32F>96
D<EC07E0143FECFE00EB03F8495A495A5C131F5CB3A5133F91C7FC137E5BEA03F8EA7FE0
48C8FCEA7FE0EA03F8C67E137E7F80131FB3A580130F806D7E6D7EEB00FEEC3FE014071B
4B7BB726>102 D<12FCEAFFC0EA07F0EA01FC6C7E137F7F80131FB3A580130F6D7E6D7E
EB01FC9038007FC0EC1FE0EC7FC0903801FC00EB03F0495A495A131F5CB3A5133F91C7FC
5B13FE485AEA07F0EAFFC000FCC8FC1B4B7BB726>I E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fr cmmi6 6 13
/Fr 13 111 df<127812FCA4127806067A8513>58 D<ED01C01507151FED7F00EC01FCEC
07F0EC1FC0027FC7FC14FCEB03F0EB0FC0EB3F8001FEC8FCEA03F8EA0FE0EA3F8000FEC9
FC12F812FEEA3F80EA0FE0EA03F8EA00FEEB3F80EB0FC0EB03F0EB00FC147FEC1FC0EC07
F0EC01FCEC007FED1FC01507150122237A9D30>60 D<1308A4131CA500C0EB0180397FBE
FF00381FFFFC000713F0000113C06C6CC7FCA2497E13F73801E3C013C1380380E0EB0060
00067F00041310487F19197D9820>63 D<151815381578157C15FC1401A2EC037C140714
06EC0C7EEC1C3E14181430A21460ECC03FA249487EEB0300A213065B010FB512805B9038
38000F13305B13E05B484814C00003140790C7FCD80F80130FD8FFE0EBFFFE16FC27247D
A32E>65 D<90B6FC16E0903907C003F8ED00FC4948133E161E161FEE0F8049C7FCA317C0
133EA4491580161FA21700495CA2163E5E485A5E4B5A4B5A4848495A4B5A033EC7FC0007
EB01F8B612E092C8FC2A227CA132>68 D<EBFFFEA2EB07C0A2EB0F80A4EB1F00A4133EA4
5BA45BA4485AA4485AA31207EAFFFEA217227DA11B>73 D<90B57E92C7FCEB07C0A2495A
A449C8FCA4133EA45BA45BED0180A2ED0300485A1506A2150E48485B153C15F800071303
B6FC5D21227CA12A>76 D<1338137CA2137813701300A7EA0780EA1FC0EA38E01230EA60
F0EAC1E0A3EA03C0A3EA0780A2EA0F0013041306EA1E0CA21318121CEA1E70EA0FE0EA07
800F237DA116>105 D<1418143C147CA214381400A7EB0780EB1FE01338EB60F013C0A2
EA0180A2380001E0A4EB03C0A4EB0780A4EB0F00A4131EA21238EA783CEAF8381378EA70
F0EA7FC0001FC7FC162D81A119>I<13F8EA0FF0A21200A2485AA4485AA43807801E147F
EB81C3EB8387380F060F495A1318EB700E4848C7FCA213FCEA1E7EEA3C0F80EB07811580
39780F0300A21402EB070600F0138CEB03F8386000F019247CA221>I<EA01F0EA1FE0A2
1201A2EA03C0A4EA0780A4EA0F00A4121EA45AA45AA213401360EAF0C0A3EAF1801271EA
3F00121E0C247DA214>I<000F017E13FC3A1F81FF83FF3B31C383C707803A61EE03CC03
9026EC01F813C0D8C1F813F013F001E013E00003903903C0078013C0A2EE0F0039078007
80A2EE1E041706270F000F00130C163C1718A2001E011EEB1C70EE1FE0000C010CEB0780
2F177D9536>I<000F13FC381FC3FF3931C707803861EC0301F813C0EAC1F0A213E03903
C00780A3EC0F00EA0780A2EC1E041506D80F00130C143C15181538001EEB1C70EC1FE000
0CEB07801F177D9526>I E
%EndDVIPSBitmapFont
/Fs 134[37 37 55 37 42 23 32 32 1[42 42 42 60 23 2[23
42 42 23 37 42 37 42 42 50[21 28 21 44[{TeXBase1Encoding ReEncodeFont}
25 83.022 /Times-Italic rf /Ft 134[50 1[72 50 55 33 39
44 1[55 50 55 83 28 55 33 28 2[33 44 55 44 55 50 14[72
3[72 3[50 39 5[72 1[72 8[50 50 50 50 50 50 50 50 49[{
TeXBase1Encoding ReEncodeFont}35 99.6264 /Times-Bold
rf /Fu 105[37 28[33 1[50 1[37 21 29 29 1[37 37 37 54
21 1[21 21 37 37 21 33 37 33 37 37 12[42 37 2[46 54 1[62
42 2[25 2[46 46 1[50 46 46 7[37 37 1[37 3[37 1[37 21
19 25 5[25 39[{TeXBase1Encoding ReEncodeFont}43 74.7198
/Times-Italic rf /Fv 139[25 29 33 8[21 1[37 3[33 42 37
26[46 4[54 7[37 37 37 37 37 37 37 37 37 37 1[19 46[{
TeXBase1Encoding ReEncodeFont}21 74.7198 /Times-Bold
rf /Fw 3[37 14[21 86[37 27[33 37 37 54 37 37 21 29 25
37 37 37 37 58 21 37 21 21 37 37 25 33 37 33 37 33 9[71
54 54 46 42 50 1[42 54 54 66 46 54 29 25 54 54 42 46
54 50 50 54 69 33 1[42 2[21 37 37 37 37 37 37 37 37 37
37 21 19 25 19 2[25 25 37[42 2[{TeXBase1Encoding ReEncodeFont}72
74.7198 /Times-Roman rf
%DVIPSBitmapFont: Fx cmr6 6 5
/Fx 5 59 df<1438B2B712FEA3C70038C7FCB227277C9F2F>43 D<13FF000313C0380781
E0380F00F0001E137848133CA248131EA400F8131FAD0078131EA2007C133E003C133CA2
6C13786C13F0380781E03803FFC0C6130018227DA01E>48 D<13E01201120712FF12F912
01B3A7487EB512C0A212217AA01E>I<EA01FC3807FF80381C0FC0383003E0386001F0EB
00F812F86C13FCA2147C1278003013FCC7FC14F8A2EB01F0EB03E014C0EB0780EB0F0013
1E13385B5B3801C00CEA0380380600185A5A383FFFF85AB512F0A216217CA01E>I<1278
12FCA412781200A9127812FCA4127806157A9412>58 D E
%EndDVIPSBitmapFont
%DVIPSBitmapFont: Fy cmr7 7 5
/Fy 5 59 df<140EB3A2B812E0A3C7000EC8FCB3A22B2B7DA333>43
D<EB3F803801FFF03803E0F83807803C48487E001E7F003E1480A2003C1307007C14C0A4
00FC14E0AE007C14C0A36CEB0F80A36CEB1F006C131E6C6C5A3803E0F86CB45A38003F80
1B277EA521>48 D<13381378EA01F8121F12FE12E01200B3AB487EB512F8A215267BA521
>I<13FF000313E0380E03F0381800F848137C48137E00787F12FC6CEB1F80A4127CC7FC
15005C143E147E147C5C495A495A5C495A010EC7FC5B5B903870018013E0EA0180390300
030012065A001FB5FC5A485BB5FCA219267DA521>I<1238127C12FEA3127C12381200AB
1238127C12FEA3127C123807197B9813>58 D E
%EndDVIPSBitmapFont
/Fz 105[42 1[37 37 25[42 42 60 42 42 23 32 28 42 42 42
42 65 23 42 23 23 42 42 28 37 42 37 42 37 3[28 1[28 3[78
60 60 51 46 55 1[46 60 60 74 51 60 32 28 60 60 46 51
60 55 55 60 1[37 3[23 23 42 42 42 42 42 42 42 42 42 42
1[21 28 21 2[28 28 28 5[28 29[46 46 2[{TeXBase1Encoding ReEncodeFont}74
83.022 /Times-Roman rf
%DVIPSBitmapFont: FA cmmib10 10 1
/FA 1 64 df<14035CA34A7EA54A7EA60070496C1370D8FFF0EC7FF890B7FC003F16E06C
16C000071600000115FC6C6C14F0011F14C0010791C7FC010113FCA2497FA3497F14FDD9
0FF87FECF07F49486C7EECC01F49486C7EEC0007017E6D7E017C130101F0EB0078491438
014014102D2B7FA930>63 D E
%EndDVIPSBitmapFont
/FB 134[60 5[47 2[66 60 66 4[33 3[53 1[53 14[80 10[47
73[{TeXBase1Encoding ReEncodeFont}10 119.552 /Times-Bold
rf end
%%EndProlog
%%BeginSetup
%%Feature: *Resolution 600dpi
TeXDict begin
%%BeginPaperSize: a4
a4
%%EndPaperSize

%%EndSetup
%%Page: 1 1
1 0 bop 1630 448 a FB(Ionic)30 b(T)-9 b(ypes)2246 405
y FA(?)1333 741 y Fz(Simon)19 b(Dobson)1830 711 y Fy(1)1887
741 y Fz(and)g(Brian)i(Matthe)n(ws)2559 711 y Fy(2)1014
883 y Fx(1)1086 915 y Fw(Department)e(of)g(Computer)g(Science,)g(T)m
(rinity)g(Colle)o(ge,)g(Dublin)g(IE)1599 1006 y(simon.dobson@cs.tcd.ie)
569 1066 y Fx(2)641 1097 y Fw(Information)g(T)-5 b(echnology)21
b(Department,)e(CLRC)f(Rutherford)h(Appleton)h(Laboratory)-5
b(,)19 b(Oxfordshire)1910 1189 y(UK)1610 1280 y(b)m(.m.matthe)n
(ws@rl.ac.uk)759 1651 y Fv(Abstract.)41 b Fw(W)-6 b(e)27
b(are)h(interested)f(in)g(the)h(class)f(of)g(systems)h(for)f(which)h
(the)f(satisf)o(action)759 1743 y(of)22 b(code)h(dependencies)h(is)e(a)
f(dynamic)i(process)g(rather)f(than)g(one)h(which)f(is)g(determined)759
1834 y(purely)k(at)e(load-time.)h(Examples)g(include)g(dynamic)h(dele)o
(gation,)f(mobile)g(code)g(and)h(a-)759 1925 y(gent)j(systems.)f(Such)g
(systems)h(e)o(xhibit)f(properties)h(which)g(are)f(not)g(well-captured)
h(by)759 2017 y(current)f(typing)f(models.)h(W)-6 b(e)26
b(describe)i(a)f(system)g(of)h Fu(ionic)f Fw(object)g(types)h(which)f
(cap-)759 2108 y(ture)g(these)g(ef)n(fects)f(and)h(allo)n(w)g(them)g
(to)f(be)h(analysed)h(within)e(a)h(standard)g(object)g(type)759
2199 y(frame)n(w)o(ork)p Fu(.)i Fw(W)-6 b(e)28 b(sho)n(w)g(ho)n(w)h
(ionic)g(types)f(impro)o(v)o(e)h(the)f(modeling)h(of)g(v)n(arious)g
(form-)759 2291 y(s)d(of)f(dynamic)i(object)f(completion)g(including)h
(certain)f(aspects)g(of)f(security)h(checking,)759 2382
y(dele)o(gation)d(and)f(method)h(update,)g(contrast)f(them)g(with)f
(other)i(approaches)g(to)f(the)g(same)759 2473 y(problems,)e(and)f(sk)o
(etch)h(a)f(possible)h(ionic)f(e)o(xtension)h(to)e(Ja)o(v)n(a.)523
2771 y Ft(1)99 b(Intr)n(oduction)523 2990 y Fz(Programming)20
b(languages)h(e)o(xhibit)h(a)h(constant)e(tension)h(between)g(static)i
(and)e(dynamic)f(check-)523 3089 y(ing.)j(The)h(former)f(attempts)g(to)
i(catch)e(problems)g(at)h(compile-time,)f(b)n(ut)h(inhibits)f(man)o(y)g
(useful)523 3189 y(dynamic)j(decisions;)g(the)h(latter)h(pro)o(vides)d
(more)h(run-time)g(\003e)o(xibility)g(at)h(a)h(cost)f(of)g(run-time)523
3288 y(type)33 b(errors.)g(This)h(tension)f(is)i(e)o(xhibited)d(by)i
(man)o(y)e(programming)e(approaches)i(of)i(current)523
3388 y(interest)c(including)e(dynamic)g(adaptation,)h(code)g(mobility)g
(and)g(component-based)d(systems.)523 3488 y(Designers)c(must)g
(balance)g(the)g(need)g(for)g(dynamic)f(\003e)o(xibility)g(against)h(a)
h(desire)f(for)g(static)h(cor)n(-)523 3587 y(rectness)d(checks.)648
3691 y(Such)k(systems)i(are)f(representati)n(v)o(e)f(of)h(a)g(broad)f
(class)j(in)e(which)g(the)g(satisf)o(action)g(of)g(code)523
3790 y(dependencies)18 b(is)k(a)f(dynamic)e(process)h(rather)g(than)g
(one)g(\002x)o(ed)g(at)h(compile-)f(or)g(load-time.)f(This)523
3890 y(dynamism)27 b(manifests)g(itself)i(in)f(v)n(arious)f(guises.)h
(In)g(a)g(dele)o(gation-based)d(system)j(the)g(object)523
3990 y(which)18 b(actually)f(satis\002es)j(a)e(method)f(may)h(be)g
(re-assigned)f(as)i(computation)d(progreesses.)g(F)o(or)i(a)523
4089 y(mobile)f(code)f(system,)h(it)h(occurs)f(when)g(a)g(piece)g(of)g
(code)g(migrates)g(into)g(a)g(foreign)f(en)m(vironmen-)523
4189 y(t)26 b(and)f(is)h(tacitly)f(re-link)o(ed)f(with)i(that)f(en)m
(vironment')-5 b(s)23 b(functions)h(for)g(display)-5
b(,)24 b(\002le)i(access)g Fs(etc)p Fz(.)523 4289 y(Under)d(certain)h
(security)g(re)o(gimes)g(the)g(en)m(vironment)d(may)j(refuse)g(to)h
(pro)o(vide)d(some)i(e)o(xpected)523 4388 y(functions,)18
b(causing)h(e)o(x)o(ecution)f(to)i(f)o(ail)g(at)h(run-time.)d(The)h
(important)g(point)g(is)i(that)f(the)g(applica-)523 4488
y(tion)k(depends)f(on)h(the)h(a)n(v)n(ailability)f(of)g(the)g
(functions)g(and)f(could)h Fs(ne)o(ver)i Fz(e)o(x)o(ecute)d
(successfully)523 4587 y(under)17 b(that)h(security)g(re)o(gime,)f(so)h
(man)o(y)f(of)h(the)h(dynamic)d(security)i(checks)g(\226)g(although)e
(required)p 523 4656 473 4 v 551 4710 a Fr(?)606 4742
y Fw(This)24 b(paper)h(appears)g(in)g Fu(ECOOP)e(2000)i(\226)g
(Object-oriented)g(Pr)m(o)o(gr)o(amming)p Fw(,)g(Elisa)e(Bertino)h
(\(ed\),)g(L-)606 4833 y(NCS)c(1850,)i(Springer)f(V)-8
b(erlag)21 b(\(2000\).)h(Cop)o(yright)2039 4831 y(c)2017
4833 y Fq(\015)f Fw(Springer)g(V)-8 b(erlag,)21 b(2000.)h(Reprinted)f
(with)g(per)o(-)606 4924 y(mission.)p eop
%%Page: 2 2
2 1 bop 523 448 a Fz(in)19 b(other)m(,)e(more)h(comple)o(x)e(cases)k
(\226)e(might)g(better)g(be)h(performed)c(statically)-5
b(.)19 b(Intuiti)n(v)o(ely)d(it)k(seem-)523 548 y(s)30
b(preferable)c(for)i(code)g(whose)g(requirements)f(can)h(ne)n(v)o(er)g
(be)g(accommodated)e(to)j(f)o(ail)g(before)523 648 y(e)o(x)o(ecution.)
648 750 y(The)i(unifying)e(theme)i(is)h(that)f(an)h(object')-5
b(s)31 b(response)f(to)i(a)g(method)e(can)h(be)g(changed)f(as)523
849 y(computation)f(progresses.)g(These)i(changes)f(are)h(not)g
(generally)e(arbitrary)-5 b(,)29 b(b)n(ut)i(ha)n(v)o(e)f(a)h(well-)523
949 y(de\002ned)g(structure)g(and)g(require)g(that)h(some)g
(dependencies)d(are)j(maintained.)f(If)g(we)i(capture)523
1049 y(these)23 b(structures)e(and)h(dependencies)e(uniformly)g(within)
i(the)h(type)e(frame)n(w)o(ork)g(we)h(can)g(model)523
1148 y(their)d(beha)n(viours)f(more)h(accurately)g(and)g(obtain)g
(better)g(predictions)f(of)h(an)h(application')-5 b(s)19
b(long-)523 1248 y(term)h(beha)n(viour)-5 b(.)648 1350
y(W)e(e)27 b(ha)n(v)o(e)f(been)f(e)o(xploring)f(the)i(notion)g(of)g
Fs(ionic)f(types)i Fz(which)f(allo)n(w)g(functionality)e(to)j(be)523
1450 y(deliberately)22 b(e)o(xtracted)h(from)f(an)i(object)f(while)h
(retaining)f(the)g(necessary)g(dependencies.)f(The)523
1549 y(resulting)j Fs(ion)g Fz(may)g(then)h(be)f(resolv)o(ed)f(against)
h(another)g(object)g(implementing)e(the)j(e)o(xtracted)523
1649 y(functions.)20 b(Ionic)g(types)h(pro)o(vide)f(a)h(direct)g(and)g
(type-safe)f(model)h(for)f(e)o(xamining)g(the)h(dynamic)523
1749 y(satisf)o(action)j(of)g(code)f(dependencies)f(in)i(its)h(v)n
(arious)e(guises,)g(pro)o(viding)f(ne)n(w)h(perspecti)n(v)o(es)g(on)523
1848 y(phenomena)18 b(including)g(inheritance,)g(mobile)i(agents,)f
(dele)o(gation)f(and)i(method)f(update.)648 1951 y(In)25
b(this)i(preliminary)d(study)i(we)g(present)g(a)g(system)g(of)g(ionic)g
(types)g(e)o(xpressed)f(within)g(the)523 2050 y(object)30
b(calculus)h(of)f(Abadi)g(and)g(Cardelli[2].)g(W)-7 b(e)31
b(introduce)e(ions)i(as)g(v)n(ariants)f(on)h(standard)523
2150 y(objects)17 b(by)g(pro)o(viding)e(types)i(and)g(operations)f(for)
h(remo)o(ving)e(and)i(resolving)f(functionality)-5 b(,)15
b(and)523 2249 y(sho)n(w)20 b(ho)n(w)g(the)g(ideas)h(apply)e(to)i(both)
f(objects)g(and)g(classes.)h(W)-7 b(e)21 b(discuss)g(some)f(of)h(the)f
(issues)h(in)523 2349 y(static)k Fs(ver)o(sus)g Fz(dynamic)d(checking)g
(of)i(ions,)f(and)h(then)f(describe)g(the)h(use)g(of)g(ions)g(in)g(a)g
(number)523 2449 y(of)g(scenarios)g(in)m(v)n(olving)f(dynamic)g
(changes)h(in)g(beha)n(viour)-5 b(.)23 b(W)-7 b(e)26
b(contrast)e(our)g(w)o(ork)g(with)g(that)523 2548 y(of)e(others)h(and)f
(brie\003y)g(sk)o(etch)g(a)h(possible)f(embedding)f(of)h(ions)h(into)f
(Ja)n(v)n(a,)h(before)e(concluding)523 2648 y(with)f(some)g(directions)
g(for)f(the)h(future.)523 2927 y Ft(2)99 b(Necessary)25
b(f)n(ormalism)523 3139 y Fz(W)-7 b(e)22 b(present)f(ions)g(using)g
(the)g(system)g Fp(O)r(b)1753 3151 y Fy(1)p Fo(<)p Fy(:)1861
3139 y Fz(,)h(one)e(of)h(the)g(simplest)h(members)e(of)h(the)g(f)o
(amily)g(of)523 3238 y(object)g(calculi)f(de)n(v)o(eloped)f(by)i(Abadi)
f(and)g(Cardelli)i(\226)f(readers)f(f)o(amiliar)h(with)g(the)g(system)g
(may)523 3338 y(w)o(ant)i(to)f(skip)h(this)g(section.)f(It)h(should)f
(be)g(noted)g(that)g(ions)h(ha)n(v)o(e)f(no)g(essential)h(dependence)d
(on)523 3438 y(the)g(features)g(of)g(this)g(system)h(and)e(can)h
(easily)h(be)f(generalised)f(to)h(other)g(calculi.)1010
3759 y Fn(A)p Fw(,)p Fn(B)i Fw(::=)130 b(types)1095 3851
y Fn(X)223 b Fw(type)20 b(v)n(ariable)1095 3942 y Fn(K)221
b Fw(ground)21 b(type)1064 4033 y Fn(T)11 b(op)185 b
Fw(the)19 b(biggest)h(type)902 4126 y Fm([)p Fn(l)946
4134 y Fr(i)973 4126 y Fn(\035)1015 4134 y Fr(i)1062
4126 y Fm(:)i Fn(A)1163 4094 y Fr(i)p Fl(2)p Fx(1)p Fr(::n)1163
4144 y(i)1337 4126 y Fm(])h Fw(object)d(type)1011 4217
y Fn(A)h Fq(!)g Fn(B)135 b Fw(function)20 b(type)2257
3714 y Fn(a)p Fw(,)p Fn(b)e Fw(::=)296 b(terms)2333 3805
y Fn(x)371 b Fw(v)n(ariable)1985 3897 y Fm([)p Fn(l)2029
3905 y Fr(i)2077 3897 y Fm(=)21 b Fn(&)6 b Fm(\()p Fu(self)32
b Fm(:)21 b Fn(A)p Fm(\))p Fn(a)2529 3865 y Fr(i)p Fl(2)p
Fx(1)p Fr(::n)2529 3915 y(i)2703 3897 y Fm(])j Fw(object)19
b(literal)2312 3989 y Fn(a:l)351 b Fw(member)19 b(access)2106
4080 y Fn(a:l)j Fq(\()g Fn(&)6 b Fm(\()p Fn(x)20 b Fm(:)i
Fn(A)p Fm(\))p Fn(b)144 b Fw(member)19 b(update)2203
4171 y Fn(\025)p Fm(\()p Fn(x)i Fm(:)h Fn(A)p Fm(\))p
Fn(b)241 b Fw(function)19 b(literal)2288 4262 y Fn(b)p
Fm(\()p Fn(a)p Fm(\))326 b Fw(function)19 b(application)1423
4433 y Fv(Fig)o(.)11 b(1.)19 b Fw(Syntax)g(of)g(the)g
Fn(O)r(b)2141 4441 y Fx(1)p Fr(<)p Fx(:)2261 4433 y Fw(calculus)648
4725 y Fz(The)25 b(object)h(calculus)g(is)h(formed)e(using)h(the)g
(types)g(and)g(terms)g(from)f(\002gure)h(1.)g(An)g(object)523
4825 y(type)i(is)h(represented)d(by)i(a)g(sequence)f(of)h(labelled)g
(members,)f(all)h(labels)h(distinct.)f(An)g(object)523
4924 y(literal)21 b(maps)f(labels)h(to)g(v)n(alues,)f(where)g(a)h(v)n
(alue)f(may)g(include)g(a)h(reference)e(to)h(the)h(object)f(itself.)p
eop
%%Page: 3 3
3 2 bop 523 448 a Fz(These)23 b(self-referring)e(members)i(are)g(the)g
Fs(methods)g Fz(in)h(the)f(object,)g(and)g(are)g(constructed)f(using)
523 548 y(the)15 b Fp(&)23 b Fz(\(sigma\))15 b(binder)-5
b(.)14 b(A)i(method)e(term)h(such)g(as)i Fp(&)7 b Fk(\()p
Fs(self)35 b Fk(:)23 b Fp(O)r Fk(\))p Fp(b)17 b Fz(binds)e
Fs(self)28 b Fz(within)15 b Fp(b)h Fz(to)g(the)f(object)523
648 y(on)20 b(which)f(the)i(method)e(is)i(called.)e(More)h(comple)o(x)e
(methods)i(may)f(be)h(b)n(uilt)h(using)e(a)i Fp(\025)p
Fz(-term)f(for)523 747 y(the)g(body)e(of)i(the)g(method.)e(The)i
(\223dot\224)f(operator)f(is)j(used)f(to)g(access)g(the)g(members)f(of)
g(an)h(object,)523 847 y(and)31 b(will)h(implicitly)f(bind)g
Fs(self)45 b Fz(in)31 b(an)o(y)g(methods)g(accessed.)g(F)o(or)g(e)o
(xample)f(the)i(object)f(type)523 946 y Fp(O)i Fj(\021)d
Fk([)p Fp(v)s(al)j Fk(:)d Fp(I)7 b(nt;)14 b(g)s(et)30
b Fk(:)h Fp(U)9 b(nit)29 b Fj(!)i Fp(I)7 b(nt)p Fk(])25
b Fz(de\002nes)f(the)g(type)g(of)g(an)g(object)g(with)g(tw)o(o)h
(members,)523 1046 y(an)j(inte)o(ger)e Fp(v)s(al)k Fz(and)d(a)h
(function)e Fp(g)s(et)h Fz(taking)g(no)g(ar)o(guments)f(and)h
(returning)e(an)j(inte)o(ger)-5 b(.)27 b(One)523 1146
y(possible)18 b(object)f(with)h(this)g(type)g(is)h Fp(o)k
Fj(\021)g Fk([)p Fp(v)s(al)h Fk(=)f(1)p Fp(;)14 b(g)s(et)22
b Fk(=)g Fp(&)7 b Fk(\()p Fs(self)36 b Fk(:)23 b Fp(O)r
Fk(\))p Fp(\025)p Fk(\(\))p Fs(self)14 b Fp(:v)s(al)e
Fk(+)e(1])p Fz(,)17 b(where)523 1245 y(the)i Fp(g)s(et)f
Fz(member)g(is)i(a)f(method)e(with)i(self)h(reference)d
Fs(self)31 b Fz(and)19 b(a)g(body)e(consisting)h(of)h(a)g(function)523
1345 y(returning)f(the)i(v)n(alue)g(of)g Fp(v)s(al)i
Fz(plus)e(one.)648 1463 y(Note)c(that)g(the)h(use)f(of)g(methods)f
(does)i(not)f(af)n(fect)f(the)i(type)e(signatures)h(of)g(members,)f
(since)i Fp(&)7 b Fz(-)523 1563 y(binding)19 b(is)i(performed)d
(implicitly)h(by)h(the)h(dot)f(operator)-5 b(.)18 b(This)j(has)f(a)h
(number)e(of)h(implications,)523 1663 y(most)27 b(notably)e(that,)i
(using)f(the)g(e)o(xample)g(abo)o(v)o(e,)e Fp(o:g)s(et)j
Fz(\(with)g(no)f(application\))f(generates)h(an)523 1762
y(ordinary)19 b(function)g(whose)h(free)g Fs(self)34
b Fz(references)19 b(are)i(bound)e(to)i(the)f(object)g(from)g(which)g
(it)i(w)o(as)523 1862 y(accessed.)f(Note)h(also)f(that)h(the)f(usual)g
(interpretation)f(of)h(the)g(calculus)g(is)i(purely)d(functional,)f(so)
523 1961 y(assigning)g(to)i(a)f(member)f(generates)g(a)i(ne)n(w)f
(object)g(rather)f(than)h(an)g(update-in-place.)535 2270
y Fw(\(Sub)e(Object\))842 2361 y Fn(\000)32 b Fq(`)21
b Fn(\035)1031 2369 y Fr(i)1057 2361 y Fn(B)1115 2369
y Fr(i)1163 2361 y Fn(<)p Fm(:)g Fn(\035)1310 2329 y
Fl(0)1307 2375 y Fr(i)1333 2361 y Fn(B)1395 2329 y Fl(0)1391
2375 y Fr(i)p 535 2392 1191 4 v 546 2467 a Fm([)p Fn(l)590
2475 y Fr(i)617 2467 y Fn(\035)659 2475 y Fr(i)706 2467
y Fm(:)h Fn(B)811 2435 y Fr(i)p Fl(2)p Fx(1)p Fr(::n)p
Fx(+)p Fr(m)807 2487 y(i)1086 2467 y Fm(])g Fn(<)p Fm(:)f([)p
Fn(l)1275 2475 y Fr(i)1302 2467 y Fn(\035)1347 2436 y
Fl(0)1344 2481 y Fr(i)1391 2467 y Fm(:)h Fn(B)1496 2415
y Fi(0)1518 2436 y Fr(i)p Fl(2)p Fx(1)p Fr(::n)1492 2486
y(i)1692 2467 y Fm(])1749 2415 y Fq(8)p Fn(i)f Fq(2)g(f)p
Fm(1)p Fn(::n)p Fq(g)p Fw(,)g Fn(\035)2195 2423 y Fr(i)2242
2415 y Fq(2)h(f)2353 2383 y Fx(0)2388 2415 y Fn(;)2409
2383 y Fx(+)2473 2415 y Fq(g)535 2667 y Fw(\(Sub)c(in)m(v)n(ariant\))
674 2758 y Fn(\000)32 b Fq(`)21 b Fn(B)p 535 2789 487
4 v 547 2853 a(\000)31 b Fq(`)693 2821 y Fx(0)728 2853
y Fn(B)25 b(<)p Fm(:)914 2821 y Fx(0)948 2853 y Fn(B)1705
2667 y Fw(\(Sub)19 b(co)o(v)n(ariant\))1717 2758 y Fn(\000)32
b Fq(`)21 b Fn(B)k(<)p Fm(:)d Fn(B)2112 2726 y Fl(0)p
1705 2789 441 4 v 1743 2853 a Fn(\035)s(B)j(<)p Fm(:)1973
2821 y Fx(+)2024 2853 y Fn(B)2086 2821 y Fl(0)2188 2806
y Fn(\035)f Fq(2)e(f)2365 2774 y Fx(0)2400 2806 y Fn(;)2421
2774 y Fx(+)2484 2806 y Fq(g)1493 3023 y Fv(Fig)o(.)12
b(2.)19 b Fn(O)r(b)1795 3031 y Fx(1)p Fr(<)p Fx(:)1914
3023 y Fw(object)g(sub-typing)648 3347 y Fz(Object)24
b(sub-typing)d(is)26 b(generally)c(in)m(v)n(ariant:)h(an)h(object)f
(type)h Fp(A)h Fz(is)g(a)f(sub-type)f(of)h(another)523
3447 y(object)19 b(type)g Fp(B)24 b Fz(if)n(f)19 b Fp(A)i
Fz(has)e(at)h(least)g(the)g(members)e(of)h Fp(B)24 b
Fz(with)c(the)f(same)h(types.)f(Ho)n(we)n(v)o(er)m(,)e(meth-)523
3547 y(ods)i(may)g(be)h(decorated)d(with)1430 3517 y
Fy(+)1505 3547 y Fz(to)j(mark)e(them)h(as)h(co)o(v)n(ariant)2363
3517 y Fh(1)2394 3547 y Fz(.)g(The)f(ordinary)e(form)i(of)g(method)523
3646 y(declaration,)e(with)j(no)f(annotation,)e(is)j(considered)d(a)j
(short-hand)d(for)h(an)h(in)m(v)n(ariance)e(decoration)523
3716 y Fy(0)560 3746 y Fz(.)h(\(Figure)e(2,)h(where)g(the)g
Fp(\035)1326 3758 y Fo(i)1371 3746 y Fz(represent)f(decorations.\))f(F)
o(or)i(our)f(w)o(ork)h(we)g(use)h(co)o(v)n(ariance)d(solely)523
3846 y(for)20 b(encoding)e(classes.)535 4154 y Fw(\(T)-6
b(ype)19 b(Class\))601 4245 y Fn(\000)32 b Fq(`)21 b
Fn(A)p 535 4276 338 4 v 547 4340 a(C)5 b(l)q(ass)p Fm(\()p
Fn(A)p Fm(\))936 4293 y Fw(object)19 b(type)g Fn(A)2003
4154 y Fw(\(Sub)f(Class\))2014 4245 y Fn(\000)32 b Fq(`)21
b Fn(C)5 b(l)q(ass)p Fm(\()p Fn(A)p Fm(\))97 b Fn(C)5
b(l)q(ass)p Fm(\()p Fn(B)t Fm(\))96 b Fn(A)21 b(<)p Fm(:)g
Fn(B)p 2003 4276 1241 4 v 2245 4340 a(C)5 b(l)q(ass)p
Fm(\()p Fn(A)p Fm(\))20 b Fn(<)p Fm(:)h Fn(C)5 b(l)q(ass)p
Fm(\()p Fn(B)t Fm(\))1335 4510 y Fv(Fig)o(.)12 b(3.)19
b Fn(O)r(b)1637 4518 y Fx(1)p Fr(<)p Fx(:)1756 4510 y
Fw(classes)g(and)h(class)f(sub-typing)p 523 4655 473
4 v 558 4710 a Fg(1)606 4742 y Fw(A)25 b(v)n(ariation)h(of)f
Fn(O)r(b)1154 4750 y Fx(1)p Fr(<)p Fx(:)1280 4742 y Fw(pro)o(vides)h
(contra)o(v)n(ariant)g(methods)h(as)e(well.)g(These)g(are)h(not)f
(needed)i(for)e(our)606 4833 y(purposes,)19 b(and)f(we)g(do)h(not)f(e)o
(xplicitly)f(address)i(them:)f(ho)n(we)n(v)o(er)m(,)h(there)f(seems)g
(no)g Fu(a)g(priori)g Fw(reason)h(why)606 4924 y(the)o(y)g(cannot)h(be)
f(accomodated.)p eop
%%Page: 4 4
4 3 bop 648 448 a Fz(Classes)18 b(are)e(not)g(re)o(garded)e(as)j
(primiti)n(v)o(e)e(b)n(ut)i(are)f(encoded)f(as)i(objects:)f(a)h(class)h
(for)e(an)g(object)523 548 y(type)h(is)g(simply)g(an)g(object)f(which)h
(b)n(uilds)g(instances)g(of)f(that)h(type)g(with)g(common)e
(de\002nitions)h(for)523 648 y(the)h(members,)f(and)g(there)h(may)f(be)
h(se)n(v)o(eral)g(classes)h(generating)d(objects)i(of)f(a)i(gi)n(v)o
(en)e(object)g(type.)523 747 y(F)o(or)g(an)f(object)h(type)f
Fp(A)24 b Fj(\021)e Fk([)p Fp(l)1348 759 y Fo(i)1399
747 y Fk(:)h Fp(A)1507 714 y Fo(i)p Ff(2)p Fy(1)p Fo(::n)1507
770 y(i)1693 747 y Fk(])17 b Fz(the)f(corresponding)c(class)17
b(type)f Fp(C)6 b(l)r(ass)p Fk(\()p Fp(A)p Fk(\))23 b
Fj(\021)f Fk([)p Fp(new)3303 717 y Fy(+)3382 747 y Fk(:)523
847 y Fp(A;)14 b(l)649 811 y Fy(+)647 870 y Fo(i)728
847 y Fk(:)24 b Fp(A)h Fj(!)f Fp(A)1031 814 y Fo(i)p
Ff(2)p Fy(1)p Fo(::n)1031 870 y(i)1217 847 y Fk(])d Fz(consists)h(of)e
(a)h(method)f Fp(new)j Fz(and)e(encodings)e(for)h(the)g(methods)g(as)i
Fs(pr)m(e-)523 946 y(methods)17 b Fz(\226)h(functions)f(from)g(a)h
(recei)n(ving)f(object)g(type)h Fp(A)g Fz(to)g(the)g(method)f(body)-5
b(.)16 b(The)i(co)o(v)n(ariance)523 1046 y(decorations)24
b(ensure)i Fp(A)34 b(<)p Fk(:)g Fp(B)k Fj(\))c Fp(C)6
b(l)r(ass)p Fk(\()p Fp(A)p Fk(\))34 b Fp(<)p Fk(:)g Fp(C)6
b(l)r(ass)p Fk(\()p Fp(B)t Fk(\))27 b Fz(\(\002gure)e(3\).)g(Each)h
(member)f(of)523 1146 y Fp(C)6 b(l)r(ass)p Fk(\()p Fp(A)p
Fk(\))26 b Fz(has)f(the)f(form)g Fk([)p Fp(new)34 b Fk(=)d
Fp(&)7 b Fk(\()p Fp(z)35 b Fk(:)c Fp(C)6 b(l)r(ass)p
Fk(\()p Fp(A)p Fk(\)\)[)p Fp(l)2256 1158 y Fo(i)2316
1146 y Fk(=)31 b Fp(&)7 b Fk(\()p Fs(self)44 b Fk(:)32
b Fp(A)p Fk(\))p Fp(z)t(:l)2880 1158 y Fo(i)2907 1146
y Fk(\()p Fp(s)p Fk(\))3010 1116 y Fo(i)p Ff(2)p Fy(1)p
Fo(::n)3196 1146 y Fk(])p Fp(;)14 b(l)3281 1158 y Fo(i)3340
1146 y Fk(=)523 1245 y Fp(\025)p Fk(\()p Fp(s)46 b Fk(:)g
Fp(A)p Fk(\))p Fp(a)895 1212 y Fo(i)p Ff(2)p Fy(1)p Fo(::n)895
1268 y(i)1081 1245 y Fk(])p Fz(,)33 b(where)e Fp(new)k
Fz(constructs)d(an)g(object)g(where)f(each)h(member)f(in)m(v)n(ok)o(es)
g(the)523 1345 y(appropriate)21 b(pre-method)f(on)i(the)h(class.)h(The)
e Fp(new)k Fz(method)21 b(models)i(the)f(mechanical)g(process)523
1445 y(of)29 b(constructing)e(an)i(object)f(from)h(a)g(class)h(rather)e
(than)h(being)f(a)h(\223constructor\224)e(in)j(the)f(usual)523
1544 y(sense)21 b(of)f(object-oriented)d(languages.)523
1803 y Ft(3)99 b(Ionic)25 b(objects)523 1996 y Fz(In)20
b(this)h(section)f(we)g(de)n(v)o(elop)e(a)j(minimal)f(type)f(model)h
(for)f(ions.)648 2096 y(First)33 b(we)f(need)g(to)g(formalise)g(some)g
(intuitions)f(about)h(the)g(construction)e(of)i(objects.)g(In)523
2195 y(man)o(y)23 b(cases)h(an)g(object)f(is)i(composed)d(of)i(sets)g
(of)g(methods,)e(each)i(implementing)e(a)i(particular)523
2295 y(aspect)i(or)f(feature)g(of)h(the)f(object')-5
b(s)26 b(o)o(v)o(erall)e(functionality)-5 b(.)24 b(These)h(features)g
(are)h(often)f(lar)o(gely)523 2394 y(independent)19 b(b)n(ut)i(weakly)f
(interacting.)g(In)g(some)h(cases)h(it)g(is)g(desirable)e(to)i(adapt)e
(the)h(object)g(by)523 2494 y(replacing)h(one)g(feature)g(without)h
(disturbing)e(the)j(others,)e(or)h(e)o(xtracting)e(one)i(or)g(more)f
(features)523 2594 y(for)e(use)g(else)n(where.)f(It)i(is)g(these)f
(manipulations)f(that)h(ionic)g(types)g(seek)g(to)g(model.)648
2693 y(Let)31 b Fp(A)45 b Fj(\021)f Fk([)p Fp(l)1054
2705 y Fo(i)1125 2693 y Fk(:)g Fp(A)1254 2660 y Fo(i)p
Ff(2)p Fy(1)p Fo(::n)1254 2716 y(i)1441 2693 y Fk(])32
b Fz(be)f(an)h(object)f(type)g(ha)n(ving)g(members)f(labeled)h(from)g
Fp(L)3243 2705 y Fo(A)3340 2693 y Fj(\021)523 2793 y(f)p
Fp(l)592 2760 y Fo(i)p Ff(2)p Fy(1)p Fo(::n)590 2816
y(i)777 2793 y Fj(g)p Fz(.)21 b(W)-7 b(e)23 b(may)e(partition)g(this)h
(label)f(set)h(into)g Fj(f)p Fp(L)2151 2805 y Fo(J)2196
2793 y Fj(g)2238 2808 y Fo(J)5 b Ff(\022f)p Fy(1)p Fo(::n)p
Ff(g)2517 2793 y Fz(,)22 b(each)g(of)f(which)g(induces)g(an)523
2910 y(object)j(type)h Fp(O)983 2922 y Fo(J)1061 2910
y Fj(\021)32 b Fk([)p Fp(l)1206 2922 y Fo(j)1273 2910
y Fk(:)f Fp(A)1389 2870 y Fo(j)s Ff(2)p Fo(J)1389 2933
y(j)1512 2910 y Fk(])p Fz(.)25 b(Each)f Fp(O)1835 2922
y Fo(J)1908 2910 y Fz(de\002nes)g(a)i(feature)e(which)g(combine)f(to)j
(form)d(the)523 3010 y(\002nal)c(de\002nition)f(of)g
Fp(O)r Fz(.)i(Generally)e(we)h(say)g(that)g(the)g Fp(O)2143
3022 y Fo(J)2209 3010 y Fs(co)o(ver)i Fp(A)e Fz(\(or)g(equi)n(v)n
(alently)d(that)j(the)g Fp(L)3359 3022 y Fo(J)523 3110
y Fz(co)o(v)o(er)i Fp(L)785 3122 y Fo(A)838 3110 y Fz(\),)i(since)f
Fp(A)27 b(<)p Fk(:)g Fp(O)1370 3122 y Fo(J)1440 3110
y Fz(for)21 b(all)i(the)f Fp(O)1852 3122 y Fo(J)1922
3110 y Fz(with)h(no)e(e)o(xtra)h(methods)f(being)h(introduced.)d(W)-7
b(e)523 3209 y(also)17 b(introduce)e(a)j(type)e(e)o(xtension)g
(operator)-5 b(.)15 b(If)i Fp(A)23 b Fj(\021)g Fk([)p
Fp(l)2159 3221 y Fo(i)2209 3209 y Fk(:)h Fp(A)2318 3176
y Fo(i)p Ff(2)p Fy(1)p Fo(::n)2318 3232 y(i)2504 3209
y Fk(])17 b Fz(and)g Fp(B)27 b Fj(\021)c Fk([)p Fp(l)2908
3221 y Fo(j)2965 3209 y Fk(:)h Fp(B)3079 3169 y Fo(j)s
Ff(2)p Fo(n)p Fy(+1)p Fo(::m)3075 3232 y(j)3382 3209
y Fk(])523 3330 y Fz(are)d(object)g(types,)f(we)i(de\002ne)e
Fp(A)g(.)e(B)29 b Fj(\021)24 b Fk([)p Fp(l)1802 3342
y Fo(i)1855 3330 y Fk(:)g Fp(A)1964 3297 y Fo(i)p Ff(2)p
Fy(1)p Fo(::n)1964 3353 y(i)2151 3330 y Fp(;)14 b(l)2213
3342 y Fo(j)2272 3330 y Fk(:)25 b Fp(B)2387 3290 y Fo(j)s
Ff(2)p Fo(n)p Fy(+1)p Fo(::m)2383 3353 y(j)2690 3330
y Fk(])d Fz(as)g(e)o(xtending)c Fp(A)k Fz(with)523 3430
y(the)i(members)f(of)g Fp(B)t Fz(.)i(Note)e(that)h(in)h(this)f
(de\002nition)f(the)h(tw)o(o)g(types)f(share)h(no)f(common)f(labels,)
523 3530 y(so)f(both)e Fp(A)g(.)f(B)27 b(<)p Fk(:)c Fp(A)e
Fz(and)e Fp(A)g(.)f(B)27 b(<)p Fk(:)c Fp(B)t Fz(.)648
3629 y(An)28 b(object)g(is)h(composed)e(of)h(methods,)f(which)h(in)h
(general)e(depend)g(on)h(the)g(e)o(xistence)g(of)523
3729 y(other)20 b(methods.)g(An)h(ion)g(is)h(created)e(by)h(remo)o
(ving)d(some)j(of)g(these)g(methods,)f(gi)n(ving)g(a)h(\223proto-)523
3828 y(object\224)29 b(which)g(may)g(only)g(be)h(used)f(again)g(when)g
(these)h(methods)e(ha)n(v)o(e)h(been)g(replaced.)f(An)523
3928 y(application)17 b(constructs)i(an)f(ion)h(by)g(specifying)e
(those)i(methods)e(of)i(an)g(object)f(which)h(should)f(be)523
4028 y(retained)f(in)h(the)g(ion;)g(the)g(type)f(rules)h(track)g(the)g
(\223missing\224)f(methods)g(to)h(guarantee)e(that)i(the)o(y)g(are)523
4127 y(replaced)24 b(by)g(compatible)f(implementations)g(when)h(the)h
(ion)f(is)i(de-ionised)d(back)h(to)h(an)g(object)523
4227 y(\(\002gure)19 b(4\).)648 4327 y(Let)k(tw)o(o)f(label)h(sets)h
Fp(L)1318 4339 y Fo(I)1379 4327 y Fz(and)e Fp(L)1579
4339 y Fo(D)1662 4327 y Fz(induce)g(types)g Fp(I)30 b
Fz(and)23 b Fp(D)i Fz(co)o(v)o(ering)20 b Fp(A)p Fz(.)j(Suppose)f(we)h
(ha)n(v)o(e)523 4426 y(an)e(object)g Fp(a)k Fk(:)h Fp(A)p
Fz(,)c(and)f(we)g(wish)h(to)g(capture)e(the)h(members)g(in)g
Fp(L)2456 4438 y Fo(I)2494 4426 y Fz(.)h(W)-7 b(e)22
b(cannot)e(simply)h(remo)o(v)o(e)523 4526 y(those)c(members)f(in)i
Fp(L)1178 4538 y Fo(D)1255 4526 y Fz(as)g(the)f(bodies)g(of)g(the)g
Fp(L)1959 4538 y Fo(I)2015 4526 y Fz(members)f(will)i(generally)e
(depend)f(on)i(the)g Fp(L)3345 4538 y Fo(D)523 4625 y
Fz(for)f(their)g(de\002nition.)g(W)-7 b(e)17 b(therefore)e(capture)g
(the)i(dependenc)o(y)c(which)k(the)f(members)g(in)g Fp(L)3196
4637 y Fo(I)3251 4625 y Fz(ha)n(v)o(e)523 4725 y(on)h(the)g(members)f
(in)i Fp(L)1205 4737 y Fo(D)1282 4725 y Fz(by)f(de\002ning)f(a)h(type)g
Fp(I)7 b(on)p Fk(\()p Fp(A;)14 b(D)r Fk(\))19 b Fz(\(read)d(as)i
(\223ion)f(of)g Fp(A)h Fz(at)f Fp(D)r Fz(\224\).)g(Because)523
4825 y(all)24 b(labels)f(are)g(unique,)f Fp(A)h Fz(and)g
Fp(D)j Fz(uniquely)21 b(specify)h Fp(I)7 b Fz(,)24 b(and)e(also)i
Fp(A)k(<)p Fk(:)h Fp(D)r Fz(.)23 b(The)g(members)f(of)523
4924 y(such)e(types)h(\226)g(the)g Fs(ions)f Fz(\226)h(represent)f
(objects)g(which)g(ha)n(v)o(e)g(some)h(of)f(their)h(members)e
(abstracted)p eop
%%Page: 5 5
5 4 bop 667 2161 a
 currentpoint currentpoint translate 0.68407 0.68407 scale neg exch
neg exch translate
 667 2161 a @beginspecial 0 @llx 0
@lly 455 @urx 315 @ury 4550 @rwi @setspecial
%%BeginDocument: /local/dobsons/projects/ions/ecoop00//basics.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: basics.eps
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Tue Mar 14 10:36:02 2000
%%For: dobsons@puccini.dsg.cs.tcd.ie (Simon Dobson)
%%Orientation: Portrait
%%BoundingBox: 0 0 455 315
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/MyAppDict 100 dict dup begin def
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-22.0 333.0 translate
1 -1 scale
.9 .9 scale % to make patterns same scale as in xfig

% This junk string is used by the show operators
/PATsstr 1 string def
/PATawidthshow { 	% cx cy cchar rx ry string
  % Loop over each character in the string
  {  % cx cy cchar rx ry char
    % Show the character
    dup				% cx cy cchar rx ry char char
    PATsstr dup 0 4 -1 roll put	% cx cy cchar rx ry char (char)
    false charpath		% cx cy cchar rx ry char
    /clip load PATdraw
    % Move past the character (charpath modified the
    % current point)
    currentpoint			% cx cy cchar rx ry char x y
    newpath
    moveto			% cx cy cchar rx ry char
    % Reposition by cx,cy if the character in the string is cchar
    3 index eq {			% cx cy cchar rx ry
      4 index 4 index rmoveto
    } if
    % Reposition all characters by rx ry
    2 copy rmoveto		% cx cy cchar rx ry
  } forall
  pop pop pop pop pop		% -
  currentpoint
  newpath
  moveto
} bind def
/PATcg {
  7 dict dup begin
    /lw currentlinewidth def
    /lc currentlinecap def
    /lj currentlinejoin def
    /ml currentmiterlimit def
    /ds [ currentdash ] def
    /cc [ currentrgbcolor ] def
    /cm matrix currentmatrix def
  end
} bind def
% PATdraw - calculates the boundaries of the object and
% fills it with the current pattern
/PATdraw {			% proc
  save exch
    PATpcalc			% proc nw nh px py
    5 -1 roll exec		% nw nh px py
    newpath
    PATfill			% -
  restore
} bind def
% PATfill - performs the tiling for the shape
/PATfill { % nw nh px py PATfill -
  PATDict /CurrentPattern get dup begin
    setfont
    % Set the coordinate system to Pattern Space
    PatternGState PATsg
    % Set the color for uncolored pattezns
    PaintType 2 eq { PATDict /PColor get PATsc } if
    % Create the string for showing
    3 index string		% nw nh px py str
    % Loop for each of the pattern sources
    0 1 Multi 1 sub {		% nw nh px py str source
	% Move to the starting location
	3 index 3 index		% nw nh px py str source px py
	moveto			% nw nh px py str source
	% For multiple sources, set the appropriate color
	Multi 1 ne { dup PC exch get PATsc } if
	% Set the appropriate string for the source
	0 1 7 index 1 sub { 2 index exch 2 index put } for pop
	% Loop over the number of vertical cells
	3 index 		% nw nh px py str nh
	{			% nw nh px py str
	  currentpoint		% nw nh px py str cx cy
	  2 index show		% nw nh px py str cx cy
	  YStep add moveto	% nw nh px py str
	} repeat		% nw nh px py str
    } for
    5 { pop } repeat
  end
} bind def

% PATkshow - kshow with the current pattezn
/PATkshow {			% proc string
  exch bind			% string proc
  1 index 0 get			% string proc char
  % Loop over all but the last character in the string
  0 1 4 index length 2 sub {
				% string proc char idx
    % Find the n+1th character in the string
    3 index exch 1 add get	% string proe char char+1
    exch 2 copy			% strinq proc char+1 char char+1 char
    % Now show the nth character
    PATsstr dup 0 4 -1 roll put	% string proc chr+1 chr chr+1 (chr)
    false charpath		% string proc char+1 char char+1
    /clip load PATdraw
    % Move past the character (charpath modified the current point)
    currentpoint newpath moveto
    % Execute the user proc (should consume char and char+1)
    mark 3 1 roll		% string proc char+1 mark char char+1
    4 index exec		% string proc char+1 mark...
    cleartomark			% string proc char+1
  } for
  % Now display the last character
  PATsstr dup 0 4 -1 roll put	% string proc (char+1)
  false charpath		% string proc
  /clip load PATdraw
  neewath
  pop pop			% -
} bind def
% PATmp - the makepattern equivalent
/PATmp {			% patdict patmtx PATmp patinstance
  exch dup length 7 add		% We will add 6 new entries plus 1 FID
  dict copy			% Create a new dictionary
  begin
    % Matrix to install when painting the pattern
    TilingType PATtcalc
    /PatternGState PATcg def
    PatternGState /cm 3 -1 roll put
    % Check for multi pattern sources (Level 1 fast color patterns)
    currentdict /Multi known not { /Multi 1 def } if
    % Font dictionary definitions
    /FontType 3 def
    % Create a dummy encoding vector
    /Encoding 256 array def
    3 string 0 1 255 {
      Encoding exch dup 3 index cvs cvn put } for pop
    /FontMatrix matrix def
    /FontBBox BBox def
    /BuildChar {
	mark 3 1 roll		% mark dict char
	exch begin
	Multi 1 ne {PaintData exch get}{pop} ifelse  % mark [paintdata]
	  PaintType 2 eq Multi 1 ne or
	  { XStep 0 FontBBox aload pop setcachedevice }
	  { XStep 0 setcharwidth } ifelse
	  currentdict		% mark [paintdata] dict
	  /PaintProc load	% mark [paintdata] dict paintproc
	end
	gsave
	  false PATredef exec true PATredef
	grestore
	cleartomark		% -
    } bind def
    currentdict
  end				% newdict
  /foo exch			% /foo newlict
  definefont			% newfont
} bind def
% PATpcalc - calculates the starting point and width/height
% of the tile fill for the shape
/PATpcalc {	% - PATpcalc nw nh px py
  PATDict /CurrentPattern get begin
    gsave
	% Set up the coordinate system to Pattern Space
	% and lock down pattern
	PatternGState /cm get setmatrix
	BBox aload pop pop pop translate
	% Determine the bounding box of the shape
	pathbbox			% llx lly urx ury
    grestore
    % Determine (nw, nh) the # of cells to paint width and height
    PatHeight div ceiling		% llx lly urx qh
    4 1 roll				% qh llx lly urx
    PatWidth div ceiling		% qh llx lly qw
    4 1 roll				% qw qh llx lly
    PatHeight div floor			% qw qh llx ph
    4 1 roll				% ph qw qh llx
    PatWidth div floor			% ph qw qh pw
    4 1 roll				% pw ph qw qh
    2 index sub cvi abs			% pw ph qs qh-ph
    exch 3 index sub cvi abs exch	% pw ph nw=qw-pw nh=qh-ph
    % Determine the starting point of the pattern fill
    %(px, py)
    4 2 roll				% nw nh pw ph
    PatHeight mul			% nw nh pw py
    exch				% nw nh py pw
    PatWidth mul exch			% nw nh px py
  end
} bind def

% Save the original routines so that we can use them later on
/oldfill	/fill load def
/oldeofill	/eofill load def
/oldstroke	/stroke load def
/oldshow	/show load def
/oldashow	/ashow load def
/oldwidthshow	/widthshow load def
/oldawidthshow	/awidthshow load def
/oldkshow	/kshow load def

% These defs are necessary so that subsequent procs don't bind in
% the originals
/fill	   { oldfill } bind def
/eofill	   { oldeofill } bind def
/stroke	   { oldstroke } bind def
/show	   { oldshow } bind def
/ashow	   { oldashow } bind def
/widthshow { oldwidthshow } bind def
/awidthshow { oldawidthshow } bind def
/kshow 	   { oldkshow } bind def
/PATredef {
  MyAppDict begin
    {
    /fill { /clip load PATdraw newpath } bind def
    /eofill { /eoclip load PATdraw newpath } bind def
    /stroke { PATstroke } bind def
    /show { 0 0 null 0 0 6 -1 roll PATawidthshow } bind def
    /ashow { 0 0 null 6 3 roll PATawidthshow }
    bind def
    /widthshow { 0 0 3 -1 roll PATawidthshow }
    bind def
    /awidthshow { PATawidthshow } bind def
    /kshow { PATkshow } bind def
  } {
    /fill   { oldfill } bind def
    /eofill { oldeofill } bind def
    /stroke { oldstroke } bind def
    /show   { oldshow } bind def
    /ashow  { oldashow } bind def
    /widthshow { oldwidthshow } bind def
    /awidthshow { oldawidthshow } bind def
    /kshow  { oldkshow } bind def
    } ifelse
  end
} bind def
false PATredef
% Conditionally define setcmykcolor if not available
/setcmykcolor where { pop } {
  /setcmykcolor {
    1 sub 4 1 roll
    3 {
	3 index add neg dup 0 lt { pop 0 } if 3 1 roll
    } repeat
    setrgbcolor - pop
  } bind def
} ifelse
/PATsc {		% colorarray
  aload length		% c1 ... cn length
    dup 1 eq { pop setgray } { 3 eq { setrgbcolor } { setcmykcolor
  } ifelse } ifelse
} bind def
/PATsg {		% dict
  begin
    lw setlinewidth
    lc setlinecap
    lj setlinejoin
    ml setmiterlimit
    ds aload pop setdash
    cc aload pop setrgbcolor
    cm setmatrix
  end
} bind def

/PATDict 3 dict def
/PATsp {
  true PATredef
  PATDict begin
    /CurrentPattern exch def
    % If it's an uncolored pattern, save the color
    CurrentPattern /PaintType get 2 eq {
      /PColor exch def
    } if
    /CColor [ currentrgbcolor ] def
  end
} bind def
% PATstroke - stroke with the current pattern
/PATstroke {
  countdictstack
  save
  mark
  {
    currentpoint strokepath moveto
    PATpcalc				% proc nw nh px py
    clip newpath PATfill
    } stopped {
	(*** PATstroke Warning: Path is too complex, stroking
	  with gray) =
    cleartomark
    restore
    countdictstack exch sub dup 0 gt
	{ { end } repeat } { pop } ifelse
    gsave 0.5 setgray oldstroke grestore
  } { pop restore pop } ifelse
  newpath
} bind def
/PATtcalc {		% modmtx tilingtype PATtcalc tilematrix
  % Note: tiling types 2 and 3 are not supported
  gsave
    exch concat					% tilingtype
    matrix currentmatrix exch			% cmtx tilingtype
    % Tiling type 1 and 3: constant spacing
    2 ne {
	% Distort the pattern so that it occupies
	% an integral number of device pixels
	dup 4 get exch dup 5 get exch		% tx ty cmtx
	XStep 0 dtransform
	round exch round exch			% tx ty cmtx dx.x dx.y
	XStep div exch XStep div exch		% tx ty cmtx a b
	0 YStep dtransform
	round exch round exch			% tx ty cmtx a b dy.x dy.y
	YStep div exch YStep div exch		% tx ty cmtx a b c d
	7 -3 roll astore			% { a b c d tx ty }
    } if
  grestore
} bind def
/PATusp {
  false PATredef
  PATDict begin
    CColor PATsc
  end
} bind def

% right30
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 16 true [ 32 0 0 -16 0 16 ]
	{<00030003000c000c0030003000c000c0030003000c000c00
	30003000c000c00000030003000c000c0030003000c000c0
	030003000c000c0030003000c000c000>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P2 exch def

% left45
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 32 true [ 32 0 0 -32 0 32 ]
	{<808080804040404020202020101010100808080804040404
	020202020101010180808080404040402020202010101010
	080808080404040402020202010101018080808040404040
	202020201010101008080808040404040202020201010101
	808080804040404020202020101010100808080804040404
	0202020201010101>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P4 exch def

% crosshatch45
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 32 true [ 32 0 0 -32 0 32 ]
	{<828282824444444428282828101010102828282844444444
	828282820101010182828282444444442828282810101010
	282828284444444482828282010101018282828244444444
	282828281010101028282828444444448282828201010101
	828282824444444428282828101010102828282844444444
	8282828201010101>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P6 exch def

% horizontal lines
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 16 8 true [ 16 0 0 -8 0 8 ]
	{< ffff000000000000ffff000000000000>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P9 exch def
1.1111 1.1111 scale %restore scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 6550 m -1000 -1000 l 8942 -1000 l 8942 6550 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 750 1350 m 1350 1350 l 1350 1500 l 750 1500 l cp gs col7 1.00 shd ef gr gs col0 s gr 
% Polyline
n 750 1350 m 1350 1350 l 1350 1500 l 750 1500 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P2 [16 0 0 -8 50.00 90.00] PATmp PATsp ef gr PATusp gs col0 s gr 
/Times-Italic ff 180.00 scf sf
3375 3750 m
gs 1 -1 sc (The ion must have this) col0 sh gr
/Times-Italic ff 180.00 scf sf
3375 3975 m
gs 1 -1 sc (method resolved before use) col0 sh gr
% Polyline
gs  clippath
2595 3720 m 2625 3600 l 2655 3720 l 2655 3585 l 2595 3585 l cp
clip
n 2625 4125 m 2625 3600 l gs col0 s gr gr

% arrowhead
n 2595 3720 m 2625 3600 l 2655 3720 l  col0 s
% Polyline
n 2700 3825 m 3300 3825 l 3300 3975 l 2700 3975 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P2 [16 0 0 -8 180.00 255.00] PATmp PATsp ef gr PATusp gs col0 s gr 
/Times-Italic ff 180.00 scf sf
3375 4950 m
gs 1 -1 sc (The ion retains these methods) col0 sh gr
% Polyline
30.000 slw
 [60] 0 sd
gs  clippath
2283 3279 m 2361 3414 l 2222 3345 l 2402 3514 l 2464 3448 l cp
clip
n 1200 2325 m 2400 3450 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2283 3279 m 2361 3414 l 2222 3345 l  col0 s
% Polyline
 [60] 0 sd
gs  clippath
4029 2367 m 4164 2288 l 4095 2428 l 4264 2248 l 4198 2186 l cp
clip
n 3075 3450 m 4200 2250 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 4029 2367 m 4164 2288 l 4095 2428 l  col0 s
% Polyline
7.500 slw
n 4725 600 m 5325 600 l 5325 750 l 4725 750 l cp gs col7 1.00 shd ef gr gs col0 s gr 
% Polyline
n 4725 600 m 5325 600 l 5325 750 l 4725 750 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P2 [16 0 0 -8 315.00 40.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
gs  clippath
4695 1320 m 4725 1200 l 4755 1320 l 4755 1185 l 4695 1185 l cp
clip
n 4725 1725 m 4725 1200 l gs col0 s gr gr

% arrowhead
n 4695 1320 m 4725 1200 l 4755 1320 l  col0 s
% Polyline
gs  clippath
5445 705 m 5325 675 l 5445 645 l 5310 645 l 5310 705 l cp
clip
n 5325 675 m 5775 675 l 5775 2025 l 4875 2025 l gs col0 s gr gr

% arrowhead
n 5445 705 m 5325 675 l 5445 645 l  col0 s
/Times-Italic ff 180.00 scf sf
5850 1500 m
gs 1 -1 sc (Resolving object must) col0 sh gr
/Times-Italic ff 180.00 scf sf
5850 1725 m
gs 1 -1 sc (include those methods on) col0 sh gr
/Times-Italic ff 180.00 scf sf
5850 1950 m
gs 1 -1 sc (which the ion depends, and) col0 sh gr
/Times-Italic ff 180.00 scf sf
5850 2175 m
gs 1 -1 sc (may provide more) col0 sh gr
/Courier ff 180.00 scf sf
1050 3075 m
gs 1 -1 sc (ionise) col0 sh gr
/Courier ff 180.00 scf sf
2775 2775 m
gs 1 -1 sc (deionise) col0 sh gr
/Courier ff 180.00 scf sf
675 2550 m
gs 1 -1 sc (A) col0 sh gr
/Courier ff 180.00 scf sf
2550 5550 m
gs 1 -1 sc (Ion\(A,D\)) col0 sh gr
/Courier ff 180.00 scf sf
3675 1275 m
gs 1 -1 sc (D' <: D) col0 sh gr
/Times-Roman ff 180.00 scf sf
4950 3075 m
gs 1 -1 sc (Child object) col0 sh gr
/Times-Roman ff 180.00 scf sf
4950 450 m
gs 1 -1 sc (Parent object) col0 sh gr
% Ellipse
n 750 1725 375 600 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 750 1950 m 1350 1950 l 1350 2100 l 750 2100 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 50.00 130.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 750 1650 m 1350 1650 l 1350 1800 l 750 1800 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 50.00 110.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Ellipse
n 2625 4725 375 600 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 2625 4950 m 3225 4950 l 3225 5100 l 2625 5100 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 175.00 330.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 2625 4650 m 3225 4650 l 3225 4800 l 2625 4800 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 175.00 310.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Ellipse
n 4725 825 375 375 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 4725 900 m 5325 900 l 5325 1050 l 4725 1050 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P9 [16 0 0 -8 315.00 60.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Ellipse
n 4725 2325 375 600 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 4725 2550 m 5325 2550 l 5325 2700 l 4725 2700 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 315.00 170.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 4725 2250 m 5325 2250 l 5325 2400 l 4725 2400 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 315.00 150.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
$F2psEnd
rs
end

%%EndDocument
 @endspecial 667 2161 a
 currentpoint currentpoint translate 1 0.68407 div 1 0.68407 div scale
neg exch neg exch translate
 667 2161 a 1709 2335 a Fv(Fig)o(.)12
b(4.)19 b Fw(Ion)g(basics)523 2635 y Fz(and)25 b(which)f(may)h(be)g
(replaced)e(by)i(other)f(suitably-typed)f(members.)g(If)i
Fp(L)2770 2647 y Fo(D)2856 2635 y Fz(has)g(no)g(members)523
2735 y(\226)i(so)g Fp(D)38 b Fj(\021)d Fk([])p Fz(,)27
b(the)g(empty)f(object)g(type)g(usually)h(referred)e(to)i(as)g
Fp(r)r(oot)i Fz(\226)e(then)f(the)h(ion)g(has)g(no)523
2834 y(dependencies)f(and)h(is)i(essentially)f(an)g(ordinary)d(object)
2230 2804 y Fh(2)2263 2834 y Fz(.)j(W)-7 b(e)29 b(refer)e(to)h
Fp(A)h Fz(as)f(the)g Fs(underlying)523 2934 y(type)20
b Fz(of)g(the)g(ion,)g Fp(I)28 b Fz(as)21 b(its)g Fs(ionisation)e
Fz(type)p Fs(,)g Fz(and)h Fp(D)j Fz(as)d(its)i Fs(dependency)17
b(type)p Fz(.)648 3040 y(The)31 b(type)g(rules)h(for)e(ions)i(are)g
(sho)n(wn)e(in)i(\002gure)f(5.)g(Ionic)g(types)h(are)f(co)o(v)n(ariant)
f(in)i(their)523 3139 y(members)25 b(and)g(contra)n(v)n(ariant)f(in)i
(their)f(dependencies:)f(for)h(an)h(ion)g Fp(i)2617 3109
y Ff(0)2666 3139 y Fz(to)g(be)g(substitutable)f(for)523
3239 y(an)i(ion)g Fp(i)g Fz(it)h(must)f(pro)o(vide)e
Fs(at)i(least)i Fz(the)e(same)g(members)f(with)h Fs(no)g(mor)m(e)g
Fz(dependencies.)e(The)523 3339 y Fp(ionise)p Fk(\(\))16
b Fz(operation)f(generates)g(an)h(ion)g(from)f(an)h(object)g(gi)n(v)o
(en)f(a)h(description)f(of)h(the)g(methods)f(to)523 3438
y(retain.)21 b(The)f Fp(deionise)p Fk(\(\))h Fz(operation)f(resolv)o
(es)g(these)h(dependencies)e(against)i(another)e(suitably-)523
3538 y(typed)g(object,)g(dele)o(gating)e(the)j(methods)e(in)i(the)g
(dependenc)o(y)c(type)k(to)f(this)i(object)e(and)g(yielding)523
3638 y(an)h(object)f(which)g(includes)g(the)h(actual)f(type)g(of)h(the)
f(object)g(against)g(which)h(the)f(ion)h(is)g(resolv)o(ed.)648
3744 y(There)k(is)i(a)f(small)g(subtlety)g(concerning)d(method)i(o)o(v)
o(erriding.)e(Suppose)i(that)h(we)g(ha)n(v)o(e)f Fp(i)32
b Fk(:)523 3843 y Fp(I)7 b(on)p Fk(\()p Fp(A;)14 b(D)r
Fk(\))19 b Fz(and)e Fp(d)23 b Fk(:)g Fp(D)1230 3813 y
Ff(0)1277 3843 y Fp(<)p Fk(:)f Fp(D)f Fz(where)c Fp(D)1769
3813 y Ff(0)1810 3843 y Fz(also)h(includes)f(a)h(member)e
Fp(l)2627 3855 y Fo(j)2685 3843 y Fk(:)23 b Fp(A)2793
3803 y Fo(j)s Ff(2)p Fo(L)2914 3811 y Fe(I)2793 3866
y Fo(j)2952 3843 y Fz(.)17 b(It)h(is)h(possible)523 3943
y(that)32 b(both)e Fp(A)j Fz(and)e Fp(D)1177 3913 y Ff(0)1232
3943 y Fz(may)g(include)g(a)h(member)e Fp(l)2082 3955
y Fo(j)2117 3943 y Fz(,)h(so)h Fp(deionise)p Fk(\()p
Fp(i;)14 b(d)p Fk(\))31 b Fz(must)h(select)g(which)523
4042 y(method)17 b(body)f(to)j(use)f(in)g(the)g(deionised)f(object.)g
(It)h(is)h(also)g(possible)f(that)g(the)g(tw)o(o)g(method)f(types)523
4142 y(are)h(incompatible,)d(since)j Fp(A)g Fz(and)f
Fp(D)1593 4112 y Ff(0)1635 4142 y Fz(may)g(be)g(sub-types)g(of)g
Fp(D)j Fz(do)n(wn)d(tw)o(o)h(dif)n(ferent)e(sub-typing)523
4242 y(paths.)k(Since)g(both)f Fp(i)i Fz(and)e Fp(d)i
Fz(may)f(contain)f(a)i(de\002nition)e(of)h Fp(l)2308
4254 y Fo(j)2363 4242 y Fz(we)h(must)f(mak)o(e)g(three)g(decisions:)560
4456 y(1.)41 b(If)20 b(a)h(method)e(de\002ned)g(in)h
Fp(i)h Fz(in)m(v)n(ok)o(es)e Fp(l)1766 4468 y Fo(j)1801
4456 y Fz(,)h(which)g(implementation)e(is)j(used?;)560
4562 y(2.)41 b(If)20 b(a)h(method)e(de\002ned)g(in)h
Fp(d)h Fz(in)m(v)n(ok)o(es)e Fp(l)1780 4574 y Fo(j)1815
4562 y Fz(,)i(which)e(implementation)f(is)j(used?;)f(and)560
4668 y(3.)41 b(If)20 b(a)h(client)f(of)g Fp(deionise)p
Fk(\()p Fp(i;)14 b(d)p Fk(\))20 b Fz(in)m(v)n(ok)o(es)f
Fp(l)1892 4680 y Fo(j)1927 4668 y Fz(,)h(what)g(implementation)e(is)j
(used?)p 523 4746 473 4 v 558 4801 a Fg(2)606 4833 y
Fw(One)16 b(could)h(therefore)g(de\002ne)f(an)h(object)f(calculus)h
(completely)g(in)f(terms)g(of)g(ions,)g(or)g(equate)h
Fn(I)6 b(on)p Fm(\()p Fn(A;)12 b Fm([]\))606 4924 y Fw(with)19
b Fn(A)p Fw(.)p eop
%%Page: 6 6
6 5 bop 535 429 a Fw(\(T)-6 b(ype)19 b(Ion\))546 521
y Fn(\000)32 b Fq(`)21 b Fn(A)97 b(\000)32 b Fq(`)22
b Fn(I)102 b(\000)32 b Fq(`)21 b Fn(D)p 535 551 822 4
v 702 615 a(\000)32 b Fq(`)21 b Fn(I)6 b(on)p Fm(\()p
Fn(A;)13 b(D)r Fm(\))1380 568 y Fw(object)19 b(type)g
Fn(A)g Fw(co)o(v)o(ered)h(by)f Fn(I)6 b(;)13 b(D)535
865 y Fw(\(Sub)18 b(Ion\))546 956 y Fn(\000)32 b Fq(`)21
b Fn(I)6 b(on)p Fm(\()p Fn(A;)13 b(D)r Fm(\))98 b Fn(\000)32
b Fq(`)21 b Fn(I)6 b(on)p Fm(\()p Fn(A)1489 924 y Fl(0)1511
956 y Fn(;)13 b(D)1610 924 y Fl(0)1632 956 y Fm(\))98
b Fn(\000)32 b Fq(`)21 b Fn(A)1965 924 y Fl(0)2008 956
y Fn(<)p Fm(:)h Fn(A)97 b(\000)31 b Fq(`)22 b Fn(D)h(<)p
Fm(:)f Fn(D)2667 924 y Fl(0)p 535 987 2167 4 v 1120 1051
a Fn(\000)32 b Fq(`)22 b Fn(I)6 b(on)p Fm(\()p Fn(A)1479
1019 y Fl(0)1500 1051 y Fn(;)13 b(D)1599 1019 y Fl(0)1622
1051 y Fm(\))21 b Fn(<)p Fm(:)h Fn(I)6 b(on)p Fm(\()p
Fn(A;)12 b(D)r Fm(\))535 1300 y Fw(\(V)-8 b(al)18 b(Ionise\))613
1392 y Fn(\000)32 b Fq(`)21 b Fn(A)97 b(\000)32 b Fq(`)21
b Fn(I)103 b(\000)32 b Fq(`)21 b Fn(D)566 1483 y(\000)32
b Fq(`)21 b Fn(I)6 b(on)p Fm(\()p Fn(A;)12 b(D)r Fm(\))98
b Fn(\000)32 b Fq(`)21 b Fn(a)g Fm(:)h Fn(A)p 535 1514
956 4 v 547 1578 a(\000)31 b Fq(`)21 b Fn(ionise)p Fm(\()p
Fn(a;)14 b(I)6 b Fm(\))20 b(:)i Fn(I)6 b(on)p Fm(\()p
Fn(A;)12 b(D)r Fm(\))1514 1485 y Fw(object)19 b(type)g
Fn(A)g Fw(co)o(v)o(ered)g(by)h Fn(I)6 b(;)12 b(D)535
1827 y Fw(\(V)-8 b(al)18 b(Deionise\))905 1919 y Fn(\000)32
b Fq(`)21 b Fn(A)97 b(\000)32 b Fq(`)21 b Fn(I)103 b(\000)32
b Fq(`)21 b Fn(D)546 2010 y(\000)32 b Fq(`)21 b Fn(i)h
Fm(:)g Fn(I)6 b(on)p Fm(\()p Fn(A;)12 b(D)r Fm(\))98
b Fn(\000)32 b Fq(`)21 b Fn(D)1433 1978 y Fl(0)1477 2010
y Fn(<)p Fm(:)h Fn(D)81 b(\000)32 b Fq(`)21 b Fn(d)g
Fm(:)h Fn(D)2040 1978 y Fl(0)p 535 2041 1540 4 v 877
2105 a Fn(\000)32 b Fq(`)22 b Fn(deionise)p Fm(\()p Fn(i;)13
b(d)p Fm(\))21 b(:)h Fn(I)g(.)c(D)1709 2073 y Fl(0)2097
2012 y Fw(object)i(type)f Fn(A)f Fw(co)o(v)o(ered)i(by)g
Fn(I)6 b(;)12 b(D)1579 2275 y Fv(Fig)o(.)g(5.)19 b Fw(T)-6
b(ype)19 b(rules)g(for)g(ions)523 2563 y Fz(This)k(problem)e(has)h
(arisen)h(in)f(other)g(guises,)g(and)g(most)h(of)f(the)h(combinations)d
(ha)n(v)o(e)i(been)g(tried)523 2663 y(\(see)29 b(section)g(7\).)g(In)g
(the)g(current)f(application,)f(we)j(w)o(ant)f(to)g(use)g(ions)h(to)f
(model)f(transparent)523 2763 y(dele)o(gation)17 b(of)i(functionality)e
(to)i(other)f(objects)h(in)g(order)f(to)h(support)f(mobility)g(and)g
(other)g(appli-)523 2862 y(cations.)24 b(Speci\002cally)f(we)i(w)o(ant)
f(to)g(be)g(able)g(to)g(deionise)g(se)n(v)o(eral)f(ions)h(against)g
(the)g(same)g(par)n(-)523 2962 y(ent)j(object)g(whilst)h(lea)n(ving)e
(the)h(parent')-5 b(s)27 b(beha)n(viour)e(unchanged.)f(This)j
(contrasts)g(with)g(most)523 3062 y(dele)o(gation-based)d(languages)i
(in)h(which)g(the)g(additional)f(functionality)f(may)i(change)f(the)h
(be-)523 3161 y(ha)n(viour)19 b(of)h(the)g(parent)f(object.)648
3261 y(W)-7 b(e)21 b(therefore)d(adopt)i(the)g(follo)n(wing)e(model:)
560 3445 y(1.)41 b(If)26 b(the)g(method)f(is)i(de\002ned)e(only)g(in)h
Fp(i;)h Fz(in)m(v)n(ocations)d(from)h(clients)i(of)e
Fp(deionise)p Fk(\()p Fp(i;)14 b(d)p Fk(\))26 b Fz(and)664
3545 y(from)20 b(methods)g(de\002ned)f(in)i Fp(i)g Fz(use)g(the)g
(implementation)e(from)h Fp(i)g Fz(\226)h(by)g(de\002nition)e(there)i
(will)664 3644 y(be)f(no)g(in)m(v)n(ocations)f(from)g
Fp(d)p Fz(;)560 3744 y(2.)41 b(If)24 b(the)f(method)g(is)h(de\002ned)f
(in)h Fp(i)g Fz(and)f Fp(d)p Fz(,)h(and)f(the)h(tw)o(o)g(are)g
(type-incompatible,)c(a)k(dynamic)664 3844 y(type)c(error)f(occurs;)560
3944 y(3.)41 b(Otherwise,)20 b(all)h(in)m(v)n(ocations)d(use)j(the)f
(implementation)e(from)h Fp(d)p Fz(.)523 4127 y(It)31
b(should)e(be)i(noted)e(that)i(point)e(2)i(is)g(the)g(only)e(place)i
(where)f(ionic)g(types)g(require)f(dynamic)523 4227 y(checks.)648
4327 y(These)23 b(rules)g(are)h(formalised)e(in)h(\002gure)g(6.)g
(\(The)g(side)h(conditions)e(re\003ect)h(the)h(interactions)523
4426 y(between)19 b(ions)h(and)f(classes)i(dealt)f(with)g(in)g(the)g
(ne)o(xt)f(section.\))g(The)g(object)h Fp(d)g Fz(is)h(left)f
(completely)523 4526 y(unaf)n(fected)h(by)h(deionisation)f(against)h
(it,)i(meaning)d(that)i(se)n(v)o(eral)f(child)g(objects)h(may)f(safely)
h(be)523 4625 y(deionised)15 b(against)g(a)h(single)g(parent)f(without)
g(sensiti)n(vity)h(to)g(order)-5 b(.)15 b(Ho)n(we)n(v)o(er)m(,)e(some)j
(of)g(the)f(ion')-5 b(s)523 4725 y(functionality)21 b(may)h(not)h(be)g
(propagated)d(into)j(the)g(\002nal)g(deionised)f(object.)g(This)h(is)h
(the)f(critical)523 4825 y(dif)n(ference)j(between)h(ions)g(and)h(dele)
o(gation-based)c(systems:)k(the)o(y)f(pre)n(v)o(ent)f(o)o(v)o(erriding)
f(using)523 4924 y(the)f(type)f(system.)h(It)g(means)f(that)h(an)f(ion)
h(can)f(only)g(add)g(functionality)f(to)i(another)e(object,)h(not)p
eop
%%Page: 7 7
7 6 bop 523 448 a Fz(af)n(fect)21 b(functionality)f(already)g(present.)
h(This)g(is)i(essential)f(for)f(modeling)f(mobility)g(using)h(ions:)523
548 y(if)g(code)f(from)f(the)i(netw)o(ork)e(is)j(allo)n(wed)e(to)g(o)o
(v)o(erride)f(system-pro)o(vided)e(functionality)-5 b(,)18
b(it)j(opens)523 648 y(a)g(gaping)d(security)i(hole.)f(These)h(issues)h
(are)f(e)o(xamined)f(further)f(in)j(section)f(5.)535
926 y Fw(\(Eq)e(Ionise\))779 1033 y Fn(\000)32 b Fq(`)21
b Fn(a)g Fq($)g Fm([)p Fn(l)1130 1041 y Fr(j)1184 1033
y Fm(=)g Fn(a)1306 988 y Fr(l)1326 999 y Fe(j)1357 988
y Fl(2)p Fr(L)1441 999 y Fe(I)1474 988 y Fl([)p Fr(L)1558
999 y Fe(D)1306 1053 y Fr(j)1613 1033 y Fm(])h(:)g Fn(A)p
535 1066 1466 4 v 547 1137 a(\000)31 b Fq(`)21 b Fn(ionise)p
Fm(\()p Fn(a;)14 b(I)6 b Fm(\))20 b Fq($)h Fm([)p Fn(l)1238
1145 y Fr(j)1293 1137 y Fm(=)g Fn(a)1415 1100 y Fr(j)s
Fl(2)p Fr(L)1527 1111 y Fe(I)1415 1156 y Fr(j)1564 1137
y Fm(])g(:)h Fn(I)6 b(on)p Fm(\()p Fn(A;)13 b(D)r Fm(\))2024
1079 y Fn(L)2076 1087 y Fr(I)2111 1079 y Fn(;)g(L)2197
1087 y Fr(D)2272 1079 y Fw(co)o(v)o(er)19 b Fn(L)2506
1087 y Fr(A)2557 1079 y Fn(;)13 b(A;)g(I)24 b Fw(not)19
b(class)g(types)535 1388 y(\(Eq)f(Deionise\))1042 1495
y Fn(\000)31 b Fq(`)22 b Fn(c)f Fq($)g Fm([)p Fn(l)1385
1503 y Fr(j)1440 1495 y Fm(=)g Fn(c)1554 1450 y Fr(l)1574
1461 y Fe(j)1605 1450 y Fl(2)p Fr(L)1689 1461 y Fe(I)1554
1515 y Fr(j)1726 1495 y Fm(])h(:)f Fn(I)6 b(on)p Fm(\()p
Fn(A;)13 b(D)r Fm(\))1078 1596 y Fn(\000)32 b Fq(`)21
b Fn(d)g Fq($)g Fm([)p Fn(l)1428 1605 y Fr(k)1488 1596
y Fm(=)g Fn(d)1609 1559 y Fr(l)1629 1571 y Fe(k)1665
1559 y Fl(2)p Fr(L)1749 1570 y Fe(D)1800 1559 y Fl([)p
Fr(L)1884 1570 y Fe(X)1609 1618 y Fr(k)1942 1596 y Fm(])g(:)h
Fn(D)2092 1564 y Fl(0)p 535 1627 2124 4 v 546 1706 a
Fn(\000)32 b Fq(`)21 b Fn(deionise)p Fm(\()p Fn(c;)14
b(d)p Fm(\))21 b Fq($)g Fm([)p Fn(l)1307 1714 y Fr(j)1361
1706 y Fm(=)g Fn(c)1475 1662 y Fr(l)1495 1673 y Fe(j)1526
1662 y Fl(2)p Fr(L)1610 1673 y Fe(I)1643 1662 y Fl(\000)p
Fr(L)1733 1673 y Fe(X)1475 1726 y Fr(j)1791 1706 y Fn(;)13
b(l)1848 1715 y Fr(k)1908 1706 y Fm(=)21 b Fn(d)2029
1668 y Fr(l)2049 1680 y Fe(k)2085 1668 y Fl(2)p Fr(L)2169
1679 y Fe(D)2220 1668 y Fl([)p Fr(L)2304 1679 y Fe(X)2029
1727 y Fr(k)2361 1706 y Fm(])h(:)g Fn(I)g(.)c(D)2624
1674 y Fl(0)2681 1594 y Fn(A;)13 b(D)21 b Fw(not)e(class)g(types)1582
1878 y Fv(Fig)o(.)11 b(6.)19 b Fw(Semantics)g(for)g(ions)648
2172 y Fz(A)i(further)f(consequence)e(of)j(the)g(rule)g(\(V)-9
b(al)21 b(Deionise\))f(in)h(\002gure)g(5)g(is)h(that)f(the)g(\002nal)g
(type)g(of)523 2272 y(a)h(child)f(object)g(resulting)g(from)f
(deionisation)g(re\003ects)i(the)f(actual)h(type)f(of)g(its)h(parent:)f
(the)g(\002nal)523 2371 y(object)28 b(is)h(a)f(v)n(alid)g(sub-type)f
(of)g(the)i(ionisation)e(type,)g(the)h(actual)g(type)g(of)g(the)g
(parent)f(object,)523 2471 y(and)f(\(by)g(subsumption\))f(the)h
(dependenc)o(y)e(type.)i(This)h(means)f(that)h(an)g(application)e
(recei)n(ving)523 2570 y(an)j(ion)g(may)g(both)g(add)f(the)i(ion')-5
b(s)28 b(functionality)e(to)j(an)f(object)g(and)f(ensure)h(that)g(the)h
(object')-5 b(s)523 2670 y(e)o(xtra)23 b(methods)g(\(o)o(v)o(er)f(and)h
(abo)o(v)o(e)f(those)h(in)h(the)g(ion')-5 b(s)23 b(dependenc)o(y)e
(type\))i(remain)g(accessible.)523 2770 y(Assuming)31
b(no)h(name)f(clashes,)h(these)g(e)o(xtra)f(methods)g(are)h(in)m
(visible)f(to)h(the)g(method)e(bodies)523 2869 y(deri)n(v)o(ed)18
b(from)i(the)g(ion.)523 3155 y Ft(4)99 b(Ions)25 b(and)h(classes)523
3374 y Fz(As)d(mentioned)e(in)h(section)g(tw)o(o,)h Fp(O)r(b)1626
3386 y Fy(1)p Fo(<)p Fy(:)1757 3374 y Fz(does)f(not)g(treat)h(classes)g
(as)g(primiti)n(v)o(e.)e(Rather)m(,)h(a)h(class)523 3474
y(is)29 b(an)f(object)f(which)h(produces)e(objects)i(of)g(a)g(gi)n(v)o
(en)f(underlying)e(object)i(type)h(which)f(share)h(a)523
3573 y(common)f(implementation)g(of)i(their)g(methods.)e(If)i
Fp(X)36 b Fz(is)30 b(an)f(object)g(type)f(then)h Fp(C)6
b(l)r(ass)p Fk(\()p Fp(X)h Fk(\))29 b Fz(is)523 3673
y(the)24 b(object)g(type)g(of)f(classes)j(generating)c(objects)i(of)g
(type)f Fp(X)7 b Fz(.)24 b(In)g(this)h(section)f(we)g(e)o(xplore)e(the)
523 3772 y(interactions)d(of)h(the)g(class)h(and)f(ion)g
(constructions.)648 3876 y(The)29 b(\002rst)h(observ)n(ation)d(is)j
(that)g(the)f(class)h(construction)e(may)h(be)g(applied)f(to)i(ionic)f
(types)523 3976 y(in)c(tw)o(o)g(distinct)g(w)o(ays.)f(The)h(\002rst)g
(b)n(uilds)g(a)g(f)o(amily)f(of)h(types)f Fp(C)6 b(l)r(ass)p
Fk(\()p Fp(I)h(on)p Fk(\()p Fp(A;)14 b(D)r Fk(\)\))p
Fz(,)26 b(represent-)523 4075 y(ing)f(classes)g(which)g(create)f(ions)h
(rather)f(than)g(objects.)h(The)f(second)g(b)n(uilds)h(a)g(f)o(amily)f
(of)h(types)523 4175 y Fp(I)7 b(on)p Fk(\()p Fp(C)f(l)r(ass)p
Fk(\()p Fp(A)p Fk(\))p Fp(;)14 b(C)6 b(l)r(ass)p Fk(\()p
Fp(D)r Fk(\)\))p Fz(,)17 b(representing)d(classes)k(with)e(some)g
(functionality)e(e)o(xtracted.)g(W)-7 b(e)523 4274 y(refer)19
b(to)i(the)f(former)f(as)i Fs(ion)e(classes)i Fz(and)f(the)g(latter)h
(as)g Fs(ionised)e(classes)2667 4244 y Fh(3)2701 4274
y Fz(.)648 4378 y(An)25 b(ion)f(class)i(constructs)e(ions)h(in)g(the)g
(same)h(w)o(ay)f(as)g(a)h(class)g(constructs)e(objects:)h(it)g(gen-)523
4478 y(erates)h(instances)g(of)f(an)h(object)f(type)g(which)g(share)h
(a)g(common)e(implementation)g(\(\002gure)g(7a\).)523
4577 y(Each)c(object)g(created)g(by)h(a)g(class)g(is)h(identical)e(to)h
(all)g(others)f(in)h(terms)g(of)f(initial)h(state)h(b)n(ut)e(inde-)523
4677 y(pendent)c(in)i(terms)g(of)g(future)e(state)j(transitions;)f
(similarly)f(the)h(ions)g(created)f(by)g(an)h(ion)g(class)h(are)p
523 4746 473 4 v 558 4801 a Fg(3)606 4833 y Fw(There)f(are)f(actually)h
(tw)o(o)f(other)h(possibilities,)f Fn(I)6 b(on)p Fm(\()p
Fn(C)f(l)q(ass)p Fm(\()p Fn(A)p Fm(\))p Fn(;)12 b(D)r
Fm(\))17 b Fw(and)h Fn(I)6 b(on)p Fm(\()p Fn(A;)13 b(C)5
b(l)q(ass)p Fm(\()p Fn(D)r Fm(\)\))p Fw(,)16 b(which)606
4924 y(do)j(not)h(ha)o(v)o(e)f(ob)o(vious)h(interpretations)f(for)g
(arbitrary)g(types)g Fn(A)g Fw(and)g Fn(D)r Fw(.)p eop
%%Page: 8 8
8 7 bop 667 1213 a
 currentpoint currentpoint translate 0.46248 0.46248 scale neg exch
neg exch translate
 667 1213 a @beginspecial 0 @llx 0
@lly 673 @urx 220 @ury 6730 @rwi @setspecial
%%BeginDocument: /local/dobsons/projects/ions/ecoop00//classes.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: classes.eps
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Thu Mar  9 14:21:09 2000
%%For: dobsons@puccini.dsg.cs.tcd.ie (Simon Dobson)
%%Orientation: Portrait
%%BoundingBox: 0 0 673 220
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/MyAppDict 100 dict dup begin def
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-14.0 234.0 translate
1 -1 scale
.9 .9 scale % to make patterns same scale as in xfig

% This junk string is used by the show operators
/PATsstr 1 string def
/PATawidthshow { 	% cx cy cchar rx ry string
  % Loop over each character in the string
  {  % cx cy cchar rx ry char
    % Show the character
    dup				% cx cy cchar rx ry char char
    PATsstr dup 0 4 -1 roll put	% cx cy cchar rx ry char (char)
    false charpath		% cx cy cchar rx ry char
    /clip load PATdraw
    % Move past the character (charpath modified the
    % current point)
    currentpoint			% cx cy cchar rx ry char x y
    newpath
    moveto			% cx cy cchar rx ry char
    % Reposition by cx,cy if the character in the string is cchar
    3 index eq {			% cx cy cchar rx ry
      4 index 4 index rmoveto
    } if
    % Reposition all characters by rx ry
    2 copy rmoveto		% cx cy cchar rx ry
  } forall
  pop pop pop pop pop		% -
  currentpoint
  newpath
  moveto
} bind def
/PATcg {
  7 dict dup begin
    /lw currentlinewidth def
    /lc currentlinecap def
    /lj currentlinejoin def
    /ml currentmiterlimit def
    /ds [ currentdash ] def
    /cc [ currentrgbcolor ] def
    /cm matrix currentmatrix def
  end
} bind def
% PATdraw - calculates the boundaries of the object and
% fills it with the current pattern
/PATdraw {			% proc
  save exch
    PATpcalc			% proc nw nh px py
    5 -1 roll exec		% nw nh px py
    newpath
    PATfill			% -
  restore
} bind def
% PATfill - performs the tiling for the shape
/PATfill { % nw nh px py PATfill -
  PATDict /CurrentPattern get dup begin
    setfont
    % Set the coordinate system to Pattern Space
    PatternGState PATsg
    % Set the color for uncolored pattezns
    PaintType 2 eq { PATDict /PColor get PATsc } if
    % Create the string for showing
    3 index string		% nw nh px py str
    % Loop for each of the pattern sources
    0 1 Multi 1 sub {		% nw nh px py str source
	% Move to the starting location
	3 index 3 index		% nw nh px py str source px py
	moveto			% nw nh px py str source
	% For multiple sources, set the appropriate color
	Multi 1 ne { dup PC exch get PATsc } if
	% Set the appropriate string for the source
	0 1 7 index 1 sub { 2 index exch 2 index put } for pop
	% Loop over the number of vertical cells
	3 index 		% nw nh px py str nh
	{			% nw nh px py str
	  currentpoint		% nw nh px py str cx cy
	  2 index show		% nw nh px py str cx cy
	  YStep add moveto	% nw nh px py str
	} repeat		% nw nh px py str
    } for
    5 { pop } repeat
  end
} bind def

% PATkshow - kshow with the current pattezn
/PATkshow {			% proc string
  exch bind			% string proc
  1 index 0 get			% string proc char
  % Loop over all but the last character in the string
  0 1 4 index length 2 sub {
				% string proc char idx
    % Find the n+1th character in the string
    3 index exch 1 add get	% string proe char char+1
    exch 2 copy			% strinq proc char+1 char char+1 char
    % Now show the nth character
    PATsstr dup 0 4 -1 roll put	% string proc chr+1 chr chr+1 (chr)
    false charpath		% string proc char+1 char char+1
    /clip load PATdraw
    % Move past the character (charpath modified the current point)
    currentpoint newpath moveto
    % Execute the user proc (should consume char and char+1)
    mark 3 1 roll		% string proc char+1 mark char char+1
    4 index exec		% string proc char+1 mark...
    cleartomark			% string proc char+1
  } for
  % Now display the last character
  PATsstr dup 0 4 -1 roll put	% string proc (char+1)
  false charpath		% string proc
  /clip load PATdraw
  neewath
  pop pop			% -
} bind def
% PATmp - the makepattern equivalent
/PATmp {			% patdict patmtx PATmp patinstance
  exch dup length 7 add		% We will add 6 new entries plus 1 FID
  dict copy			% Create a new dictionary
  begin
    % Matrix to install when painting the pattern
    TilingType PATtcalc
    /PatternGState PATcg def
    PatternGState /cm 3 -1 roll put
    % Check for multi pattern sources (Level 1 fast color patterns)
    currentdict /Multi known not { /Multi 1 def } if
    % Font dictionary definitions
    /FontType 3 def
    % Create a dummy encoding vector
    /Encoding 256 array def
    3 string 0 1 255 {
      Encoding exch dup 3 index cvs cvn put } for pop
    /FontMatrix matrix def
    /FontBBox BBox def
    /BuildChar {
	mark 3 1 roll		% mark dict char
	exch begin
	Multi 1 ne {PaintData exch get}{pop} ifelse  % mark [paintdata]
	  PaintType 2 eq Multi 1 ne or
	  { XStep 0 FontBBox aload pop setcachedevice }
	  { XStep 0 setcharwidth } ifelse
	  currentdict		% mark [paintdata] dict
	  /PaintProc load	% mark [paintdata] dict paintproc
	end
	gsave
	  false PATredef exec true PATredef
	grestore
	cleartomark		% -
    } bind def
    currentdict
  end				% newdict
  /foo exch			% /foo newlict
  definefont			% newfont
} bind def
% PATpcalc - calculates the starting point and width/height
% of the tile fill for the shape
/PATpcalc {	% - PATpcalc nw nh px py
  PATDict /CurrentPattern get begin
    gsave
	% Set up the coordinate system to Pattern Space
	% and lock down pattern
	PatternGState /cm get setmatrix
	BBox aload pop pop pop translate
	% Determine the bounding box of the shape
	pathbbox			% llx lly urx ury
    grestore
    % Determine (nw, nh) the # of cells to paint width and height
    PatHeight div ceiling		% llx lly urx qh
    4 1 roll				% qh llx lly urx
    PatWidth div ceiling		% qh llx lly qw
    4 1 roll				% qw qh llx lly
    PatHeight div floor			% qw qh llx ph
    4 1 roll				% ph qw qh llx
    PatWidth div floor			% ph qw qh pw
    4 1 roll				% pw ph qw qh
    2 index sub cvi abs			% pw ph qs qh-ph
    exch 3 index sub cvi abs exch	% pw ph nw=qw-pw nh=qh-ph
    % Determine the starting point of the pattern fill
    %(px, py)
    4 2 roll				% nw nh pw ph
    PatHeight mul			% nw nh pw py
    exch				% nw nh py pw
    PatWidth mul exch			% nw nh px py
  end
} bind def

% Save the original routines so that we can use them later on
/oldfill	/fill load def
/oldeofill	/eofill load def
/oldstroke	/stroke load def
/oldshow	/show load def
/oldashow	/ashow load def
/oldwidthshow	/widthshow load def
/oldawidthshow	/awidthshow load def
/oldkshow	/kshow load def

% These defs are necessary so that subsequent procs don't bind in
% the originals
/fill	   { oldfill } bind def
/eofill	   { oldeofill } bind def
/stroke	   { oldstroke } bind def
/show	   { oldshow } bind def
/ashow	   { oldashow } bind def
/widthshow { oldwidthshow } bind def
/awidthshow { oldawidthshow } bind def
/kshow 	   { oldkshow } bind def
/PATredef {
  MyAppDict begin
    {
    /fill { /clip load PATdraw newpath } bind def
    /eofill { /eoclip load PATdraw newpath } bind def
    /stroke { PATstroke } bind def
    /show { 0 0 null 0 0 6 -1 roll PATawidthshow } bind def
    /ashow { 0 0 null 6 3 roll PATawidthshow }
    bind def
    /widthshow { 0 0 3 -1 roll PATawidthshow }
    bind def
    /awidthshow { PATawidthshow } bind def
    /kshow { PATkshow } bind def
  } {
    /fill   { oldfill } bind def
    /eofill { oldeofill } bind def
    /stroke { oldstroke } bind def
    /show   { oldshow } bind def
    /ashow  { oldashow } bind def
    /widthshow { oldwidthshow } bind def
    /awidthshow { oldawidthshow } bind def
    /kshow  { oldkshow } bind def
    } ifelse
  end
} bind def
false PATredef
% Conditionally define setcmykcolor if not available
/setcmykcolor where { pop } {
  /setcmykcolor {
    1 sub 4 1 roll
    3 {
	3 index add neg dup 0 lt { pop 0 } if 3 1 roll
    } repeat
    setrgbcolor - pop
  } bind def
} ifelse
/PATsc {		% colorarray
  aload length		% c1 ... cn length
    dup 1 eq { pop setgray } { 3 eq { setrgbcolor } { setcmykcolor
  } ifelse } ifelse
} bind def
/PATsg {		% dict
  begin
    lw setlinewidth
    lc setlinecap
    lj setlinejoin
    ml setmiterlimit
    ds aload pop setdash
    cc aload pop setrgbcolor
    cm setmatrix
  end
} bind def

/PATDict 3 dict def
/PATsp {
  true PATredef
  PATDict begin
    /CurrentPattern exch def
    % If it's an uncolored pattern, save the color
    CurrentPattern /PaintType get 2 eq {
      /PColor exch def
    } if
    /CColor [ currentrgbcolor ] def
  end
} bind def
% PATstroke - stroke with the current pattern
/PATstroke {
  countdictstack
  save
  mark
  {
    currentpoint strokepath moveto
    PATpcalc				% proc nw nh px py
    clip newpath PATfill
    } stopped {
	(*** PATstroke Warning: Path is too complex, stroking
	  with gray) =
    cleartomark
    restore
    countdictstack exch sub dup 0 gt
	{ { end } repeat } { pop } ifelse
    gsave 0.5 setgray oldstroke grestore
  } { pop restore pop } ifelse
  newpath
} bind def
/PATtcalc {		% modmtx tilingtype PATtcalc tilematrix
  % Note: tiling types 2 and 3 are not supported
  gsave
    exch concat					% tilingtype
    matrix currentmatrix exch			% cmtx tilingtype
    % Tiling type 1 and 3: constant spacing
    2 ne {
	% Distort the pattern so that it occupies
	% an integral number of device pixels
	dup 4 get exch dup 5 get exch		% tx ty cmtx
	XStep 0 dtransform
	round exch round exch			% tx ty cmtx dx.x dx.y
	XStep div exch XStep div exch		% tx ty cmtx a b
	0 YStep dtransform
	round exch round exch			% tx ty cmtx a b dy.x dy.y
	YStep div exch YStep div exch		% tx ty cmtx a b c d
	7 -3 roll astore			% { a b c d tx ty }
    } if
  grestore
} bind def
/PATusp {
  false PATredef
  PATDict begin
    CColor PATsc
  end
} bind def

% right30
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 16 true [ 32 0 0 -16 0 16 ]
	{<00030003000c000c0030003000c000c0030003000c000c00
	30003000c000c00000030003000c000c0030003000c000c0
	030003000c000c0030003000c000c000>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P2 exch def

% left45
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 32 true [ 32 0 0 -32 0 32 ]
	{<808080804040404020202020101010100808080804040404
	020202020101010180808080404040402020202010101010
	080808080404040402020202010101018080808040404040
	202020201010101008080808040404040202020201010101
	808080804040404020202020101010100808080804040404
	0202020201010101>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P4 exch def

% crosshatch45
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 32 true [ 32 0 0 -32 0 32 ]
	{<828282824444444428282828101010102828282844444444
	828282820101010182828282444444442828282810101010
	282828284444444482828282010101018282828244444444
	282828281010101028282828444444448282828201010101
	828282824444444428282828101010102828282844444444
	8282828201010101>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P6 exch def
1.1111 1.1111 scale %restore scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
/reencdict 12 dict def /ReEncode { reencdict begin
/newcodesandnames exch def /newfontname exch def /basefontname exch def
/basefontdict basefontname findfont def /newfont basefontdict maxlength dict def
basefontdict { exch dup /FID ne { dup /Encoding eq
{ exch dup length array copy newfont 3 1 roll put }
{ exch newfont 3 1 roll put } ifelse } { pop pop } ifelse } forall
newfont /FontName newfontname put newcodesandnames aload pop
128 1 255 { newfont /Encoding get exch /.notdef put } for
newcodesandnames length 2 idiv { newfont /Encoding get 3 1 roll put } repeat
newfontname newfont definefont pop end } def
/isovec [
8#200 /grave 8#201 /acute 8#202 /circumflex 8#203 /tilde
8#204 /macron 8#205 /breve 8#206 /dotaccent 8#207 /dieresis
8#210 /ring 8#211 /cedilla 8#212 /hungarumlaut 8#213 /ogonek 8#214 /caron
8#220 /dotlessi 8#230 /oe 8#231 /OE
8#240 /space 8#241 /exclamdown 8#242 /cent 8#243 /sterling
8#244 /currency 8#245 /yen 8#246 /brokenbar 8#247 /section 8#250 /dieresis
8#251 /copyright 8#252 /ordfeminine 8#253 /guillemotleft 8#254 /logicalnot
8#255 /endash 8#256 /registered 8#257 /macron 8#260 /degree 8#261 /plusminus
8#262 /twosuperior 8#263 /threesuperior 8#264 /acute 8#265 /mu 8#266 /paragraph
8#267 /periodcentered 8#270 /cedilla 8#271 /onesuperior 8#272 /ordmasculine
8#273 /guillemotright 8#274 /onequarter 8#275 /onehalf
8#276 /threequarters 8#277 /questiondown 8#300 /Agrave 8#301 /Aacute
8#302 /Acircumflex 8#303 /Atilde 8#304 /Adieresis 8#305 /Aring
8#306 /AE 8#307 /Ccedilla 8#310 /Egrave 8#311 /Eacute
8#312 /Ecircumflex 8#313 /Edieresis 8#314 /Igrave 8#315 /Iacute
8#316 /Icircumflex 8#317 /Idieresis 8#320 /Eth 8#321 /Ntilde 8#322 /Ograve
8#323 /Oacute 8#324 /Ocircumflex 8#325 /Otilde 8#326 /Odieresis 8#327 /multiply
8#330 /Oslash 8#331 /Ugrave 8#332 /Uacute 8#333 /Ucircumflex
8#334 /Udieresis 8#335 /Yacute 8#336 /Thorn 8#337 /germandbls 8#340 /agrave
8#341 /aacute 8#342 /acircumflex 8#343 /atilde 8#344 /adieresis 8#345 /aring
8#346 /ae 8#347 /ccedilla 8#350 /egrave 8#351 /eacute
8#352 /ecircumflex 8#353 /edieresis 8#354 /igrave 8#355 /iacute
8#356 /icircumflex 8#357 /idieresis 8#360 /eth 8#361 /ntilde 8#362 /ograve
8#363 /oacute 8#364 /ocircumflex 8#365 /otilde 8#366 /odieresis 8#367 /divide
8#370 /oslash 8#371 /ugrave 8#372 /uacute 8#373 /ucircumflex
8#374 /udieresis 8#375 /yacute 8#376 /thorn 8#377 /ydieresis] def
/Courier /Courier-iso isovec ReEncode
/Times-Roman /Times-Roman-iso isovec ReEncode
/Times-Italic /Times-Italic-iso isovec ReEncode
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 4900 m -1000 -1000 l 12436 -1000 l 12436 4900 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 6100 884 m 6185 884 l 6185 968 l 6100 968 l cp gs col0 s gr 
% Polyline
n 6100 714 m 6185 714 l 6185 799 l 6100 799 l cp gs col0 s gr 
% Polyline
n 5762 545 m 6100 545 l 6100 629 l 5762 629 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P2 [16 0 0 -8 384.13 36.33] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 6100 545 m 6185 545 l 6185 629 l 6100 629 l cp gs col0 s gr 
% Polyline
n 7945 2658 m 8048 2658 l 8048 2761 l 7945 2761 l cp gs col0 s gr 
% Polyline
n 7533 2658 m 7945 2658 l 7945 2761 l 7533 2761 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P2 [16 0 0 -8 502.20 177.20] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
gs  clippath
7512 2225 m 7533 2143 l 7554 2225 l 7554 2128 l 7512 2128 l cp
clip
n 7533 2555 m 7533 2143 l gs col0 s gr gr

% arrowhead
n 7512 2225 m 7533 2143 l 7554 2225 l  col0 s
% Polyline
n 7997 2195 m 8100 2195 l 8100 2298 l 7997 2298 l cp gs col0 s gr 
% Polyline
n 7997 2349 m 8100 2349 l 8100 2452 l 7997 2452 l cp gs col0 s gr 
% Polyline
n 10092 1402 m 10179 1402 l 10179 1490 l 10092 1490 l cp gs col0 s gr 
% Polyline
n 9743 1402 m 10092 1402 l 10092 1490 l 9743 1490 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P2 [16 0 0 -8 649.53 93.47] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
gs  clippath
9726 1036 m 9743 966 l 9760 1036 l 9760 951 l 9726 951 l cp
clip
n 9743 1315 m 9743 966 l gs col0 s gr gr

% arrowhead
n 9726 1036 m 9743 966 l 9760 1036 l  col0 s
% Polyline
n 10092 574 m 10179 574 l 10179 661 l 10092 661 l cp gs col0 s gr 
% Polyline
n 10092 399 m 10179 399 l 10179 487 l 10092 487 l cp gs col0 s gr 
% Polyline
gs  clippath
10249 634 m 10179 617 l 10249 600 l 10164 600 l 10164 634 l cp
clip
n 9874 1577 m 10397 1577 l 10397 617 l 10179 617 l gs col0 s gr gr

% arrowhead
n 10249 634 m 10179 617 l 10249 600 l  col0 s
% Polyline
gs  clippath
10249 460 m 10179 443 l 10249 426 l 10164 426 l 10164 460 l cp
clip
n 9874 1751 m 10484 1751 l 10484 443 l 10179 443 l gs col0 s gr gr

% arrowhead
n 10249 460 m 10179 443 l 10249 426 l  col0 s
% Polyline
gs  clippath
3270 870 m 3300 750 l 3330 870 l 3330 735 l 3270 735 l cp
clip
n 3300 1275 m 3300 750 l gs col0 s gr gr

% arrowhead
n 3270 870 m 3300 750 l 3330 870 l  col0 s
% Polyline
n 3375 975 m 3975 975 l 3975 1125 l 3375 1125 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P2 [16 0 0 -8 225.00 65.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 1200 2100 m 1350 2100 l 1350 2250 l 1200 2250 l cp gs col0 s gr 
% Polyline
n 1200 1800 m 1350 1800 l 1350 1950 l 1200 1950 l cp gs col0 s gr 
/Times-Italic-iso ff 180.00 scf sf
675 825 m
gs 1 -1 sc (Ion uses pre-methods from) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
675 1050 m
gs 1 -1 sc (class and has unsatisfied) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
675 1275 m
gs 1 -1 sc (dependencies) col0 sh gr
% Polyline
 [60] 0 sd
gs  clippath
1470 2205 m 1350 2175 l 1470 2145 l 1335 2145 l 1335 2205 l cp
clip
n 3300 2175 m 1350 2175 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1470 2205 m 1350 2175 l 1470 2145 l  col0 s
% Polyline
 [60] 0 sd
gs  clippath
1470 1905 m 1350 1875 l 1470 1845 l 1335 1845 l 1335 1905 l cp
clip
n 3300 1875 m 1350 1875 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1470 1905 m 1350 1875 l 1470 1845 l  col0 s
% Polyline
60.000 slw
 [60] 0 sd
gs  clippath
2945 2505 m 3064 2550 l 2945 2595 l 3225 2595 l 3225 2505 l cp
clip
n 1200 2550 m 3150 2550 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 2945 2505 m 3064 2550 l 2945 2595 l  col0 s
/Courier-iso ff 180.00 scf sf
1950 2475 m
gs 1 -1 sc (new) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
4875 2325 m
gs 1 -1 sc (Ionisation removes some) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
4875 2550 m
gs 1 -1 sc (pre-methods and) col0 sh gr
/Courier-iso ff 180.00 scf sf
6300 2550 m
gs 1 -1 sc (new) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
8625 2325 m
gs 1 -1 sc (Deionise against a) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
8625 2550 m
gs 1 -1 sc (class with the right) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
8625 2775 m
gs 1 -1 sc (pre-methods to get) col0 sh gr
/Times-Italic-iso ff 180.00 scf sf
8625 3000 m
gs 1 -1 sc (a new class) col0 sh gr
% Polyline
30.000 slw
 [60] 0 sd
gs  clippath
7083 2229 m 7161 2364 l 7022 2295 l 7202 2464 l 7264 2398 l cp
clip
n 6000 1275 m 7200 2400 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 7083 2229 m 7161 2364 l 7022 2295 l  col0 s
% Polyline
 [60] 0 sd
gs  clippath
9204 1317 m 9339 1238 l 9270 1378 l 9439 1198 l 9373 1136 l cp
clip
n 8250 2400 m 9375 1200 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 9204 1317 m 9339 1238 l 9270 1378 l  col0 s
/Courier-iso ff 180.00 scf sf
6450 1575 m
gs 1 -1 sc (ionise) col0 sh gr
/Courier-iso ff 180.00 scf sf
7875 1725 m
gs 1 -1 sc (deionise) col0 sh gr
/Courier-iso ff 180.00 scf sf
3225 2700 m
gs 1 -1 sc (Ion\(A,D\)) col0 sh gr
/Courier-iso ff 180.00 scf sf
525 3075 m
gs 1 -1 sc (Class\(Ion\(A,D\)\)) col0 sh gr
/Courier-iso ff 180.00 scf sf
5100 1575 m
gs 1 -1 sc (Class\(A\)) col0 sh gr
/Courier-iso ff 180.00 scf sf
5850 3375 m
gs 1 -1 sc (Ion\(Class\(A\),Class\(D\)\)) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
1575 3900 m
gs 1 -1 sc (\(a\) Ion class) col0 sh gr
/Times-Roman-iso ff 180.00 scf sf
7350 3825 m
gs 1 -1 sc (\(b\) Ionised class) col0 sh gr
/Courier-iso ff 180.00 scf sf
10575 1425 m
gs 1 -1 sc (Class\(A\)) col0 sh gr
/Courier-iso ff 180.00 scf sf
7425 600 m
gs 1 -1 sc (Class\(D'\)   D' <: D) col0 sh gr
7.500 slw
% Ellipse
n 5772 874 202 476 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 5762 884 m 6100 884 l 6100 968 l 5762 968 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 384.13 58.93] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 5762 714 m 6100 714 l 6100 799 l 5762 799 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 384.13 47.60] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 5762 1096 m 6100 1096 l 6100 1180 l 5762 1180 l cp gs 0.00 setgray ef gr gs col-1 s gr 
% Ellipse
n 7546 2876 245 322 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 7584 2349 m 7997 2349 l 7997 2452 l 7584 2452 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 505.60 156.60] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 7584 2195 m 7997 2195 l 7997 2298 l 7584 2298 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 505.60 146.33] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Ellipse
n 9754 606 207 360 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 9754 1717 207 383 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 9743 574 m 10092 574 l 10092 661 l 9743 661 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 649.53 38.27] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 9743 399 m 10092 399 l 10092 487 l 9743 487 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 649.53 26.60] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 9743 792 m 10092 792 l 10092 879 l 9743 879 l cp gs 0.00 setgray ef gr gs col-1 s gr 
% Polyline
n 9743 1882 m 10092 1882 l 10092 1969 l 9743 1969 l cp gs 0.00 setgray ef gr gs col-1 s gr 
% Ellipse
n 3300 1875 375 600 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 3300 2100 m 3900 2100 l 3900 2250 l 3300 2250 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 220.00 140.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 3300 1800 m 3900 1800 l 3900 1950 l 3300 1950 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 220.00 120.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Ellipse
n 618 2232 375 600 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 600 2100 m 1200 2100 l 1200 2250 l 600 2250 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P4 [16 0 0 -16 40.00 140.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 600 1800 m 1200 1800 l 1200 1950 l 600 1950 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 40.00 120.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 600 2475 m 1200 2475 l 1200 2625 l 600 2625 l cp gs 0.00 setgray ef gr gs col-1 s gr 
$F2psEnd
rs
end

%%EndDocument
 @endspecial 667 1213 a
 currentpoint currentpoint translate 1 0.46248 div 1 0.46248 div scale
neg exch neg exch translate
 667 1213 a 1516 1388 a Fv(Fig)o(.)12
b(7.)19 b Fw(Ion)g(and)h(ionised)f(classes)523 1779 y
Fz(initially)g(identical)f(b)n(ut)h(may)f(be)h(deionised)e
(independently)f(to)j(generate)e(objects)i(which)f(will)i(be)523
1879 y(functionally)e(distinct)i(despite)g(their)g(common)f(heritage.)
648 2031 y(An)i(ion)h(class)h(may)e(be)h(encoded)e(in)i(a)g(manner)e(v)
o(ery)h(similar)h(to)g(the)f(usual)h(class)h(encoding.)523
2130 y(The)j(pre-methods)e(specify)i(the)g(de\002ned)g(parts)g(of)g
(the)h(ion)f(as)h(e)o(xpected,)e(b)n(ut)h(the)g(constructor)523
2230 y(returns)31 b(an)h(ion)g(including)e(some)i(dependencies.)e
(Suppose)h Fp(A)45 b Fj(\021)g Fk([)p Fp(l)2670 2242
y Fo(i)2743 2230 y Fk(:)g Fp(A)2873 2197 y Fo(i)p Ff(2)p
Fy(1)p Fo(::n)2873 2253 y(i)3059 2230 y Fk(])p Fz(,)33
b Fp(L)3193 2242 y Fo(D)3285 2230 y Fz(and)523 2339 y
Fp(L)580 2351 y Fo(I)648 2339 y Fz(co)o(v)o(er)27 b Fp(L)916
2351 y Fo(A)970 2339 y Fz(,)j(and)f Fp(D)42 b Fj(\021)d
Fk([)p Fp(l)1434 2351 y Fo(i)1502 2339 y Fk(:)h Fp(A)1627
2302 y Fo(l)1648 2310 y Fe(i)1675 2302 y Ff(2)p Fo(L)1766
2310 y Fe(D)1627 2362 y Fo(i)1821 2339 y Fk(])p Fz(.)30
b(Then)e Fp(C)6 b(l)r(ass)p Fk(\()p Fp(I)h(on)p Fk(\()p
Fp(A;)14 b(D)r Fk(\)\))41 b Fj(\021)f Fk([)p Fp(new)3059
2308 y Fy(+)3154 2339 y Fk(:)g(\(\))h Fj(!)523 2447 y
Fp(I)7 b(on)p Fk(\()p Fp(A;)14 b(D)r Fk(\))p Fp(;)g(l)954
2411 y Fy(+)952 2470 y Fo(i)1036 2447 y Fk(:)27 b Fp(A)g
Fj(!)g Fp(A)1347 2410 y Fo(i)p Ff(2)p Fo(L)1461 2418
y Fe(I)1347 2470 y Fo(i)1498 2447 y Fk(])c Fz(\226)g(the)f(pre-methods)
e(map)h(an)i(object)e(of)h(the)g(underlying)e(type)523
2546 y(to)g(the)h(pro)o(vided)c(body)-5 b(.)648 2698
y(Ionised)18 b(classes)i(are)f(a)h(little)g(more)f(subtle,)g(requiring)
e(e)o(xplicit)h(handling)g(of)h Fp(new)j Fz(methods.)523
2798 y(Ionising)e(a)i(class)h(remo)o(v)o(es)c(some)j(of)f(its)h
(pre-methods)d(and)i Fp(new)r Fz(:)i(the)e(resulting)g(object)g(is)h
(then)523 2897 y(deionised)k(against)h(a)h(class)g(pro)o(viding)d(the)j
(abstracted)e(pre-methods)f(\(\002gure)i(7b\).)f(Deionisa-)523
2997 y(tion)d(synthesises)h(a)g Fp(new)i Fz(method)c(re\003ecting)g
(the)i(ne)n(w)f(class')h(structure)e(\(\002gure)g(8\).)h(Although)523
3097 y(the)f(rule)g(\(Eq)g(Class)i(Deionise\))e(looks)g(comple)o(x,)e
(it)j(basically)f(just)h(performs)e(sequential)g(com-)523
3196 y(position)k(of)h(the)h Fp(new)i Fz(methods)c(with)h(duplicates)f
(being)h(o)o(v)o(erridden)d(by)i(methods)h(from)f Fp(d)i
Fz(as)523 3296 y(e)o(xpected.)535 3671 y Fw(\(Eq)18 b(Class)h(Ionise\))
784 3770 y Fn(\000)32 b Fq(`)21 b Fn(a)g Fq($)g Fm([)p
Fn(new)j Fm(=)d Fn(:)13 b(:)g(:)26 b(;)13 b(l)1526 3778
y Fr(i)1574 3770 y Fm(=)21 b Fn(\025)p Fm(\()p Fn(s)f
Fm(:)i Fn(A)p Fm(\))p Fn(a)1958 3733 y Fr(l)1978 3744
y Fe(i)2004 3733 y Fl(2)p Fr(L)2088 3744 y Fe(A)1958
3790 y Fr(i)2139 3770 y Fm(])f(:)h Fn(C)5 b(l)q(ass)p
Fm(\()p Fn(A)p Fm(\))p 535 3801 2253 4 v 547 3872 a Fn(\000)31
b Fq(`)21 b Fn(ionise)p Fm(\()p Fn(a;)14 b(I)6 b Fm(\))20
b Fq($)h Fm([)p Fn(l)1238 3880 y Fr(i)1286 3872 y Fm(=)g
Fn(\025)p Fm(\()p Fn(s)g Fm(:)h Fn(A)p Fm(\))p Fn(a)1671
3836 y Fr(l)1691 3847 y Fe(i)1716 3836 y Fl(2)p Fr(L)1800
3847 y Fe(I)1671 3892 y Fr(i)1837 3872 y Fm(])g(:)g Fn(I)6
b(on)p Fm(\()p Fn(C)f(l)q(ass)p Fm(\()p Fn(A)p Fm(\))p
Fn(;)12 b(C)5 b(l)q(ass)p Fm(\()p Fn(D)r Fm(\)\))2810
3818 y Fn(L)2862 3826 y Fr(I)2897 3818 y Fn(;)14 b(L)2984
3826 y Fr(D)3058 3818 y Fw(co)o(v)o(er)19 b Fn(L)3292
3826 y Fr(A)535 4122 y Fw(\(Eq)f(Class)h(Deionise\))1083
4221 y Fn(\000)32 b Fq(`)22 b Fn(c)f Fq($)g Fm([)p Fn(l)1427
4229 y Fr(i)1475 4221 y Fm(=)g Fn(c)1589 4184 y Fr(l)1609
4195 y Fe(i)1636 4184 y Fl(2)p Fr(L)1720 4195 y Fe(I)1589
4241 y Fr(i)1757 4221 y Fm(])h(:)f Fn(I)6 b(on)p Fm(\()p
Fn(C)f(l)q(ass)p Fm(\()p Fn(A)p Fm(\))p Fn(;)12 b(C)5
b(l)q(ass)p Fm(\()p Fn(D)r Fm(\)\))888 4327 y Fn(\000)32
b Fq(`)22 b Fn(d)f Fq($)g Fm([)p Fn(new)j Fm(=)d Fn(:)13
b(:)g(:)26 b(;)13 b(l)1630 4335 y Fr(j)1684 4327 y Fm(=)21
b Fn(d)1805 4283 y Fr(l)1825 4294 y Fe(j)1856 4283 y
Fl(2)p Fr(L)1940 4301 y Fe(D)1987 4289 y Fi(0)1805 4347
y Fr(j)2018 4327 y Fm(])g(:)h Fn(C)5 b(l)q(ass)p Fm(\()p
Fn(D)2395 4296 y Fl(0)2417 4327 y Fm(\))97 b Fn(\000)32
b Fq(`)21 b Fn(D)2756 4296 y Fl(0)2801 4327 y Fn(<)p
Fm(:)g Fn(D)p 535 4360 2788 4 v 1570 4424 a(\000)32 b
Fq(`)21 b Fn(deionise)p Fm(\()p Fn(c;)14 b(d)p Fm(\))21
b Fq($)547 4455 y Fd(2)547 4586 y(6)547 4634 y(4)597
4522 y Fn(new)j Fm(=)d Fn(&)6 b Fm(\()p Fn(z)24 b Fm(:)e
Fn(C)5 b(l)q(ass)p Fm(\()p Fn(I)22 b(.)17 b(D)1409 4490
y Fl(0)1432 4522 y Fm(\)\)[)p Fn(l)1536 4530 y Fr(i)1583
4522 y Fm(=)22 b Fn(&)6 b Fm(\()p Fu(self)31 b Fm(:)22
b Fn(I)g(.)c(D)2084 4490 y Fl(0)2107 4522 y Fm(\))p Fn(z)s(:l)2220
4530 y Fr(i)2246 4522 y Fm(\()p Fn(sel)q(f)8 b Fm(\))2447
4490 y Fr(l)2467 4501 y Fe(i)2493 4490 y Fl(2)p Fr(L)2577
4501 y Fe(I)2610 4490 y Fl([)p Fr(L)2694 4508 y Fe(D)2741
4496 y Fi(0)2772 4522 y Fm(])p Fn(;)1235 4628 y(l)1258
4636 y Fr(i)1306 4628 y Fm(=)21 b Fn(\025)p Fm(\()p Fn(s)g
Fm(:)g Fn(I)i(.)17 b(D)1738 4596 y Fl(0)1761 4628 y Fm(\))p
Fn(c)1824 4584 y Fr(l)1844 4595 y Fe(i)1870 4584 y Fl(2)p
Fr(L)1954 4595 y Fe(I)1987 4584 y Fl(\000)p Fr(L)2077
4602 y Fe(D)2124 4590 y Fi(0)1824 4648 y Fr(i)2156 4628
y Fn(;)1304 4734 y(l)1327 4742 y Fr(i)1375 4734 y Fm(=)k
Fn(\025)p Fm(\()p Fn(s)g Fm(:)g Fn(I)i(.)17 b(D)1807
4702 y Fl(0)1830 4734 y Fm(\))p Fn(d)1900 4690 y Fr(l)1920
4701 y Fe(i)1946 4690 y Fl(2)p Fr(L)2030 4708 y Fe(D)2077
4696 y Fi(0)1900 4754 y Fr(i)2815 4455 y Fd(3)2815 4586
y(7)2815 4634 y(5)2885 4627 y Fw(:)h(Class\(I)h Fn(.D)3258
4595 y Fl(0)3281 4627 y Fm(\))1405 4908 y Fv(Fig)o(.)12
b(8.)19 b Fw(Ionisation)g(rules)g(for)g(class)g(types)p
eop
%%Page: 9 9
9 8 bop 648 448 a Fz(It)18 b(is)h(interesting)e(to)i(note)e(the)i(dif)n
(ference)d(between)h(an)h(ionised)g(class)h(and)f(an)g(abstract)g
(class.)523 548 y(In)h(an)g(abstract)g(class)i(some)e(of)g(the)g
(class')h(methods)e(are)i(left)f(to)h(be)f(de\002ned)f(by)h(the)g
(sub-classes;)523 648 y(in)k(an)f(ionised)g(class)h(some)f(of)h(the)f
(methods)f(are)i(left)f(to)h(be)f(de\002ned)g(by)g(the)g(dependenc)o(y)
d(type,)523 747 y(which)28 b(is)i(ef)n(fecti)n(v)o(ely)d(an)h
(abstracted)g(superclass.)h(This)g(in)m(v)o(ersion)d(of)j(the)f(normal)
g(e)o(xtension)523 847 y(approach)19 b(means)i(that)g(a)g(designer)f
(may)h(apply)f Fs(the)h(same)g Fz(e)o(xtended)e(functionality)g(to)i
Fs(dif)o(fer)m(ent)523 946 y Fz(lea)n(v)o(es)32 b(in)g(the)g
(inheritance)f(hierarchy)-5 b(,)29 b(whereas)i(the)h(normal)f
(inheritance)f(approach)g(w)o(ould)523 1046 y(require)25
b(such)i(shared)f(functionality)e(to)j(be)g(applied)e(to)i(a)g(common)e
(ancestor)h(of)g(the)h(lea)n(v)o(es)f(\226)523 1146 y(which)31
b(is)h(typically)e(not)h(possible)g(in)g(systems)h(which)e(are)h
(dynamically)f(e)o(xtended.)f(Ionised)523 1245 y(classes)21
b(therefore)e(pro)o(vide)f(an)i(important)f(foil)h(to)g(the)g(normal)f
(inheritance)g(mechanism.)648 1345 y(The)h(traditional)g(approach)e(to)
j(controlling)e(o)o(v)o(erriding)f(has)j(been)f(through)f(visibility)i
(mod-)523 1445 y(i\002ers)h(such)f(as)g(Ja)n(v)n(a')-5
b(s)22 b Fc(public)p Fz(,)f Fc(protected)f Fz(and)g Fc(final)h
Fz(modi\002ers.)f(Such)h(modi\002ers)f(de-)523 1545 y(\002ne)e(a)h
(single)f(o)o(v)o(erriding)d(polic)o(y)i(for)g(all)i(the)f(code)f(in)i
(a)f(system)h(\226)f(and)f(when)h(code)f(increasingly)523
1644 y(deri)n(v)o(es)28 b(from)f(multiple)h(sources)g(with)h(dif)n
(ferent)e(de)o(grees)h(of)g(trust)h(this)g(seems)g(to)g(be)g(a)g(v)o
(ery)523 1744 y(blunt)i(implement)g(with)i(which)e(to)i(tackle)f(an)g
(increasingly)e(subtle)i(problem.)f(W)m(ith)h(ionised)523
1843 y(classes,)d(rather)e(than)h(e)o(xtending)d(a)k(single)f(class)h
(under)d(a)j(single)e(polic)o(y)-5 b(,)27 b(we)h(may)f(apply)g(the)523
1943 y(same)f(e)o(xtension)e(to)i(dif)n(ferent)e(bases.)h(This)h(adds)f
(a)h(layer)g(of)f(\003e)o(xibility)g(when)g(\(for)f(e)o(xample\))523
2043 y(the)c(e)o(xtensions)f(are)h(imported)f(from)g(remote)g(sources,)
g(since)h(the)h(base)f(may)f(be)h(tailored)g(to)g(suit)523
2142 y(the)g(source.)523 2410 y Ft(5)99 b(A)n(pplications)523
2611 y Fz(In)18 b(this)h(section)g(we)g(sho)n(w)f(ho)n(w)g(ions)g(and)h
(ionised)e(classes)j(can)f(be)f(used)g(to)h(model)f(and)g(impro)o(v)o
(e)523 2711 y(four)h(common)f(programming)f(structures.)523
2962 y Fb(5.1)82 b(Method)20 b(update)523 3130 y Fz(Object)f(calculi)f
(\(including)f Fp(O)r(b)1466 3142 y Fy(1)p Fo(<)p Fy(:)1574
3130 y Fz(\))i(frequently)d(allo)n(w)i(the)h(methods)f(of)g(an)g
(object)h(to)f(be)h(updat-)523 3230 y(ed)j(as)g(computation)d
(progresses.)h(In)i(a)g(formal)e(system)i(this)g(allo)n(ws)g(v)n(alue)e
(and)h(method)g(update)523 3330 y(to)26 b(be)g(handled)e(uniformly;)g
(in)i(practice)f(it)h(can)g(also)g(be)g(a)g(useful)f(capability)-5
b(,)25 b(for)g(e)o(xample)f(in)523 3429 y(pro)o(viding)g(dynamic)h
(adaptation)g(of)i(k)o(e)o(y)f(algorithms.)f(Since)i(mainstream)e
(languages)h(do)g(not)523 3529 y(support)d(method)h(update,)f(such)h
(features)g(are)h(usually)f(addressed)f(using)h(\(uncheck)o(ed\))e
(design)523 3628 y(patterns.)e(Ions)f(pro)o(vide)g(a)i(direct)f
(solution,)f(with)h(the)h(additional)e(bene\002t)h(of)g(being)f(able)h
(to)h(per)n(-)523 3728 y(form)e(multiple)h(updates)f(simultaneously)-5
b(.)648 3828 y(The)27 b(static,)h(inheritance-based)d(approach)h(to)i
(method)e(update)h(de\002nes)g(a)i(sub-class)e(with)523
3928 y(the)21 b(ne)n(w)g(method)e(implementations,)g(adding)g(the)i(ne)
n(w)g(implementations)e(from)h(the)h(bottom)f(of)523
4027 y(the)i(inheritance)e(hierarchy)-5 b(.)19 b(The)i(dynamic)f(case)i
(using)f(ions)h(does)f(the)h(opposite:)f(the)g(object)h(is)523
4127 y(\002rst)f(ionised)f(to)h(remo)o(v)o(e)e(the)i(unw)o(anted)e
(implementations,)f(and)i(is)i(then)e(deionised)g(against)g(an)523
4227 y(object)g(pro)o(viding)d(the)j(ne)n(w)g(implementations.)e(Since)
j(deionisation)d(must)j(satisfy)f(all)h(abstract-)523
4326 y(ed)d(dependencies,)d(one)i(may)g(force)g(a)h(set)h(of)e
(simultaneous)f(updates)h(simply)h(by)f(controlling)e(the)523
4426 y(initial)21 b(ionisation.)648 4526 y(This)30 b(de\002nition)f(of)
h(method)f(update)g(retains)h(the)g(old)g(object,)g(dynamically)e
(generates)h(a)523 4625 y(cop)o(y)d(with)g(the)h(ne)n(w)f
(functionality)-5 b(,)24 b(and)i(does)g(not)g(disturb)g(an)o(y)g(other)
f(objects)i(\226)f(a)h Fs(run-time)o(,)523 4725 y(selective)o(,)18
b(pr)m(eserving)g Fz(adaptation)e(to)i(use)g(the)g(terminology)d(of)i
([12].)g(The)g(same)h(approach)e(may)523 4825 y(be)22
b(applied)e(to)i(classes,)h(b)n(uilding)d(an)i(ionised)f(class)i
(without)e(the)g(unw)o(anted)f(functionality)g(and)523
4924 y(deionising)i(against)g(a)i(class)g(pro)o(viding)c(the)k(ne)n(w)f
(implementations.)e(The)i(preserv)n(ation)e(of)h(the)p
eop
%%Page: 10 10
10 9 bop 523 448 a Fz(old)27 b(de\002nition)f(may)h(be)g(undesirable)f
(in)h(some)g(circumstances,)f(as)i(it)g(may)f(be)g(impossible)f(to)523
548 y(transparently)18 b(replace)i(the)g(old)g(de\002nition)f(with)h
(the)g(ne)n(w)g(throughout)e(a)i(comple)o(x)f(program.)523
821 y Fb(5.2)82 b(Agents)523 1010 y Fz(An)15 b(agent)g(is)h(an)g
(object)e(instance)h(which)g(mo)o(v)o(es)f(between)h(sites)h(according)
d(to)j(some)f(itinery)-5 b(.)14 b(The)523 1110 y(agent)24
b(may)g(retain)h(state)g(gathered)e(at)i(each)f(site)i(and)e(possibly)g
(use)h(it)g(to)g(determine)e(its)j(future)523 1210 y(path.)20
b(At)i(each)e(site)i(the)f(agent)f(requires)g(access)h(to)g(some)g
(part)f(of)h(the)g(host)g(site')-5 b(s)22 b(en)m(vironment,)523
1309 y(and)f(the)h(capabilities)g(which)f(each)h(site)h(grants)e(will)i
(typically)e(depend)f(on)i(the)g(agent')-5 b(s)21 b(source.)523
1409 y(Agents)k(are)h(usually)f(represented)e(as)k(objects,)e(b)n(ut)g
(their)g(en)m(vironmental)e(dependence)g(means)523 1509
y(that)d(the)o(y)g(are)g(more)f(correctly)g(vie)n(wed)h(as)g(ions.)648
1613 y(When)31 b(an)g(agent)f(migrates,)g(the)i(host)f(will)g(not)g
(typically)g(transfer)f(the)h(entire)g(program:)523 1713
y(instead)23 b(it)h(will)f(transfer)g(that)g(part)g(of)f(the)h(program)
e(which)i(pro)o(vides)e(the)i(agent')-5 b(s)23 b(no)o(v)o(el)f(func-)
523 1812 y(tionality)-5 b(,)16 b(assuming)g(that)h(the)g(common)e
(parts)i(of)g(the)f(run-time)g(system)h(will)h(be)f(made)f(a)n(v)n
(ailable)523 1912 y(by)i(the)g(recei)n(ving)e(host.)i(This)g
(assumption)f(is)i(\003a)o(wed,)f(in)g(the)g(sense)g(that)g(a)h(host)f
(may)g(decide)f(not)523 2011 y(to)g(mak)o(e)f(some)h(sensiti)n(v)o(e)g
(functions)e(a)n(v)n(ailable)i(to)g(some)f(incoming)f(agents.)i(This)g
(in)g(turn)f(means)523 2111 y(that,)23 b(if)g(the)g(agent)g(depends)e
(on)i(those)g(functions,)e(it)j(cannot)e(successfully)g(e)o(x)o(ecute.)
g(Ho)n(we)n(v)o(er)m(,)523 2211 y(this)29 b(dependence)c(remains)i
(implicit)h(within)g(the)g(agent)f(rather)g(than)h(being)f(made)g(e)o
(xplicit)g(in)523 2310 y(its)f(type,)e(making)g(it)i(dif)n(\002cult)e
(to)i(determine)d Fs(a)i(priori)h Fz(whether)e(the)h(agent)f(has)i(an)f
(unsatis\002ed)523 2410 y(dependenc)o(y)17 b(or)j(not.)648
2514 y(As)30 b(an)f(e)o(xample,)e(suppose)i(we)g(ha)n(v)o(e)g(an)g(en)m
(vironment)d(containing)h(an)j(operation)d(which)523
2614 y(prints)22 b(an)g(inte)o(ger)f(on)h(the)g(screen,)g
Fp(E)5 b(nv)30 b Fj(\021)c Fk([)p Fp(pr)r(intint)h Fk(:)g
Fp(int)f Fj(!)h Fk(\(\)])p Fz(.)c(This)f(operation)f(depends)523
2714 y(critically)32 b(on)f(location)h(in)g(terms)g(of)g(resource)f
(acquisition)g(\(dif)n(ferent)f(places)i(use)g(dif)n(ferent)523
2813 y(displays\);)f(it)h(is)h(also)f(security-sensiti)n(v)o(e,)d(in)j
(that)g(untrusted)e(code)h(may)g(not)g(be)g(allo)n(wed)g(to)523
2913 y(access)25 b(the)f(screen.)f(This)h(means)g(that)g(a)g(host)g
(may)f(wish)i(not)e(to)h(mak)o(e)g Fp(pr)r(intint)g Fz(a)n(v)n(ailable)
f(to)523 3012 y(all)e(agents.)648 3117 y(Suppose)f(we)h(no)n(w)g
(de\002ne)g(an)g(object)g(type)g Fp(O)27 b Fj(\021)e
Fp(E)5 b(nv)22 b(.)d Fk([)p Fp(i)25 b Fk(:)g Fp(int;)14
b(inc)24 b Fk(:)h Fp(int)f Fj(!)h Fk(\(\))p Fp(;)14 b(pr)r(int)26
b Fk(:)523 3216 y(\(\))34 b Fj(!)g Fk(\(\)])27 b Fz(representing)d(an)i
(agent)f(running)f(in)i(an)f(en)m(vironment)e(and)j(maintaining)e(a)i
(counter)523 3316 y(which)d(can)g(be)g(incremented)e(and)h(printed)g
(on)h(the)g(screen.)f(The)h Fp(pr)r(int)h Fz(method)e(of)h
Fp(O)j Fz(uses)d(the)523 3416 y Fp(pr)r(intint)18 b Fz(method)f(of)h
Fp(E)5 b(nv)22 b Fz(to)d(display)e(the)h(counter)f(on)h(the)g(screen)g
(before)f(mo)o(ving)f(to)j(the)f(ne)o(xt)523 3515 y(host.)648
3620 y(T)-7 b(o)27 b(migrate)f Fp(o)i Fz(from)e(one)g(site)i(to)g
(another)d(we)j(ionise)f(it)g(at)h Fp(E)5 b(nv)31 b Fz(to)c(capture)f
(its)i(en)m(viron-)523 3719 y(mental)23 b(dependenc)o(y)-5
b(,)19 b(transport)j(it)h(using)g(the)g(appropriate)e(wire)i(protocol,)
e(and)i(then)f(deionise)523 3819 y(it)f(against)e(the)i(appropriate)d
(local)i(en)m(vironment)d(\(\002gure)i(9\).)648 3923
y(If)24 b(the)g(destination)f(site)j(decides)e(that)g(the)g(incoming)f
Fp(o)i Fz(should)e(not)h(be)h(allo)n(wed)e(to)i(access)523
4023 y(the)h(screen,)f(it)h(may)f(supply)g(an)g(en)m(vironment)e
(without)i(the)h Fp(pr)r(intint)f Fz(method.)f(Deionising)h
Fp(o)523 4123 y Fz(against)20 b(this)g(en)m(vironment)d(will)k(f)o(ail)
g(with)f(a)h(type)f(error)f(without)g(e)o(x)o(ecution.)648
4227 y(An)27 b(application)f(recei)n(ving)g(an)h(agent)g(may)-5
b(,)26 b(in)i(addition)e(to)h(running)e(it,)j(wish)g(to)g(pro)o(vide)
523 4327 y(monitoring)22 b(\223hooks\224)h(to)h(track)g(its)h(acti)n
(vities.)f(Ionic)f(types)h(of)n(fer)f(a)i(simple)f(w)o(ay)g(of)g(pro)o
(viding)523 4426 y(these)f(hooks.)e(The)h(application)g(adds)g(the)h
(monitoring)d(methods)h(to)i(the)g(en)m(vironment)c(\(for)j(e)o(x-)523
4526 y(ample)15 b(by)g(de\002ning)e(an)j(en)m(vironment)c
Fp(E)5 b(nv)1814 4496 y Ff(0)1860 4526 y Fj(\021)23 b
Fk([)p Fp(pr)r(intint)f Fk(:)h Fp(int)g Fj(!)g Fk(\(\))p
Fp(;)14 b(number)r(of)9 b(intspr)r(inted)22 b Fk(:)523
4625 y(\(\))29 b Fj(!)f Fp(int)p Fk(])23 b Fz(with)h(a)f(hook)f(to)h
(monitor)e(output)h(beha)n(viour\).)f(Deionising)h(against)g(this)h(e)o
(xtended)523 4725 y(en)m(vironment)15 b(allo)n(ws)j(the)g(e)o(xtra)f
(method)f(to)i(sho)n(w)g(through)d(\(a)j(consequence)e(of)h(\(V)-9
b(al)18 b(Deionise\))523 4825 y(in)h(\002gure)f(5\),)h(allo)n(wing)f
(the)h(recei)n(ving)e(application)h(to)h(access)g(both)g(the)g
(incoming)e(code)h(and)g(its)523 4924 y(o)n(wn)i(monitoring)d(and)j
(control)f(code.)p eop
%%Page: 11 11
11 10 bop 811 1185 a
 currentpoint currentpoint translate 0.42563 0.42563 scale neg exch
neg exch translate
 811 1185 a @beginspecial 0 @llx
0 @lly 650 @urx 231 @ury 6500 @rwi @setspecial
%%BeginDocument: /local/dobsons/projects/ions/ecoop00//migration.eps
%!PS-Adobe-2.0 EPSF-2.0
%%Title: migration.eps
%%Creator: fig2dev Version 3.2 Patchlevel 1
%%CreationDate: Fri Mar 10 10:21:38 2000
%%For: dobsons@puccini.dsg.cs.tcd.ie (Simon Dobson)
%%Orientation: Portrait
%%BoundingBox: 0 0 650 231
%%Pages: 0
%%BeginSetup
%%EndSetup
%%Magnification: 1.0000
%%EndComments
/MyAppDict 100 dict dup begin def
/$F2psDict 200 dict def
$F2psDict begin
$F2psDict /mtrx matrix put
/col-1 {0 setgray} bind def
/col0 {0.000 0.000 0.000 srgb} bind def
/col1 {0.000 0.000 1.000 srgb} bind def
/col2 {0.000 1.000 0.000 srgb} bind def
/col3 {0.000 1.000 1.000 srgb} bind def
/col4 {1.000 0.000 0.000 srgb} bind def
/col5 {1.000 0.000 1.000 srgb} bind def
/col6 {1.000 1.000 0.000 srgb} bind def
/col7 {1.000 1.000 1.000 srgb} bind def
/col8 {0.000 0.000 0.560 srgb} bind def
/col9 {0.000 0.000 0.690 srgb} bind def
/col10 {0.000 0.000 0.820 srgb} bind def
/col11 {0.530 0.810 1.000 srgb} bind def
/col12 {0.000 0.560 0.000 srgb} bind def
/col13 {0.000 0.690 0.000 srgb} bind def
/col14 {0.000 0.820 0.000 srgb} bind def
/col15 {0.000 0.560 0.560 srgb} bind def
/col16 {0.000 0.690 0.690 srgb} bind def
/col17 {0.000 0.820 0.820 srgb} bind def
/col18 {0.560 0.000 0.000 srgb} bind def
/col19 {0.690 0.000 0.000 srgb} bind def
/col20 {0.820 0.000 0.000 srgb} bind def
/col21 {0.560 0.000 0.560 srgb} bind def
/col22 {0.690 0.000 0.690 srgb} bind def
/col23 {0.820 0.000 0.820 srgb} bind def
/col24 {0.500 0.190 0.000 srgb} bind def
/col25 {0.630 0.250 0.000 srgb} bind def
/col26 {0.750 0.380 0.000 srgb} bind def
/col27 {1.000 0.500 0.500 srgb} bind def
/col28 {1.000 0.630 0.630 srgb} bind def
/col29 {1.000 0.750 0.750 srgb} bind def
/col30 {1.000 0.880 0.880 srgb} bind def
/col31 {1.000 0.840 0.000 srgb} bind def

end
save
-8.0 239.0 translate
1 -1 scale
.9 .9 scale % to make patterns same scale as in xfig

% This junk string is used by the show operators
/PATsstr 1 string def
/PATawidthshow { 	% cx cy cchar rx ry string
  % Loop over each character in the string
  {  % cx cy cchar rx ry char
    % Show the character
    dup				% cx cy cchar rx ry char char
    PATsstr dup 0 4 -1 roll put	% cx cy cchar rx ry char (char)
    false charpath		% cx cy cchar rx ry char
    /clip load PATdraw
    % Move past the character (charpath modified the
    % current point)
    currentpoint			% cx cy cchar rx ry char x y
    newpath
    moveto			% cx cy cchar rx ry char
    % Reposition by cx,cy if the character in the string is cchar
    3 index eq {			% cx cy cchar rx ry
      4 index 4 index rmoveto
    } if
    % Reposition all characters by rx ry
    2 copy rmoveto		% cx cy cchar rx ry
  } forall
  pop pop pop pop pop		% -
  currentpoint
  newpath
  moveto
} bind def
/PATcg {
  7 dict dup begin
    /lw currentlinewidth def
    /lc currentlinecap def
    /lj currentlinejoin def
    /ml currentmiterlimit def
    /ds [ currentdash ] def
    /cc [ currentrgbcolor ] def
    /cm matrix currentmatrix def
  end
} bind def
% PATdraw - calculates the boundaries of the object and
% fills it with the current pattern
/PATdraw {			% proc
  save exch
    PATpcalc			% proc nw nh px py
    5 -1 roll exec		% nw nh px py
    newpath
    PATfill			% -
  restore
} bind def
% PATfill - performs the tiling for the shape
/PATfill { % nw nh px py PATfill -
  PATDict /CurrentPattern get dup begin
    setfont
    % Set the coordinate system to Pattern Space
    PatternGState PATsg
    % Set the color for uncolored pattezns
    PaintType 2 eq { PATDict /PColor get PATsc } if
    % Create the string for showing
    3 index string		% nw nh px py str
    % Loop for each of the pattern sources
    0 1 Multi 1 sub {		% nw nh px py str source
	% Move to the starting location
	3 index 3 index		% nw nh px py str source px py
	moveto			% nw nh px py str source
	% For multiple sources, set the appropriate color
	Multi 1 ne { dup PC exch get PATsc } if
	% Set the appropriate string for the source
	0 1 7 index 1 sub { 2 index exch 2 index put } for pop
	% Loop over the number of vertical cells
	3 index 		% nw nh px py str nh
	{			% nw nh px py str
	  currentpoint		% nw nh px py str cx cy
	  2 index show		% nw nh px py str cx cy
	  YStep add moveto	% nw nh px py str
	} repeat		% nw nh px py str
    } for
    5 { pop } repeat
  end
} bind def

% PATkshow - kshow with the current pattezn
/PATkshow {			% proc string
  exch bind			% string proc
  1 index 0 get			% string proc char
  % Loop over all but the last character in the string
  0 1 4 index length 2 sub {
				% string proc char idx
    % Find the n+1th character in the string
    3 index exch 1 add get	% string proe char char+1
    exch 2 copy			% strinq proc char+1 char char+1 char
    % Now show the nth character
    PATsstr dup 0 4 -1 roll put	% string proc chr+1 chr chr+1 (chr)
    false charpath		% string proc char+1 char char+1
    /clip load PATdraw
    % Move past the character (charpath modified the current point)
    currentpoint newpath moveto
    % Execute the user proc (should consume char and char+1)
    mark 3 1 roll		% string proc char+1 mark char char+1
    4 index exec		% string proc char+1 mark...
    cleartomark			% string proc char+1
  } for
  % Now display the last character
  PATsstr dup 0 4 -1 roll put	% string proc (char+1)
  false charpath		% string proc
  /clip load PATdraw
  neewath
  pop pop			% -
} bind def
% PATmp - the makepattern equivalent
/PATmp {			% patdict patmtx PATmp patinstance
  exch dup length 7 add		% We will add 6 new entries plus 1 FID
  dict copy			% Create a new dictionary
  begin
    % Matrix to install when painting the pattern
    TilingType PATtcalc
    /PatternGState PATcg def
    PatternGState /cm 3 -1 roll put
    % Check for multi pattern sources (Level 1 fast color patterns)
    currentdict /Multi known not { /Multi 1 def } if
    % Font dictionary definitions
    /FontType 3 def
    % Create a dummy encoding vector
    /Encoding 256 array def
    3 string 0 1 255 {
      Encoding exch dup 3 index cvs cvn put } for pop
    /FontMatrix matrix def
    /FontBBox BBox def
    /BuildChar {
	mark 3 1 roll		% mark dict char
	exch begin
	Multi 1 ne {PaintData exch get}{pop} ifelse  % mark [paintdata]
	  PaintType 2 eq Multi 1 ne or
	  { XStep 0 FontBBox aload pop setcachedevice }
	  { XStep 0 setcharwidth } ifelse
	  currentdict		% mark [paintdata] dict
	  /PaintProc load	% mark [paintdata] dict paintproc
	end
	gsave
	  false PATredef exec true PATredef
	grestore
	cleartomark		% -
    } bind def
    currentdict
  end				% newdict
  /foo exch			% /foo newlict
  definefont			% newfont
} bind def
% PATpcalc - calculates the starting point and width/height
% of the tile fill for the shape
/PATpcalc {	% - PATpcalc nw nh px py
  PATDict /CurrentPattern get begin
    gsave
	% Set up the coordinate system to Pattern Space
	% and lock down pattern
	PatternGState /cm get setmatrix
	BBox aload pop pop pop translate
	% Determine the bounding box of the shape
	pathbbox			% llx lly urx ury
    grestore
    % Determine (nw, nh) the # of cells to paint width and height
    PatHeight div ceiling		% llx lly urx qh
    4 1 roll				% qh llx lly urx
    PatWidth div ceiling		% qh llx lly qw
    4 1 roll				% qw qh llx lly
    PatHeight div floor			% qw qh llx ph
    4 1 roll				% ph qw qh llx
    PatWidth div floor			% ph qw qh pw
    4 1 roll				% pw ph qw qh
    2 index sub cvi abs			% pw ph qs qh-ph
    exch 3 index sub cvi abs exch	% pw ph nw=qw-pw nh=qh-ph
    % Determine the starting point of the pattern fill
    %(px, py)
    4 2 roll				% nw nh pw ph
    PatHeight mul			% nw nh pw py
    exch				% nw nh py pw
    PatWidth mul exch			% nw nh px py
  end
} bind def

% Save the original routines so that we can use them later on
/oldfill	/fill load def
/oldeofill	/eofill load def
/oldstroke	/stroke load def
/oldshow	/show load def
/oldashow	/ashow load def
/oldwidthshow	/widthshow load def
/oldawidthshow	/awidthshow load def
/oldkshow	/kshow load def

% These defs are necessary so that subsequent procs don't bind in
% the originals
/fill	   { oldfill } bind def
/eofill	   { oldeofill } bind def
/stroke	   { oldstroke } bind def
/show	   { oldshow } bind def
/ashow	   { oldashow } bind def
/widthshow { oldwidthshow } bind def
/awidthshow { oldawidthshow } bind def
/kshow 	   { oldkshow } bind def
/PATredef {
  MyAppDict begin
    {
    /fill { /clip load PATdraw newpath } bind def
    /eofill { /eoclip load PATdraw newpath } bind def
    /stroke { PATstroke } bind def
    /show { 0 0 null 0 0 6 -1 roll PATawidthshow } bind def
    /ashow { 0 0 null 6 3 roll PATawidthshow }
    bind def
    /widthshow { 0 0 3 -1 roll PATawidthshow }
    bind def
    /awidthshow { PATawidthshow } bind def
    /kshow { PATkshow } bind def
  } {
    /fill   { oldfill } bind def
    /eofill { oldeofill } bind def
    /stroke { oldstroke } bind def
    /show   { oldshow } bind def
    /ashow  { oldashow } bind def
    /widthshow { oldwidthshow } bind def
    /awidthshow { oldawidthshow } bind def
    /kshow  { oldkshow } bind def
    } ifelse
  end
} bind def
false PATredef
% Conditionally define setcmykcolor if not available
/setcmykcolor where { pop } {
  /setcmykcolor {
    1 sub 4 1 roll
    3 {
	3 index add neg dup 0 lt { pop 0 } if 3 1 roll
    } repeat
    setrgbcolor - pop
  } bind def
} ifelse
/PATsc {		% colorarray
  aload length		% c1 ... cn length
    dup 1 eq { pop setgray } { 3 eq { setrgbcolor } { setcmykcolor
  } ifelse } ifelse
} bind def
/PATsg {		% dict
  begin
    lw setlinewidth
    lc setlinecap
    lj setlinejoin
    ml setmiterlimit
    ds aload pop setdash
    cc aload pop setrgbcolor
    cm setmatrix
  end
} bind def

/PATDict 3 dict def
/PATsp {
  true PATredef
  PATDict begin
    /CurrentPattern exch def
    % If it's an uncolored pattern, save the color
    CurrentPattern /PaintType get 2 eq {
      /PColor exch def
    } if
    /CColor [ currentrgbcolor ] def
  end
} bind def
% PATstroke - stroke with the current pattern
/PATstroke {
  countdictstack
  save
  mark
  {
    currentpoint strokepath moveto
    PATpcalc				% proc nw nh px py
    clip newpath PATfill
    } stopped {
	(*** PATstroke Warning: Path is too complex, stroking
	  with gray) =
    cleartomark
    restore
    countdictstack exch sub dup 0 gt
	{ { end } repeat } { pop } ifelse
    gsave 0.5 setgray oldstroke grestore
  } { pop restore pop } ifelse
  newpath
} bind def
/PATtcalc {		% modmtx tilingtype PATtcalc tilematrix
  % Note: tiling types 2 and 3 are not supported
  gsave
    exch concat					% tilingtype
    matrix currentmatrix exch			% cmtx tilingtype
    % Tiling type 1 and 3: constant spacing
    2 ne {
	% Distort the pattern so that it occupies
	% an integral number of device pixels
	dup 4 get exch dup 5 get exch		% tx ty cmtx
	XStep 0 dtransform
	round exch round exch			% tx ty cmtx dx.x dx.y
	XStep div exch XStep div exch		% tx ty cmtx a b
	0 YStep dtransform
	round exch round exch			% tx ty cmtx a b dy.x dy.y
	YStep div exch YStep div exch		% tx ty cmtx a b c d
	7 -3 roll astore			% { a b c d tx ty }
    } if
  grestore
} bind def
/PATusp {
  false PATredef
  PATDict begin
    CColor PATsc
  end
} bind def

% this is the pattern fill program from the Second edition Reference Manual
% with changes to call the above pattern fill
% left30
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 16 true [ 32 0 0 -16 0 16 ]
	{<c000c000300030000c000c000300030000c000c000300030
	000c000c00030003c000c000300030000c000c0003000300
	00c000c000300030000c000c00030003>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P1 exch def

% crosshatch30
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 16 true [ 32 0 0 -16 0 16 ]
	{<033003300c0c0c0c30033003c000c000300330030c0c0c0c
	0330033000c000c0033003300c0c0c0c30033003c000c000
	300330030c0c0c0c0330033000c000c0>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P3 exch def

% crosshatch45
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 32 32 true [ 32 0 0 -32 0 32 ]
	{<828282824444444428282828101010102828282844444444
	828282820101010182828282444444442828282810101010
	282828284444444482828282010101018282828244444444
	282828281010101028282828444444448282828201010101
	828282824444444428282828101010102828282844444444
	8282828201010101>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P6 exch def

% vertical lines
11 dict begin
/PaintType 1 def
/PatternType 1 def
/TilingType 1 def
/BBox [0 0 1 1] def
/XStep 1 def
/YStep 1 def
/PatWidth 1 def
/PatHeight 1 def
/Multi 2 def
/PaintData [
  { clippath } bind
  { 8 16 true [ 8 0 0 -16 0 16 ]
	{<11111111111111111111111111111111>}
     imagemask } bind
] def
/PaintProc {
	pop
	exec fill
} def
currentdict
end
/P10 exch def
1.1111 1.1111 scale %restore scale

/cp {closepath} bind def
/ef {eofill} bind def
/gr {grestore} bind def
/gs {gsave} bind def
/sa {save} bind def
/rs {restore} bind def
/l {lineto} bind def
/m {moveto} bind def
/rm {rmoveto} bind def
/n {newpath} bind def
/s {stroke} bind def
/sh {show} bind def
/slc {setlinecap} bind def
/slj {setlinejoin} bind def
/slw {setlinewidth} bind def
/srgb {setrgbcolor} bind def
/rot {rotate} bind def
/sc {scale} bind def
/sd {setdash} bind def
/ff {findfont} bind def
/sf {setfont} bind def
/scf {scalefont} bind def
/sw {stringwidth} bind def
/tr {translate} bind def
/tnt {dup dup currentrgbcolor
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add
  4 -2 roll dup 1 exch sub 3 -1 roll mul add srgb}
  bind def
/shd {dup dup currentrgbcolor 4 -2 roll mul 4 -2 roll mul
  4 -2 roll mul srgb} bind def
 /DrawEllipse {
	/endangle exch def
	/startangle exch def
	/yrad exch def
	/xrad exch def
	/y exch def
	/x exch def
	/savematrix mtrx currentmatrix def
	x y tr xrad yrad sc 0 0 1 startangle endangle arc
	closepath
	savematrix setmatrix
	} def

/$F2psBegin {$F2psDict begin /$F2psEnteredState save def} def
/$F2psEnd {$F2psEnteredState restore end} def
%%EndProlog

$F2psBegin
10 setmiterlimit
n -1000 4975 m -1000 -1000 l 11962 -1000 l 11962 4975 l cp clip
 0.06000 0.06000 sc
% Polyline
7.500 slw
n 3825 1650 m 4425 1650 l 4425 1800 l 3825 1800 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 255.00 110.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 7125 1725 m 7725 1725 l 7725 1875 l 7125 1875 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 475.00 115.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 675 2100 m 1275 2100 l 1275 2250 l 675 2250 l cp gs col7 1.00 shd ef gr gs col0 s gr 
% Polyline
n 675 2100 m 1275 2100 l 1275 2250 l 675 2250 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 45.00 140.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 600 600 m 1200 600 l 1200 750 l 600 750 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 40.00 40.00] PATmp PATsp ef gr PATusp gs col0 s gr 
/Times-Italic ff 180.00 scf sf
8175 2550 m
gs 1 -1 sc (Decide which environment) col0 sh gr
/Times-Italic ff 180.00 scf sf
8175 2760 m
gs 1 -1 sc (to deionise against: unsuitable) col0 sh gr
/Times-Italic ff 180.00 scf sf
8175 2970 m
gs 1 -1 sc (environments generate a) col0 sh gr
/Times-Italic ff 180.00 scf sf
8175 3180 m
gs 1 -1 sc (type error before execution) col0 sh gr
% Polyline
n 8925 375 m 9525 375 l 9525 525 l 8925 525 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 595.00 25.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 9825 1650 m 10425 1650 l 10425 1800 l 9825 1800 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P6 [16 0 0 -16 655.00 110.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 9825 1875 m 10425 1875 l 10425 2025 l 9825 2025 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P10 [8 0 0 -16 655.00 125.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
n 10125 600 m 10725 600 l 10725 750 l 10125 750 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P10 [8 0 0 -16 675.00 40.00] PATmp PATsp ef gr PATusp gs col0 s gr 
% Polyline
 [60] 0 sd
gs  clippath
1095 945 m 1125 825 l 1155 945 l 1155 810 l 1095 810 l cp
clip
n 1125 2100 m 1125 825 l gs col0 s gr gr
 [] 0 sd
% arrowhead
n 1095 945 m 1125 825 l 1155 945 l  col0 s
/Courier ff 180.00 scf sf
3375 3375 m
gs 1 -1 sc (Ion\(O,Env\)) col0 sh gr
/Courier ff 180.00 scf sf
600 3300 m
gs 1 -1 sc (O) col0 sh gr
/Courier ff 180.00 scf sf
1350 2475 m
gs 1 -1 sc (inc\(\)) col0 sh gr
/Courier ff 180.00 scf sf
1350 2775 m
gs 1 -1 sc (print\(\)) col0 sh gr
/Courier ff 180.00 scf sf
2400 2400 m
gs 1 -1 sc (ionise) col0 sh gr
/Courier ff 180.00 scf sf
525 1200 m
gs 1 -1 sc (Env) col0 sh gr
/Courier ff 180.00 scf sf
1275 675 m
gs 1 -1 sc (printint\(\)) col0 sh gr
/Courier ff 180.00 scf sf
7050 750 m
gs 1 -1 sc (deionise) col0 sh gr
/Times-Italic ff 180.00 scf sf
6900 975 m
gs 1 -1 sc (succeeds) col0 sh gr
/Times-Italic ff 180.00 scf sf
8175 1800 m
gs 1 -1 sc (succeeds) col0 sh gr
/Times-Italic ff 180.00 scf sf
9000 1200 m
gs 1 -1 sc (fails) col0 sh gr
% Ellipse
n 3750 2550 375 600 0 360 DrawEllipse gs col-1 s gr

% Polyline
gs  clippath
3720 1470 m 3750 1350 l 3780 1470 l 3780 1335 l 3720 1335 l cp
clip
n 3750 1950 m 3750 1350 l gs col-1 s gr gr

% arrowhead
n 3720 1470 m 3750 1350 l 3780 1470 l  col-1 s
% Polyline
n 3750 2475 m 4350 2475 l 4350 2625 l 3750 2625 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P1 [16 0 0 -8 250.00 165.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 3750 2775 m 4350 2775 l 4350 2925 l 3750 2925 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P3 [16 0 0 -8 250.00 185.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Ellipse
n 7050 2625 375 600 0 360 DrawEllipse gs col-1 s gr

% Polyline
gs  clippath
7020 1545 m 7050 1425 l 7080 1545 l 7080 1410 l 7020 1410 l cp
clip
n 7050 2025 m 7050 1425 l gs col-1 s gr gr

% arrowhead
n 7020 1545 m 7050 1425 l 7080 1545 l  col-1 s
% Polyline
n 7050 2550 m 7650 2550 l 7650 2700 l 7050 2700 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P1 [16 0 0 -8 470.00 170.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 7050 2850 m 7650 2850 l 7650 3000 l 7050 3000 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P3 [16 0 0 -8 470.00 190.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Ellipse
n 675 2475 375 600 0 360 DrawEllipse gs col-1 s gr

% Polyline
n 675 2400 m 1275 2400 l 1275 2550 l 675 2550 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P1 [16 0 0 -8 45.00 160.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Polyline
n 675 2700 m 1275 2700 l 1275 2850 l 675 2850 l cp gs /PC [[1.00 1.00 1.00] [0.00 0.00 0.00]] def
15.00 15.00 sc P3 [16 0 0 -8 45.00 180.00] PATmp PATsp ef gr PATusp gs col-1 s gr 
% Ellipse
n 594 712 231 262 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 8919 487 231 262 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 9819 1837 231 413 0 360 DrawEllipse gs col-1 s gr

% Ellipse
n 10119 712 231 262 0 360 DrawEllipse gs col-1 s gr

% Polyline
60.000 slw
 [60] 0 sd
gs  clippath
3023 2505 m 3172 2550 l 3023 2595 l 3300 2595 l 3300 2505 l cp
clip
n 2175 2550 m 3225 2550 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
30.000 slw
n 3023 2505 m 3172 2550 l 3023 2595 l  col-1 s
% Polyline
7.500 slw
n 150 150 m 5100 150 l 5100 3675 l 150 3675 l cp gs col-1 s gr 
% Polyline
n 6000 150 m 10950 150 l 10950 3675 l 6000 3675 l cp gs col-1 s gr 
% Polyline
60.000 slw
 [60] 0 sd
gs  clippath
6323 2505 m 6472 2550 l 6323 2595 l 6600 2595 l 6600 2505 l cp
clip
n 4650 2550 m 6525 2550 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
30.000 slw
n 6323 2505 m 6472 2550 l 6323 2595 l  col-1 s
% Polyline
60.000 slw
 [60] 0 sd
gs  clippath
9330 1581 m 9473 1643 l 9319 1670 l 9594 1704 l 9605 1614 l cp
clip
n 7050 1350 m 9525 1650 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
30.000 slw
n 9330 1581 m 9473 1643 l 9319 1670 l  col-1 s
% Polyline
60.000 slw
 [60] 0 sd
gs  clippath
9618 818 m 9773 834 l 9635 907 l 9907 855 l 9890 767 l cp
clip
n 7050 1350 m 9825 825 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
30.000 slw
n 9618 818 m 9773 834 l 9635 907 l  col-1 s
% Polyline
60.000 slw
 [60] 0 sd
gs  clippath
8427 511 m 8579 475 l 8472 589 l 8712 452 l 8668 374 l cp
clip
n 7050 1350 m 8625 450 l gs col-1 s gr gr
 [] 0 sd
% arrowhead
30.000 slw
n 8427 511 m 8579 475 l 8472 589 l  col-1 s
/Helvetica ff 180.00 scf sf
4575 3975 m
gs 1 -1 sc (Site A) col-1 sh gr
/Helvetica ff 180.00 scf sf
10425 3975 m
gs 1 -1 sc (Site B) col-1 sh gr
$F2psEnd
rs
end

%%EndDocument
 @endspecial 811 1185 a
 currentpoint currentpoint translate 1 0.42563 div 1 0.42563 div scale
neg exch neg exch translate
 811 1185 a 1473 1359 a Fv(Fig)o(.)11
b(9.)19 b Fw(Ions)h(and)f(migrating)g(agents)648 1657
y Fz(W)-7 b(e)27 b(may)e(contrast)g(the)h(beha)n(viour)e(of)i(ions)g
(against)f(the)h(fully)f(dynamic)f(approach)g(where)523
1756 y(en)m(vironmental)i(access)k(is)g(pro)o(vided)d(by)h(system-wide)
h(objects)g(such)f(as)i(Ja)n(v)n(a')-5 b(s)30 b(use)g(of)e
Fc(ja-)523 1856 y(va.lang.System)p Fz(.)17 b(An)i(incoming)e(object')-5
b(s)18 b(dependence)f(on)h(these)h(objects)g(is)h(poorly)d(cap-)523
1956 y(tured,)24 b(so)i(operations)e(which)h(are)g(kno)n(wn)f(to)i(be)f
(generally)f(disallo)n(wed)h(\(such)g(as)h(\002le)g(access\))523
2055 y(are)c(only)f(caught)g(at)i(run-time.)d(Furthermore)g(some)i(of)g
(the)g(objects)g(may)g(be)g(una)n(v)n(ailable)f(e)n(v)o(en)523
2155 y(though)13 b(the)o(y)i(remain)f(notionally)g(de\002ned)g(\(for)g
(e)o(xample)g(Ja)n(v)n(a')-5 b(s)16 b Fc(System.out)e
Fz(console)g(stream,)523 2255 y(which)20 b(can)g(be)g(a)g(\223black)g
(hole\224\),)f(leading)g(to)h(une)o(xpected)e(beha)n(viour)-5
b(.)648 2359 y(By)23 b(capturing)e(e)o(xplicitly)h(the)h(dependence)d
(which)j(an)g(object)f(has)h(on)g(routines)f(which)g(po-)523
2459 y(tentially)17 b(change)g(across)h(en)m(vironments)c(we)k(pro)o
(vide)e(a)i(hook)e(for)i(impro)o(v)o(ed)d(analysis)i(and)g(con-)523
2558 y(trol.)24 b(One)g(may)-5 b(,)23 b(for)g(e)o(xample,)g(de\002ne)g
(the)h(minimal)g(dependence)d(which)j(an)g(agent)f(has)i(on)e(its)523
2658 y(en)m(vironment)e(as)k(the)f(dependenc)o(y)d(type)i(of)h(the)g
(ion,)g(and)f(then)h(analyse)g(precisely)f(the)h(impact)523
2758 y(of)c(dif)n(ferent)e(security)i(re)o(gimes.)523
3031 y Fb(5.3)82 b(A)n(pplets)523 3221 y Fz(Ja)n(v)n(a)18
b(applets)e(are)i(a)f(common)e(form)h(of)h(mobile)g(code.)f(The)h(main)
f(dif)n(ference)g(between)g(an)h(applet)523 3321 y(and)i(an)h(agent)f
(is)i(that,)f(while)g(agent)f(systems)h(mo)o(v)o(e)f(objects,)g
(applets)h(mo)o(v)o(e)e(classes)j(which)f(are)523 3420
y(instantiated)g(afresh)f(at)i(each)f(site.)648 3525
y(Applets)j(generally)f(run)g(in)i(an)f(en)m(vironment)d(with)j(v)o
(ery)g(restricted)f(disk)i(and)e(netw)o(ork)h(ac-)523
3624 y(cess.)18 b(These)e(restrictions)h(are)g(enforced)d(by)j
(run-time)e(checks)i(inserted)f(manually)g(into)g(all)i(\223sen-)523
3724 y(siti)n(v)o(e\224)i(methods,)f(allo)n(wing)g(a)h(bro)n(wser)f(to)
h(intercept)f(and)h(disallo)n(w)f(calls)i(which)f(might)f(violate)523
3824 y(security)-5 b(.)26 b(F)o(or)h(man)o(y)f(systems)i(the)f
(restrictions)g(will)h(simply)f(disallo)n(w)g(all)h(accesses)g(to)g
(some)523 3923 y(methods)21 b(by)h(applets,)g(thro)n(wing)f(a)i
(security)e(e)o(xception)g(if)h(the)h(method)e(is)i(called.)f(This)h
(simple)523 4023 y(form)17 b(of)g(security)g(is)i(basically)e(a)h
(type-checking)d(problem,)h(since)i(a)g(call)g(to)g(such)f(a)h(method)f
(will)523 4123 y Fs(always)j Fz(f)o(ail.)648 4227 y(W)-7
b(e)23 b(may)g(model)f(this)h(situation)f(using)h(an)f(ionised)g
(class.)i(Rather)f(than)f(treat)h(the)g(applet)f(as)523
4327 y(a)28 b(fully-\003edged)c(class)k(\226)g(implying)d(that)i(its)i
(e)o(x)o(ecution)c(en)m(vironment)f(is)k(the)f(same)g(as)h(that)f(in)
523 4426 y(which)e(it)i(w)o(as)g(de\002ned)e(\226)h(we)g(instead)g
(ionise)f(the)h(applet)g(class)h(before)d(transporting)g(it)i(to)g(the)
523 4526 y(client-side.)19 b(The)g(ionised)g(applet)g(class)i(is)g
(then)e(deionised)f(against)h(an)h(en)m(vironment)c(including)523
4625 y(e)o(xactly)24 b(those)h(methods)f(which)h(the)g(applet)g(is)h
(allo)n(wed)f(to)g(call.)g(If)g(the)h(applet)e(requires)g(more)523
4725 y(methods)31 b(then)h(this)i(en)m(vironment)29 b(will)k(not)f
(completely)f(satisfy)i(its)h(dependenc)o(y)29 b(type)j(and)523
4825 y(the)24 b(deionisation)f(operation)g(will)i(f)o(ail)g(before)e
(the)h(applet)g(is)h(e)o(x)o(ecuted.)d(This)j(pre)n(v)o(ents)e(partial)
523 4924 y(completions)c(whose)h(consequences)e(may)h(range)h(from)f
(anno)o(ying)f(to)i(catestrophic.)p eop
%%Page: 12 12
12 11 bop 648 448 a Fz(This)26 b(e)o(xample)f(illustrates)h(the)g(use)h
(of)e(ionic)h(types)g(to)g(capture,)f(within)h(the)g(type)g(system,)523
548 y(what)d(are)g(ef)n(fecti)n(v)o(ely)e(load-time)h(link)g(errors.)g
(It)h(pro)o(vides)f(a)h(useful)f(e)o(xtra)g(\223sanity)h(check\224)f
(for)523 648 y(all)f(dynamically)d(loaded)h(classes,)i(not)f(just)h
(applets.)523 899 y Fb(5.4)82 b(Delegation)523 1067 y
Fz(Dele)o(gation)21 b(is)j(often)f(seen)g(as)h(an)f(alternati)n(v)o(e)e
(to)j(inheritance)d(when)i(b)n(uilding)e(object-oriented)523
1166 y(programs.)e(In)h(inheritance,)f(the)i(methods)f(of)h(an)f
(object)h(are)g(composed)e(by)h(adding)g(ne)n(w)g(mem-)523
1266 y(bers)i(to)h(an)g(already-e)o(xisting)c(class,)24
b(which)d(is)j(then)e(instantiated.)g(In)g(dele)o(gation,)e(some)i(of)g
(the)523 1365 y(methods)17 b(of)h(one)g(object)g(are)g(passed-of)n(f)f
(to)h(be)h(handled)d(by)i(another)f(object.)h(Dele)o(gation)e(there-)
523 1465 y(fore)f(in)m(v)n(olv)o(es)g(tw)o(o)i(objects)f(rather)f(than)
h(one.)f(In)h(most)g(mainstream)g(object-oriented)d(languages)523
1565 y(dele)o(gation)22 b(is)j(treated)e(as)i(a)g(design)e(pattern)g
(rather)h(than)f(as)i(a)g(basic)f(language)e(construct,)h(and)523
1664 y(must)d(be)g(constructed)f Fs(ad)h(hoc)f Fz(by)h(each)g
(application)p Fs(.)648 1764 y Fz(The)g(simplest)i(case)f(is)h(where)f
(a)g(child)g(object)g(dele)o(gates)f(to)h(a)g(parent)f(without)h(af)n
(fecting)e(its)523 1864 y(beha)n(viour)g(\226)h(adding)f(methods)h(b)n
(ut)h(not)f(o)o(v)o(erriding)e(an)o(y)-5 b(.)19 b(W)-7
b(e)22 b(de\002ne)e(an)g(ion)h Fp(i)f Fz(whose)h(underly-)523
1964 y(ing)e(type)f(include)g(all)i(the)f(a)n(v)n(ailable)f(methods)g
(and)g(whose)h(dependenc)o(y)d(type)i(contains)g(the)h(sig-)523
2063 y(natures)i(of)g(the)h(methods)e(to)i(be)f(dele)o(gated.)f(W)-7
b(e)23 b(then)e(deionise)f(against)h(the)h(object)f Fp(d)h
Fz(to)g(which)523 2163 y(those)d(methods)f(should)g(be)h(dele)o(gated.)
e(The)i(f)o(act)g(that)g Fp(d)h Fz(is)g(self-contained)d(in)j
Fp(deionise)p Fk(\()p Fp(i;)14 b(d)p Fk(\))k Fz(\226)523
2263 y(so)24 b(the)f(methods)f(of)h Fp(d)h Fz(remain)e(unaf)n(fected)g
(by)g(the)i(addition)e(of)h Fp(i)g Fz(\226)g(means)g(that)h(it)g(is)g
(perfectly)523 2362 y(safe)29 b(to)g(dele)o(gate)e(se)n(v)o(eral)h
(ions)h(\(potentially)e(with)i(dif)n(ferent)e(underlying)f(types)i(or)g
(e)o(xtended)523 2462 y(implementations\))18 b(to)i(the)g(same)h
(object.)648 2562 y(Ions)31 b(are)g(not)g(a)h(complete)f(replacement)e
(for)i(general)g(dele)o(gation,)e(ho)n(we)n(v)o(er)-5
b(.)30 b(A)i(general)523 2661 y(dele)o(gation)18 b(system)i(allo)n(ws)g
(the)f(child)h(object)f(to)h(o)o(v)o(erride)e(methods)g(in)i(the)g
(parent.)f(If)g(there)h(are)523 2761 y(multiple)g(children,)e(the)i
(parent)f(must)i(select)f(the)g(method)f(de\002nition)g(from)g(the)i
(child)e(on)h(which)523 2861 y(the)g(in)m(v)n(ocation)e(originated)g
(\226)i(the)g(so-called)g(\223self)g(problem\224[13].)c(Ions)k(e)o
(xplicitly)f(outla)o(w)g(this)523 2960 y(form)k(of)h(beha)n(vioural)d
(modi\002cation)i(\226)h(the)g(child')-5 b(s)24 b(methods)f(cannot)f(o)
o(v)o(erride)g(the)i(parent')-5 b(s)23 b(\226)523 3060
y(so)e(ion-based)d(dele)o(gation)g(is)j(only)f(applicable)f(when)g
Fs(e)n(xtending)g Fz(the)h(parent')-5 b(s)20 b(functionality)-5
b(.)648 3160 y(Dele)o(gation)28 b(is)j(particularly)d(important)g(in)i
(distrib)n(uted)f(systems,)h(where)g(an)g(object)f(may)523
3260 y(wish)19 b(to)g(e)o(xtend)e(the)i(functionality)e(of)h(another)f
(object)i(on)f(a)h(remote)f(serv)o(er)-5 b(.)18 b(Distrib)n(uted)g
(object)523 3359 y(systems)j(such)f(as)h(CORB)m(A)i(or)d(RMI)h
(generate)e(\223stub\224)h(objects)g(to)h(act)g(as)g(local)f
(representati)n(v)o(es)523 3459 y(of)g(remote)f(services.)h(Both)g
(inheritance)f(and)g(dele)o(gation)f(are)i(problematic)e(in)j(these)f
(situations,)523 3558 y(as)32 b(the)f(client)h(may)e(attempt)h(to)h(o)o
(v)o(erride)d(some)i(of)g(the)g(serv)o(er')-5 b(s)31
b(functionality)e(without)h(the)523 3658 y(serv)o(er)22
b(being)g(noti\002ed.)g(This)i(means)e(that,)h(while)g(calls)h(to)f
(the)h(client)f(will)g(use)h(the)f(o)o(v)o(erridden)523
3758 y(method,)c(embedded)f(calls)j(within)e(the)i(serv)o(er)e(will)i
(use)f(the)h(original)e(implementation.)648 3858 y(Ions)f(may)h(be)g
(used)g(to)g(pro)o(vide)e(\223wrapper\224)g(objects)i(around)f(the)h
(stub)g(without)f(introducing)523 3957 y(these)i(problems.)e(The)i
(client)g(constructs)f(an)h(ion)g(with)g(the)g(added)f(functionality)f
(and)h(deionises)523 4057 y(it)30 b(against)f(the)h(stub)m(.)f(The)g
(semantics)g(of)h(ions)f(means)g(that)h(the)g(serv)o(er')-5
b(s)29 b(beha)n(viour)e(remains)523 4157 y(unchanged,)19
b(so)j(the)f(resulting)g(object)g(beha)n(v)o(es)g(e)o(xactly)g(as)h(e)o
(xpected)e(if)i(the)g(object)f(were)h(local)523 4256
y(instead)g(of)f(being)g(represented)f(by)i(a)g(stub)m(.)f(This)h(mak)o
(es)g(it)g(tri)n(vially)g(easy)g(for)f(a)h(local)g(object)f(to)523
4356 y(dele)o(gate)e(some)h(of)g(its)h(functionality)d(to)i(a)h(remote)
e(object)h(with)g(no)g(\223surprises\224.)523 4624 y
Ft(6)99 b(Ionic)25 b(types)h(in)f(J)o(a)n(v)o(a)523 4825
y Fz(Ho)n(w)j(might)f(one)g(add)h(ionic)f(types)h(to)g(Ja)n(v)n(a?)g
(There)f(are)h(se)n(v)o(eral)f(possible)h(solutions,)f(and)g(in)523
4924 y(this)20 b(section)g(we)g(sk)o(etch)g(perhaps)f(the)h(simplest)g
(approach)d(which)j(e)o(xtends)f(Ja)n(v)n(a)h(minimally)f(\(in)p
eop
%%Page: 13 13
13 12 bop 523 448 a Fz(terms)23 b(of)g(syntax,)g(semantics)g(and)g
(\223feel\224\))g(to)g(pro)o(vide)f(ionic)h(constructs.)f(The)h
(presentation)f(is)523 548 y(informal,)e(our)h(intention)g(being)g(to)h
(indicate)g(the)g(feasibility)f(of)h(pro)o(viding)d(ions)j(in)g(Ja)n(v)
n(a)g(rather)523 648 y(than)i(to)g(fully)g(formalise)f(and)g(e)o(xtend)
g(Ja)n(v)n(a')-5 b(s)25 b(type)f(system)g(\226)g(a)h(task)f(already)f
(well)i(performed)523 747 y(by)20 b(others[8].)648 850
y(Ja)n(v)n(a')-5 b(s)18 b(designers)e(ha)n(v)o(e)h(consistently)g
(maintained)f(the)i(signi\002cance)e(of)h(the)h(names)f(gi)n(v)o(en)f
(to)523 949 y(classes)i(and)f(interf)o(aces,)f(as)i(well)f(as)h(their)f
(structure.)e(This)j(suggests)e(a)i(model)e(of)h(ions)g(where)f(we)523
1049 y(use)k(interf)o(aces)g(to)g(indicate)g(allo)n(wed)f(ionisation)g
(boundaries.)f(This)j(respects)f(Ja)n(v)n(a')-5 b(s)20
b(insistence)523 1149 y(that)29 b(all)h(class)h(and)d(objects)h(types)h
(are)f(named,)f(which)h(is)h(a)f(little)i(more)d(restricti)n(v)o(e)h
(than)f(the)523 1248 y(arbitrary)f(ionisation)h(allo)n(wed)h(by)f(our)g
(presentation)f(so)j(f)o(ar)-5 b(.)29 b(It)g(turns)f(out)h(that)g(this)
g(decision)523 1348 y(also)21 b(has)f(a)h(slight)f(impact)g(on)f(the)i
(de\002nition)e(of)h(deionisation.)648 1451 y(Consider)14
b(a)i(Ja)n(v)n(a)f(declaration)f Fc(class)49 b(A)g(implements)f(D)i({)g
(...)f(})16 b Fz(together)d(with)523 1550 y(an)23 b(instance)f
Fc(a)p Fz(.)h(W)-7 b(e)24 b(may)f(ionise)f Fc(a)i Fz(at)f(the)g
Fc(D)g Fz(interf)o(ace)f(boundary)e(to)j(construct)f(an)g(ion)h
Fc(i)g Fz(ha)n(v-)523 1650 y(ing)g(an)g(e)o(xtended)e(Ja)n(v)n(a)j
(type)e Fc(ion)50 b(A)f(at)h(D)23 b Fz(corresponding)d(informally)h(to)
j(our)e Fp(O)r(b)3130 1662 y Fy(1)p Fo(<)p Fy(:)3262
1650 y Fz(type)523 1750 y Fp(I)7 b(on)p Fk(\()p Fp(A;)14
b(D)r Fk(\))k Fz(and)e(represented)f(as)i(a)g(clone)f(of)g
Fc(a)h Fz(with)g(the)f(methods)g(from)f Fc(D)i Fz(abstracted.)e(W)-7
b(e)18 b(may)523 1849 y(then)23 b(deionise)f Fc(i)i Fz(against)e(an)h
(object)g Fc(b)h Fz(of)f(class)h Fc(B)f Fz(implementing)e(interf)o(ace)
i Fc(D)g Fz(in)h(the)f(e)o(xpect-)523 1949 y(ed)h(w)o(ay)-5
b(.)24 b(Operationally)f(this)h(dele)o(gates)g(the)g
Fc(D)p Fz(-declared)f(methods)g(of)h Fc(i)h Fz(to)f Fc(b)p
Fz(.)h(The)f(de\002nition)523 2048 y(of)e Fc(class)49
b(A)23 b Fz(may)g(include)e(other)h(interf)o(aces)g(as)h(well)h(as)f
Fc(D)p Fz(,)g(which)f(should)g(be)g(preserv)o(ed)f(by)523
2148 y(ionisation.)648 2251 y(What)j(is)h(the)e(type)h(of)f(the)h
(deionised)f(object?)g(According)f(to)i(our)f(rules)h(it)g(e)o(xtends)f
Fc(A)h Fz(with)523 2350 y(the)g(methods)f(of)g Fc(B)i
Fz(\226)f(b)n(ut)g(this)g(type)g(is)g(no)o(v)o(el,)f(synthetic)g(and)g
(without)h(a)g(name,)f(meaning)f(that)523 2450 y(it)i(cannot)f(be)g(e)o
(xpressed)f(in)i(a)g(Ja)n(v)n(a)f(program.)e(Ho)n(we)n(v)o(er)m(,)h(we)
i Fs(can)e Fz(guarantee)g(that)i(it)g(is)g(a)g(le)o(gal)523
2550 y(instance)c(of)g Fc(A)p Fz(,)g Fc(B)h Fz(or)f Fc(D)p
Fz(,)g(which)g(is)h(suf)n(\002cient)e(to)i(allo)n(w)f(it)h(to)f(be)g
(used.)664 2804 y Fa(class)44 b(A)h(implements)e(D)i({)f(...)h(})664
2896 y(class)f(B)h(implements)e(D)i({)f(...)h(})664 2987
y(A)g(a)g(=)f(new)g(A\(\);)134 b(B)45 b(b)g(=)f(new)h(B\(\);)664
3078 y(ion)g(A)f(at)h(D)f(i)h(=)g(ionise)e(a)i(at)g(D;)664
3170 y(A)g(aprime)f(=)g(deionise)g(i)g(against)g(b;)1529
3427 y Fv(Fig)o(.)12 b(10.)19 b Fw(Ionising)h(Ja)o(v)n(a)f(objects)648
3726 y Fz(An)i(ion)h(class)h(is)g(declared)d(by)i(pro)o(viding)d(the)j
(de\002nition)e(of)i(its)h(methods)e(assuming)g(that)h(it)523
3825 y(implements)d(the)h(methods)f(of)g(the)h(interf)o(ace)f(along)g
(which)g(it)i(is)g(ionised.)e(Creating)g(an)h(instance)523
3925 y(of)k(this)h(class)h(constructs)d(an)i(ion,)f(which)g(may)g(then)
g(be)g(deionised)f(to)i(form)e(an)i(object)f(\(\002gure)523
4025 y(11,)i(top\).)f(Ionised)g(classes)i(are)g(a)f(bit)h(more)e
(subtle,)h(as)h(the)o(y)f(ef)n(fecti)n(v)o(ely)e(allo)n(w)i(run-time)f
(ma-)523 4124 y(nipulation)h(of)g(the)i(class)g(hierarchy)-5
b(.)24 b(W)-7 b(e)28 b(introduce)e(a)h(ne)n(w)g(Ja)n(v)n(a)h(type)f
Fc(ion)49 b(class)g(A)g(at)523 4224 y(D)26 b Fz(representing)d(a)j
(class)g Fc(A)g Fz(with)f(methods)g(declared)f(in)h Fc(D)h
Fz(abstracted,)e(creating)h(such)g(objects)523 4324 y(using)18
b Fc(ionise)48 b(class)h(A)h(at)f(D)19 b Fz(and)e(allo)n(wing)g(them)h
(to)g(be)g(passed)g(around)e(and)i(resolv)o(ed)523 4423
y(\(\002gure)24 b(11,)h(bottom\).)e(V)-5 b(isibility)25
b(modi\002ers)g(beha)n(v)o(e)f(as)h(e)o(xpected:)f(a)h
Fc(private)g Fz(modi\002er)f(on)523 4523 y(the)f(base)g(pre)n(v)o(ents)
e(an)h(ion)h(depending)d(on)i(that)h(method,)e(and)h(so)h(forth.)f
(Composition)f(of)h(con-)523 4622 y(structors)e(is)h(similarly)f
(well-beha)n(v)o(ed.)648 4725 y(Ho)n(w)30 b(do)h(these)f(constructs)g
(support)g(Ja)n(v)n(a-based)f(mobile)h(code)g(systems?)i(W)-7
b(e)31 b(need)f(the)523 4825 y(ionic)e(operations)g(to)h(preserv)o(e)e
(special)i(interf)o(aces)f(such)g(as)i Fc(java.io.Serializable)p
Fz(,)523 4924 y(so)d(that)g(the)g(ion)f(is)i(serialisable)e(if)h(the)g
(object)f(is.)i(Similarly)e(we)h(w)o(ant)g(ionised)f(classes)i(to)f(be)
p eop
%%Page: 14 14
14 13 bop 664 413 a Fa(class)44 b(ion)g(A)h(at)g(D)f({)h(...)f(})664
504 y(ion)h(A)f(at)h(D)f(a)h(=)g(new)f(A\(\);)664 679
y(ion)h(class)e(A)i(at)g(D)f(Aprime)g(=)h(ionise)f(class)g(A)g(at)h(D;)
664 770 y(A)g(a)g(=)f(new)g(\(deionise)g(Aprime)g(against)f(class)h
(B\)\(\);)1385 1027 y Fv(Fig)o(.)12 b(11.)19 b Fw(Ion)g(and)h(ionised)f
(classes)h(in)e(Ja)o(v)n(a)523 1322 y Fz(serialisable)27
b(so)h(that)f(the)o(y)g(may)g(be)g(passed)g(between)g(machines.)f(This)
h(is)h(possible)f(in)h(Ja)n(v)n(a)f(\226)523 1422 y(outside)h(the)g
(type)g(system!)g(\226)g(using)g Fc(Class)g Fz(objects)g(and)f(the)h
(re\003ection)g(API,)g(so)h(the)f(ionic)523 1521 y(operations)23
b(may)h(be)g(re)o(garded)e(simply)i(as)h(gi)n(ving)e(a)h(typed)g(basis)
h(to)f(e)o(xisting)g(lo)n(w-le)n(v)o(el)f(func-)523 1621
y(tionality)-5 b(.)648 1724 y(This)23 b(sk)o(etch)h(of)f(ions)h(in)f
(Ja)n(v)n(a)h(remains)f(incomplete,)f(lea)n(ving)h(a)h(number)e(of)h
(thorn)o(y)f(issues)523 1824 y(ine)n(vitable)27 b(when)h(trying)f(to)i
(inte)o(grate)e(a)h(ne)n(w)g(construct)g(into)g(an)g(e)o(xisting)g
(language)e(\226)i(most)523 1924 y(notably)j(the)i(impact)f(of)g
(threads,)f(class)j(loaders,)d(and)h(the)h(handling)d(of)j(interf)o
(aces)f(such)g(as)523 2023 y Fc(java.io.Externalizable)19
b Fz(which)j(could)f(generate)g(subtle)i(errors)e(if)i(applied)e(to)i
(ions.)523 2123 y(W)-7 b(e)29 b(hope)f(we)g(ha)n(v)o(e)g(indicated)f
(the)h(ions)g(lie)h(suf)n(\002ciently)e(close)h(to)h(modern)d(practice)
i(to)g(be)g(a)523 2223 y(viable)20 b(proposition.)523
2507 y Ft(7)99 b(Related)26 b(w)o(ork)523 2725 y Fz(The)d(ability)g(to)
h(add)f(functionality)e(uniformly)g(to)j(the)g(bottom)e(of)h(a)h(class)
g(hierarchy)e(\226)h(usually)523 2825 y(referred)d(to)j(as)g
Fs(mixin-based)g Fz(inheritance)d(\226)i(has)h(been)e(studied)h(e)o
(xtensi)n(v)o(ely)-5 b(,)20 b Fs(e)o(.g)o(.)h Fz([4][9].)f(Mix-)523
2924 y(ins)k(arose)f(within)h(a)g(dynamic)e(typing)g(re)o(gime,)g(and)i
(ha)n(v)o(e)f(been)f(e)o(xtended)g(with)i(static)g(checks.)523
3024 y(Ionised)32 b(classes)h(of)n(fer)e(essentially)i(the)g(same)f
(functionality)f(as)i(mixins,)f(and)g(are)g(statically)523
3124 y(type-safe)24 b(in)g(en)m(vironments)e(where)i(all)i(classes)f
(are)g(elaborated)e(at)i(compile-time.)e(The)h(more)523
3223 y(general)16 b(ionic)g(types)h(of)n(fer)f(more)g(dynamism)f(with)i
(a)h(small)f(and)f(controlled)g(loss)h(of)g(type)f(safety)-5
b(.)648 3327 y(The)19 b(problem)f(of)h(name)g(capture)f(and)h(o)o(v)o
(erriding)e(discussed)i(in)h(section)f(3)h(can)f(be)h(resolv)o(ed)523
3426 y(in)j(se)n(v)o(eral)g(dif)n(ferent)f(w)o(ays.)h(Dele)o
(gation-based)d(languages)i(generally)g(allo)n(w)h(the)g(child)g
(object)523 3526 y(to)d(o)o(v)o(erride)d(methods)h(in)h(the)h(parent,)e
(changing)f(its)k(beha)n(viour)-5 b(.)17 b(\(An)i(ele)o(gant)f
(solution)h(to)g(name)523 3625 y(capture)25 b(along)h(dif)n(ferent)e
(sub-typing)g(paths)i(in)h(this)g(conte)o(xt)e(is)i(gi)n(v)o(en)e(by)h
(Kniesel[12].\))e(The)523 3725 y(Beta)j(language[14])22
b(prohibits)j(simple)h(o)o(v)o(erriding)d(b)n(ut)j(allo)n(ws)h(a)f
(child)g(method)e(to)j(be)f(called)523 3825 y(within)17
b(the)g(parent)f(method.)f(Neither)h(approach)f(ef)n(fecti)n(v)o(ely)g
(addresses)i(untrusted)e(do)n(wnloaded)523 3924 y(code)20
b(or)f(transparent)g(dele)o(gation)f(to)i(remote)g(objects.)648
4028 y(Man)o(y)h(groups)h(are)h(w)o(orking)e(to)n(w)o(ards)i(the)g
(design)f(and)g(implementation)f(of)h(mobile)h(agen-)523
4127 y(t)28 b(systems)g(\226)g(a)g(good)e(re)n(vie)n(w)h(may)g(be)g
(found)f(in)i([11].)e(Most)h(of)h(this)g(w)o(ork)f(has)g(focussed)g(on)
523 4227 y(mechanisms)e(for)h(migration)e(\()p Fs(e)o(.g)o(.)h
Fz([10]\))f(and)i(on)f(traditional)g(authorisation)g(and)g(v)o
(eri\002cation)523 4327 y(approaches)19 b(such)h(as)h(digital)g
(signatures,)e(assuming)h(that)h(an)f(agent')-5 b(s)21
b(en)m(vironment)c(is)22 b(in)f(some)523 4426 y(senses)e(the)f(same)g
(across)h(hosts.)f(T)m(reating)f(en)m(vironmental)e(changes)i(as)i(a)g
(phenomenon)14 b(in)19 b(their)523 4526 y(o)n(wn)h(right)f(pro)o(vides)
f(a)j(dif)n(ferent)d(\226)i(and)g(in)g(some)g(w)o(ays)g(more)f(\003e)o
(xible)h(\226)g(vie)n(w)g(of)g(these)g(issues,)523 4625
y(allo)n(wing)e(them)g(to)h(be)g(treated)f(more)h(uniformly)d(within)j
(a)g(type)f(frame)n(w)o(ork.)f(Another)g(substan-)523
4725 y(tial)26 b(body)f(of)g(w)o(ork)h(has)g(addressed)e(lo)n(w-le)n(v)
o(el)h(aspects)h(of)f(mobile)g(systems)i(such)e(as)i(channel)523
4825 y(usage[16])22 b(and)h(encrypted)f(transport)g(protocols[3])g
(using)h(type)g(systems.)h(These)g(ef)n(forts)f(may)523
4924 y(be)d(seen)g(as)h(part)f(of)g(a)h(trend)e(which)h(replaces)f
Fs(ad)h(hoc)g Fz(checks)g(with)g(richer)f(type)h(checking.)p
eop
%%Page: 15 15
15 14 bop 648 448 a Fz(The)34 b(ambient)g(calculus)h(of)g(Cardelli)g
(and)f(Gordon[6])e(is)k(a)g(particularly)d(interesting)h(e-)523
548 y(mer)o(ging)23 b(formalism)g(for)h(mobility)-5 b(.)23
b(An)i(ambient)f(encapsulates)g(a)h(set)h(of)e(processes)h(and)f(sub-)
523 648 y(ambients)30 b(into)g(a)g(package)f(which)h(may)f(migrate)h
(through)e(a)i(hierarchy)e(according)g(to)j(some)523
747 y(simple)20 b(rules.)f(T)-7 b(w)o(o)20 b(type)f(frame)n(w)o(orks)f
(ha)n(v)o(e)h(been)g(de)n(v)o(eloped)e(on)j(top)f(of)g(the)h(original)e
(untyped)523 847 y(system:)k(a)g(con)m(v)o(entional)c(system)j
(controlling)f(the)h(types)g(of)h(communications[7])17
b(and)k(a)h(no)o(v)o(el)523 946 y(system)k(of)g(\223mobility)f
(types\224[5])g(pro)o(viding)f(type-le)n(v)o(el)g(control)h(o)o(v)o(er)
g(ho)n(w)h(an)g(ambient)f(may)523 1046 y(mo)o(v)o(e)e(about)h(the)g
(system.)h(W)-7 b(e)26 b(speculate)e(that)g(communication)e(types)i
(are)h(closely)f(related)g(to)523 1146 y(ions,)19 b(in)g(the)f(sense)i
(that)f(an)f(ion)h(represented)e(as)i(an)g(ambient)f(might)g(add)g(ne)n
(w)h(communications)523 1245 y(\(method)e(calls\))j(if)f(opened)e
(within)i(another)f(conte)o(xt.)f(This)i(is)h(a)g(possible)e(area)h
(for)g(future)e(w)o(ork.)648 1355 y(W)-7 b(ork)24 b(on)g(design)g
(patterns)g(of)n(fers)f(a)i(great)f(man)o(y)f(useful)h(approaches)f(to)
h(designing)f(com-)523 1454 y(ple)o(x)17 b(systems.)h(It)g(is)g
(interesting)f(to)h(note)f(that)g(man)o(y)g(patterns)g(simply)g(pro)o
(vide)f(mechanisms)g(for)523 1554 y(controlling)k(beha)n(vioural)g
(updates)i(and)g(indirections)f(\226)h(issues)h(which)f(may)g(in)g(man)
o(y)f(cases)j(be)523 1654 y(addressed)h(type-safely)f(using)h(ions.)h
(This)g(addresses)f(a)i(major)e(criticism)h(of)f(design)g(patterns,)523
1753 y(that)g(the)o(y)g(add)g(layers)g(of)g(comple)o(xity)e(to)j
(applications)e(without)g(pro)o(viding)f(additional)h(layers)523
1853 y(of)c(checking.)523 2167 y Ft(8)99 b(Conclusion)523
2414 y Fz(W)-7 b(e)18 b(ha)n(v)o(e)d(described)g(a)i(minimal)f(model)g
(of)g(ionic)g(types)g(and)g(sho)n(wn)f(ho)n(w)h(the)o(y)g(can)g(model)g
(some)523 2514 y(otherwise)28 b(problematic)f(issues)i(in)g(systems)g
(with)g(dynamic)e(code)h(completion.)f(W)-7 b(e)29 b(sho)n(wed)523
2614 y(some)d(applications)f(of)g(the)h(technique)f(to)h(mobile)f
(code,)g(simple)h(security)f(checking,)f(dele)o(ga-)523
2713 y(tion)29 b(and)f(method)g(update.)g(The)h(uniform)e(treatment)h
(pro)o(vides)f(suitable)i(type)g(guarantees)e(to)523
2813 y(man)o(y)21 b(aspects)i(usually)f(addressed)f(using)h(design)f
(patterns)h(or)g(fully)g(dynamic)f(type-checking.)523
2912 y(W)-7 b(e)31 b(brie\003y)f(sk)o(etched)f(an)h(incomplete)f
(embedding)e(of)j(ions)g(into)g(Ja)n(v)n(a,)g(suggesting)f(that)h(the)
523 3012 y(concepts)19 b(could)h(easily)g(be)g(rei\002ed)g(in)g(a)h
(practical)f(programming)c(language.)648 3121 y(Existing)25
b(models)h(of)g(object-oriented)e(systems)j(are)f(designed)f(with)h(a)h
(static,)g(monolithic)523 3221 y(system)j(in)g(mind.)f(W)m(ith)i
(distrib)n(uted)e(systems,)h(mobile)f(code)g(and)h(polic)o
(y-controlled)c(access)523 3321 y(becoming)18 b(more)h(commonplace,)d
(these)k(models)f(are)h(no)f(longer)g(suf)n(\002ciently)g(po)n(werful)e
(to)j(rep-)523 3420 y(resent)k(all)h(the)f(desirable)g(beha)n(viours.)e
(The)i(main)g(contrib)n(ution)e(of)i(this)h(w)o(ork)f(is)h(to)g(pro)o
(vide)d(a)523 3520 y(simple)g(model)f(for)g(structured)f(beha)n
(vioural)g(change)g(which)h(accurately)g(re\003ects)h(the)f(capabili-)
523 3620 y(ties,)h(limitations)g(and)f(threats)h(observ)o(ed)d(in)j
(the)g(emer)o(ging)d(generation)h(of)i(systems)g(and)f(which)523
3719 y(allo)n(ws)f(static)h(and)f(dynamic)f(modi\002cations)g(to)h(be)g
(treated)g(uniformly)-5 b(.)648 3828 y(T)e(ype)24 b(checking)f(e)n(v)n
(olv)o(ed)g(as)j(a)f(w)o(ay)g(of)g(a)n(v)n(oiding)e(as)j(man)o(y)e
(run-time)f(\223sanity)i(checks\224)f(as)523 3928 y(possible.)19
b(As)h(application)e(domains)g(become)h(more)f(comple)o(x)g(it)i
(becomes)e(vital)i(to)g(encompass)523 4028 y(additional)25
b(properties)g(within)h(the)g(type)f(system,)i(a)n(v)n(oiding)d(as)j(f)
o(ar)f(as)h(possible)f(an)g(e)o(xplosion)523 4127 y(in)i(a)n(v)n
(oidable)e(run-time)g(checks)h(\(and,)f(by)h(implication,)f(a)n(v)n
(oidable)g(run-time)g(f)o(ailures\).)g(Ne)n(w)523 4227
y(v)o(ersions)i(of)h(Ja)n(v)n(a,)g(for)f(e)o(xample,)f(will)j(allo)n(w)
f(applications)e(to)j(de\002ne)e(security)g(domains)g(for)523
4327 y(incoming)22 b(code,)g(meaning)g(that)i(the)f(beha)n(viour)f(of)h
(a)h(migrating)e(object)h(may)g(be)g(radically)g(af-)523
4426 y(fected)f(as)i(it)f(changes)f(domains[1].)e(One)j(may)f(use)h
(ions)f(to)h(model)f(the)h(static)g(e)o(xclusions)f(nec-)523
4526 y(essary)g(for)g(a)g(polic)o(y)-5 b(,)21 b(highlighting)f(those)i
(methods)f(which)g(need)h(conte)o(xt-sensiti)n(v)o(e)e(handling.)523
4625 y(This)g(can)h(suggest)e(dif)n(ferent)g(design)h(approaches,)e
(for)h(e)o(xample)g(separating)g(potentially)g(sensi-)523
4725 y(ti)n(v)o(e)g(functions)f(which)h(manipulate)e(\002les)k(from)d
(their)h(more)f(general)h(counterparts.)e(W)-7 b(e)20
b(are)f(also)523 4825 y(e)o(xploring)g(re\002nements)h(by)h(which)g
(the)g(dependenc)o(y)e(type)h(of)h(an)h(ionic)f(type)g(can)g(be)g(e)o
(xpanded)523 4924 y(and)f(reduced)e(piecemeal,)h(to)i(pro)o(vide)d
(\002ner)n(-grained)g(control)h(o)o(v)o(er)f(ion)i(dependencies.)p
eop
%%Page: 16 16
16 15 bop 648 448 a Fz(A)20 b(number)e(of)h(implementations)f(of)i
(ions)f(are)h(possible,)f(and)g(we)h(ha)n(v)o(e)g(sk)o(etched)f(a)h
(restrict-)523 548 y(ed)26 b(model)f(close)i(to)f(the)g(spirit)h(of)f
(Ja)n(v)n(a.)g(W)-7 b(e)27 b(are)f(e)o(xploring)e(other)h(models)h
(using)g(the)g(V)-9 b(anilla)523 648 y(language)17 b(toolkit[)p
Fb(?)p Fz(])g(with)i(a)g(vie)n(w)g(to)g(determining)e(the)i(e)o(xtent)f
(to)h(which)f(ions)h(pro)o(vide)e(a)i(wide-)523 747 y(ly)27
b(applicable)e(orthogonal)g(type)h(construction)f(to)i(be)f(inte)o
(grated)f(into)i(languages)e(for)h(mobile)523 847 y(computing.)g(W)-7
b(e)29 b(are)f(also)h(interested)f(in)g(the)g(interaction)f(of)h(ions)h
(with)f(nati)n(v)o(e)f(compilation,)523 946 y(especially)18
b(systems)i(such)e(as)i(Harissa[15])e(which)g(are)h(able)f(to)h(handle)
f(dynamic)f(class)j(loading.)523 1212 y Ft(Refer)n(ences)560
1403 y Fw(1.)42 b(Secure)203 b(computing)h(with)e(Ja)o(v)n(a:)h(no)n(w)
h(and)f(the)g(future.)658 1494 y(http://www)-5 b(.ja)o(v)n
(asoft.com/mark)o(eting/collateral/security)g(.html,)19
b(1998.)560 1586 y(2.)42 b(Mart\355n)19 b(Abadi)g(and)h(Luca)f
(Cardelli.)26 b Fu(A)19 b(theory)g(of)g(objects)p Fw(.)27
b(Springer)19 b(V)-8 b(erlag,)19 b(1996.)560 1677 y(3.)42
b(Mart\355n)21 b(Abadi)g(and)g(Andre)n(w)h(Gordon.)33
b(Secrec)o(y)21 b(by)h(typing)f(in)g(security)g(protocols.)33
b(In)21 b Fu(Theor)m(etical)658 1768 y(aspects)f(of)e(computer)i
(science)p Fw(,)g(v)o(olume)f(1243,)h(pages)g(59\22673.)g(Springer)o
(-V)-8 b(erlag,)18 b(1997.)560 1860 y(4.)42 b(Gilad)35
b(Bracha)h(and)g(W)m(illiam)e(Cook.)81 b(Mixin-based)37
b(inheritance.)80 b(In)36 b Fu(Pr)m(oceedings)g(of)f(OOP-)658
1951 y(SLA/ECOO'90)p Fw(,)18 b(1990.)560 2042 y(5.)42
b(Luca)19 b(Cardelli,)f(Gior)o(gio)h(Ghelli,)g(and)g(Andre)n(w)h
(Gordon.)28 b(Mobility)20 b(types)f(for)g(mobile)h(ambients.)28
b(In)658 2134 y Fu(Pr)m(oceedings)20 b(of)f(the)g(International)h
(Confer)m(ence)g(on)f(Alg)o(ebr)o(aic)h(and)g(Lo)o(gic)f(Pr)m(o)o(gr)o
(amming)p Fw(,)g(1999.)560 2225 y(6.)42 b(Luca)18 b(Cardelli)f(and)i
(Andre)n(w)f(Gordon.)25 b(Mobile)19 b(ambients.)25 b(In)17
b(Maurice)i(Ni)n(v)n(at,)e(editor)m(,)h Fu(F)-8 b(oundations)658
2316 y(of)19 b(softwar)m(e)g(science)h(and)f(computational)i(structur)m
(es)p Fw(,)e(v)o(olume)h(1378.)f(Springer)g(V)-8 b(erlag,)19
b(1998.)560 2408 y(7.)42 b(Luca)21 b(Cardelli)f(and)h(Andre)n(w)g
(Gordon.)34 b(T)-6 b(ypes)21 b(for)f(mobile)h(ambients.)33
b(In)20 b Fu(Pr)m(oceedings)i(of)e(the)h(26th)658 2499
y(A)n(CM)d(Symposium)i(on)g(Principles)e(of)h(Pr)m(o)o(gr)o(amming)h
(Langua)o(g)o(es)p Fw(,)h(pages)f(79\22692,)g(1999.)560
2590 y(8.)42 b(Sophia)31 b(Drossopoulou,)h(Susan)f(Eisenbach,)g(and)g
(Sarfraz)f(Khurshid.)64 b(Is)30 b(the)h(Ja)o(v)n(a)f(type)h(system)658
2682 y(sound?)e Fu(Theory)19 b(and)h(pr)o(actice)f(of)g(object)g
(systems)p Fw(,)g(5\(1\):3\22624,)h(1999.)560 2773 y(9.)42
b(Matthe)n(w)30 b(Flatt,)e(Shriram)h(Krishnamurthi,)h(and)h(Matthias)f
(Felleisen.)60 b(Classes)30 b(and)g(mixins.)62 b(In)658
2864 y Fu(Pr)m(oceedings)20 b(of)f(POPL)m('98)p Fw(,)f(pages)h
(171\226183.)i(A)m(CM)e(Press,)f(1998.)523 2956 y(10.)42
b(Eric)26 b(Jul,)h(Henry)h(Le)n(vy)-5 b(,)27 b(Neil)f(Hutchinson,)i
(and)g(Andre)n(w)g(Black.)53 b(Fine-grained)28 b(mobility)f(in)g(the)
658 3047 y(Emerald)19 b(system.)27 b Fu(A)n(CM)18 b(T)l(r)o(ansactions)
i(on)f(Computer)h(Systems)p Fw(,)f(6\(1\):109\226133,)i(1988.)523
3138 y(11.)42 b(Neeran)28 b(Karnik)g(and)g(Anand)h(T)m(ripathi.)55
b(Design)28 b(issues)g(in)g(mobile-agent)h(programming.)56
b Fu(IEEE)658 3230 y(Concurr)m(ency)p Fw(,)21 b(6\(3\),)d(1998.)523
3321 y(12.)42 b(G\374nther)22 b(Kniesel.)33 b(T)-6 b(ype-safe)22
b(dele)o(gation)g(for)f(run-time)g(component)i(adaptation.)35
b(In)21 b Fu(Pr)m(oceedings)658 3412 y(of)e(ECOOP'99)p
Fw(,)f(pages)i(351\226366.)g(Springer)o(-V)-8 b(erlag,)19
b(1999.)523 3504 y(13.)42 b(Henry)30 b(Lieberman.)63
b(Using)31 b(prototypical)g(objects)f(to)g(implement)h(shared)f(beha)o
(viour)h(in)f(object-)658 3595 y(oriented)19 b(systems.)28
b(In)19 b Fu(Pr)m(oceedings)g(of)g(OOPSLA)m('86)p Fw(,)g(1986.)523
3686 y(14.)42 b(Ole)18 b(Lehrmann)h(Madsen,)g(Bir)o(ger)f(Moller)o
(-Pedersen,)g(and)h(Kristen)f(Nygaard.)26 b Fu(Object-oriented)20
b(pr)m(o-)658 3778 y(gr)o(amming)g(in)e(the)h(BET)l(A)f(pr)m(o)o(gr)o
(amming)i(langua)o(g)o(e)p Fw(.)30 b(Addison-W)-6 b(esle)o(y)h(,)19
b(1993.)523 3869 y(15.)42 b(Gilles)21 b(Muller)g(and)i(Ulrik)e(P)o(agh)
g(Schultz.)36 b(Harissa:)21 b(a)g(hybrid)h(approach)i(to)d(Ja)o(v)n(a)h
(e)o(x)o(ecution.)36 b Fu(IEEE)658 3960 y(Softwar)m(e)p
Fw(,)19 b(16\(2\):44\22651,)i(1999.)523 4051 y(16.)42
b(Benjamin)16 b(Pierce)f(and)i(Da)o(vide)f(Sangior)o(gi.)k(T)-6
b(yping)16 b(and)g(subtyping)i(for)d(mobile)i(processes.)k(In)15
b Fu(Lo)o(gic)658 4143 y(in)k(Computer)g(Science)p Fw(,)h(1993.)p
eop
%%Trailer
end
userdict /end-hook known{end-hook}if
%%EOF
